

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tak.plt_</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon-umich.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/my_theme.css" type="text/css" />
  

  

  
    <link rel="top" title="" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Coding Notebook
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents (PySpark)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pyspark/top-edx.html">EdX - Data Science and Engineering with Spark</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs105_lab0.html">cs105_lab0 - Running Your First Notebook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab0.html#create-dataframe-and-filter-it">Create DataFrame and filter it</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab0.html#load-a-text-file">Load a text file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab0.html#check-plotting">Check plotting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs105_lab1a.html">cs105_lab1a - Learning Apache Spark</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#spark-context">Spark Context</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#sparkcontext-and-the-driver-program-cluster-structure">SparkContext and the Driver Program (Cluster Structure)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#about-the-driver-program">About the Driver Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#about-hivecontext-the-type-of-sqlcontext-for-db">About HiveContext (the type of sqlContext for DB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#sparkcontext">SparkContext</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#using-dataframes-and-chaining-transformations">Using DataFrames and chaining transformations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#dataframe-and-schema">DataFrame and Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#ways-to-define-schemas">Ways to define schemas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#distributed-data-and-using-a-collection-to-create-a-dataframe">Distributed Data and using a collection to create a DataFrame</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#query-plans-and-the-catalyst-optimizer">Query plans and the <code class="docutils literal"><span class="pre">Catalyst</span> <span class="pre">Optimizer</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html">cs105_lab1a codes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#exercise-overview">Exercise Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#create-list-of-data">Create list of Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#create-dataframe-from-a-list">Create DataFrame from a list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#subtract-one-from-each-the-age-row">Subtract one from each the <em>age</em> row</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#apply-transformations-and-examine-query-plan">Apply transformations, and examine query plan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#use-collect-to-view-results">Use <code class="docutils literal"><span class="pre">collect</span></code> to view results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#display-helper-function-in-db">display helper function in DB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#more-actions-count-to-get-total">More actions: <code class="docutils literal"><span class="pre">count</span></code> to get total</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#apply-transformation-filter-and-view-results-with-collect">Apply transformation <code class="docutils literal"><span class="pre">filter</span></code> and view results with <code class="docutils literal"><span class="pre">collect</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#lambda-functions-and-udfs">Lambda functions and UDFs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#additional-dataframe-actions">Additional DataFrame actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#additional-dataframe-transformations">Additional DataFrame transformations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#orderby">orderBy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#a-distinct-and-dropduplicates">A <code class="docutils literal"><span class="pre">distinct</span></code> and <code class="docutils literal"><span class="pre">dropDuplicates</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#drop">drop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#groupby">groupBy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#sample">sample</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#caching-dataframes-and-storage-options">Caching DataFrames and Storage Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#unpersist-and-storage-options">Unpersist and storage options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#debugging-spark-applications-and-lazy-evaluation">Debugging Spark applications and lazy evaluation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#jvm-and-py4j-how-python-is-executed-in-spark">JVM and Py4J - How Python is Executed in Spark</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#challenges-with-lazy-evaluation-using-transformations-and-actions">Challenges with lazy evaluation using transformations and actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#finding-the-bug">Finding the bug</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#moving-toward-expert-style">Moving toward expert style</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs105_lab1b.html">cs105_lab1b - Building a word count application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#create-a-base-df-and-perform-operations">Create a base DF and perform operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#create-a-base-df">Create a base DF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#use-df-functions-to-add-an-s">Use DF functions to add an &#8216;s&#8217;</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#length-of-each-word">Length of each word</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#counting-with-spark-sql-and-dataframes">Counting with Spark SQL and DataFrames</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#using-groupby-and-count">Using groupBy and count</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#finding-unique-words-and-a-mean-value">Finding unique words and a mean value</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#unique-words">Unique words</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#means-of-groups-using-dataframes">Means of groups using DataFrames</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#apply-word-count-to-a-file">Apply word count to a file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#the-wordcount-function">The wordCount function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#capitalization-and-punctuation">Capitalization and punctuation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#load-a-text-file">Load a text file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#words-from-lines">Words from lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#count-the-words">Count the words</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#random-stuffs-i-played-around-with">Random stuffs I played around with</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs105_lab2.html">cs105_lab2 - Web Server Log Analysis with Apache Spark</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab2.html#part1-overview-web-server-log-analysis-with-apache-spark">Part1: Overview: Web Server Log Analysis with Apache Spark</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#modules-used-in-this-assignment">Modules used in this assignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#dataset-used">Dataset used</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab2.html#part2-exploratory-data-analysis">Part2: Exploratory Data Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#a-loading-the-log-file">2a) loading the log file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#b-parsing-the-log-file">2b) Parsing the log file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#c-data-cleaning">2c) Data Cleaning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#fix-the-rows-with-null-content-size">Fix the rows with null content_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#parsing-the-timestamp">Parsing the timestamp</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab2.html#part3-analysis-walk-through-on-the-web-server-log-file">Part3: Analysis Walk-Through on the Web Server Log File</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#a-example-content-size-statistics">3a) Example: Content Size Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#b-example-http-status-analysis">3b) Example: HTTP Status Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#c-example-status-graphing">3c) Example: Status Graphing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#d-example-frequent-hosts">3d) Example: Frequent Hosts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#e-example-visualizing-paths">3e) Example: Visualizing Paths</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#f-example-top-paths">3f) Example: Top Paths</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab2.html#part-4-analyzing-web-server-log-file">Part 4: Analyzing Web Server Log File</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#a-exercise-top-ten-error-paths-hw">4a) Exercise: Top Ten Error Paths (HW)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#b-exercise-number-of-unique-hosts-hw">4b) Exercise: Number of Unique Hosts (HW)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#c-exercise-number-of-unique-daily-hosts">4c) Exercise: Number of Unique Daily Hosts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#d-exercise-visualizing-the-number-of-unique-daily-hosts">4d) Exercise: Visualizing the Number of Unique Daily Hosts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#e-exercise-average-number-of-daily-requests-per-host">4e) Exercise: Average Number of Daily Requests per Host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#f-exercise-visualizing-the-average-daily-requests-per-unique-host">4f) Exercise: Visualizing the Average Daily Requests per Unique Host</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs110_lab1.html">cs110 - Power Plant Machine Learning Pipeline Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part1-business-understanding">Part1: Business Understanding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#background-power-generation">Background &#8212; power generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#challenge-for-power-grid-operation">Challenge for power grid operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#the-business-problem">The business problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#business-understanding">Business Understanding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part2-extract-transform-load-etl-your-data">Part2: Extract-Transform-Load (ETL) Your Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-2a">Exercise 2a</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-2b">Exercise 2b</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-2-alternative-method-to-load-your-data">Part 2: Alternative Method to Load your Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-2c">Exercise 2c</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-2d">Exercise 2d</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-3-explore-your-data">Part 3: Explore Your Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#a-register-the-dataframe-to-use-sql-commands">3a - <strong>register</strong> the DataFrame (to use sql commands)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#b-read-data-using-sql-command-databricks-only">3b - read data using <code class="docutils literal"><span class="pre">%sql</span></code> command (DataBricks only)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#c-use-sql-desc-command-to-describe-the-schema">3c - use SQL <code class="docutils literal"><span class="pre">desc</span></code> command to describe the schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#dataframe-describe-method">DataFrame <code class="docutils literal"><span class="pre">describe</span></code> method</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-4-visualize-your-data">Part 4: Visualize your data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-4a">Exercise 4a</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-4b-hw">Exercise 4b (hw)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-4c-hw">Exercise 4c (hw)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-4d-hw">Exercise 4d (hw)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-5-data-preparation">Part 5: Data Preparation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-5-a">Exercise 5(a)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-6-data-modeling">Part 6: Data Modeling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-6-a-hw">Exercise 6(a) (hw)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#b-build-linear-regression-model">6(b) - build Linear Regression Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#c-set-model-parameters-and-fit-linear-regression-model">6(c) - set model parameters, and fit linear regression model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#d-study-the-fitted-lr-model">6(d) &#8212; study the fitted LR model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#e-evalute-model-on-the-20-test-set">6(e) evalute model on the 20% test-set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#f-quantify-performance-using-regressionevaluator">6(f) &#8211; quantify performance using <code class="docutils literal"><span class="pre">RegressionEvaluator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#g-use-r2-this-time">6(g) use R2 this time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#h-register-our-test-dataframe-as-sql-table">6(h) Register our test DataFrame as SQL table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#i-sql-statement-on-the-sql-table-registered-from-our-test-dataframe">6(i) SQL statement on the SQL table registered from our test DataFrame</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#j-plot-histogram-of-rmse">6(j) Plot histogram of RMSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#k-plot-pie-chart">6(k) Plot pie chart</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-7-tuning-and-evaluation">Part 7: Tuning and Evaluation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#a-run-cross-validation-tuning">7(a) Run Cross Validation Tuning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-b-evaluate-tuned-lr-model-hw">Exercise 7(b) &#8211; Evaluate tuned LR model (hw)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-c-decisiontreeregressor">Exercise 7(c) DecisionTreeRegressor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-d">Exercise 7(d)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-e-evaluate-dtr-performance">Exercise 7(e) &#8212; evaluate DTR performance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-f-random-forest-regressor">Exercise 7(f) (Random Forest Regressor)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-g-cross-validation">Exercise 7(g) (cross validation)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-h-model-evaluation">Exercise 7(h) (model evaluation)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs110_lab2.html">cs110 - Predicting Movie Ratings with Alternating Least Squares</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab2.html#preliminaries">Preliminaries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#the-20-million-movie-sample">The 20-million movie sample</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#cpu-vs-io-tradeoff">CPU vs IO Tradeoff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#load-and-cache">Load and Cache</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab2.html#basic-recommendations">Basic Recommendations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-1a-movies-with-highest-average-ratings">Exercise (1a) Movies with Highest Average Ratings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-1b-movies-with-highest-average-ratings-and-at-least-500-reviews">Exercise (1b) Movies with Highest Average Ratings and at least 500 reviews</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab2.html#collaborative-filtering">Collaborative Filtering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-2a-creating-a-training-set">Exercise (2a) Creating a Training Set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-2b-alternating-least-squares">Exercise (2b) Alternating Least Squares</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#why-are-we-doing-our-own-cross-validation">Why are we doing our own cross-validation?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#excersie-2c-testing-your-model">Excersie (2c) Testing Your Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-2d-comparing-your-model">Exercise (2d) Comparing Your Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab2.html#predictions-for-yourself">Predictions for Yourself</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3a-your-movie-ratings">Exercise (3a) Your Movie Ratings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3b-add-your-movies-to-training-dataset">Exercise (3b) Add Your Movies to Training Dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3c-train-a-model-with-your-ratings">Exercise (3c) Train a Model with Your Ratings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3d-check-rmse-for-the-new-model-with-your-ratings">Exercise (3d) Check RMSE for the New Model with Your Ratings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3e-predict-your-ratings">Exercise (3e) Predict Your Ratings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3f-predict-your-ratings">Exercise (3f) Predict Your Ratings</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs110_lab3b.html">cs110 - Text Analysis and Entity Resolution with TF-IDF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#preliminaries">Preliminaries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#background-on-er">Background on ER</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#data-files">Data files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#load-data-files">Load data files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#examine-the-lines-loaded">Examine the lines loaded</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#part1-er-as-text-similarity-bags-of-words">Part1: ER as Text Similarity - Bags of Words</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#a-tokenize-a-string">1a) Tokenize a String</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#b-removing-stopwords">1b) removing stopwords</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#c-tokenizing-the-small-datasets">1c) Tokenizing the small datasets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#d-amazon-record-with-the-most-tokens">1d) Amazon record with the most tokens</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#part2-er-as-text-similarity-weighted-bag-of-words-using-tf-idf">Part2: ER as Text Similarity - Weighted Bag-of-Words using TF-IDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#a-implement-a-tf-function">2a) Implement a TF function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#b-create-a-corpus">2b) Create a corpus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#c-implement-an-idfs-function">2c) Implement an IDFs function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#d-tokens-with-the-smallest-idf">2d) Tokens with the smallest IDF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#e-idf-histogram">2e) IDF Histogram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#f-implement-a-tf-idf-function">2f) Implement a TF-IDF function</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#part-3-er-as-text-similarity-cosine-similarity">Part 3: ER as Text Similarity &#8212; Cosine Similarity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#a-implement-the-components-of-a-cosinesimilarity-function">3a) Implement the components of a cosineSimilarity function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#b-implement-a-cosinesimilarity-function">3b) Implement a cosineSimilarity function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#c-perform-entity-resolution">3c) Perform Entity Resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#d-perform-entity-resolution-with-broadcast-variables">3d) Perform Entity Resolution with Broadcast Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#e-perform-a-gold-standard-evaluation">3e) Perform a Gold Standard evaluation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#using-the-gold-standard-data-we-can-answer-the-following-questions">Using the &#8220;gold standard&#8221; data we can answer the following questions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#part-4-scalable-er">Part 4: Scalable ER</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#inverted-indices">Inverted Indices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#a-tokenize-the-full-dataset">4a) Tokenize the full dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#b-compute-idfs-and-tf-idfs-for-the-full-datasets">4b) Compute IDFs and TF-IDFs for the full datasets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#c-compute-norms-for-the-weights-from-the-full-datasets">4c) Compute Norms for the weights from the full datasets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#d-create-inverted-indices-from-the-full-datasets">4d) Create inverted indices from the full datasets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#e-identify-common-tokens-from-the-full-dataset">4e) Identify common tokens from the full dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#f-identify-common-tokens-from-the-full-dataset">4f) Identify common tokens from the full dataset</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#part-5-analysis">Part 5: Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#a-counting-true-positives-false-positives-and-false-negatives">5a) Counting True Positives, False Positives, and False Negatives</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#b-precision-recall-and-f-measures">5b Precision, Recall, and F-measures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#c-line-plots">5c Line Plots</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#discussion-of-results">Discussion of results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs120_lab1a.html">cs120 Lab - Math_review</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#math-review">Math review</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-1a-scalar-multiplication-vectors">Exercise (1a) Scalar multiplication: vectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-1b-element-wise-multiplication-vectors">Exercise (1b) Element-wise multiplication: vectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-1c-dot-product">Exercise (1c) Dot product</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-1d-matrix-multiplication">Exercise (1d) Matrix multiplication</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#numpy">NumPy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-2a-scalar-multiplication">Exercise (2a) Scalar multiplication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-2b-element-wise-multiplication-and-dot-product">Exercise (2b) Element-wise multiplication and dot product</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-2c-matrix-math">Exercise (2c) Matrix math</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#additional-numpy-and-spark-linear-algebra">Additional NumPy and Spark linear algebra</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-3a-slices">Exercise (3a) Slices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-3b-combining-ndarray-objects">Exercise (3b) Combining ndarray objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-3c-pyspark-s-densevector">Exercise (3c) PySpark&#8217;s DenseVector</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#python-lambda-expressions">Python lambda expressions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4a-lambda-is-an-anonymous-function">Exercise (4a) Lambda is an anonymous function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4b-lambda-fewer-steps-than-def">Exercise (4b) lambda fewer steps than def</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4c-lambda-expression-arguments">Exercise (4c) Lambda expression arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4d-restrictions-on-lambda-expressions">Exercise (4d) Restrictions on lambda expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4e-functional-programming">Exercise (4e) Functional programming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4f-composability">Exercise (4f) Composability</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs120_lab1b.html">cs120 - Word Count Lab in RDD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#part-1-creating-a-base-rdd-and-pair-rdds">Part 1: Creating a base RDD and pair RDDs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#b-pluralize-and-test">1b) Pluralize and test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#c-apply-makeplural-to-the-base-rdd">1c) Apply makePlural to the base RDD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#d-pass-a-lambda-function-to-map">1d) Pass a lambda function to map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#e-length-of-each-word">1e) Length of each word</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#f-pair-rdds">1f) Pair RDDs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#part-2-counting-with-pair-rdds">Part 2: Counting with pair RDDs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#a-groupbykey-approach">2a) <code class="docutils literal"><span class="pre">groupByKey()</span></code> approach</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#b-use-groupbykey-to-obtain-the-counts">2b) Use <code class="docutils literal"><span class="pre">groupByKey()</span></code> to obtain the counts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#c-counting-using-reducebykey">2c) Counting using <code class="docutils literal"><span class="pre">reduceByKey</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#d-all-together">2d) All together</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#part-3-finding-unique-words-and-a-mean-value">Part 3: Finding unique words and a mean value</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#a-unique-words">3a) Unique words</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#b-mean-using-reduce">3b) Mean using <code class="docutils literal"><span class="pre">reduce</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#part-4-apply-word-count-to-a-file">Part 4: Apply word count to a file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#a-wordcount-function">4a) <code class="docutils literal"><span class="pre">wordCount</span></code> function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#b-capitalization-and-punctuation">4b) Capitalization and punctuation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#c-load-a-text-file">4c) Load a text file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#d-words-from-lines">4d) Words from lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#e-remove-empty-elements">4e) Remove empty elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#f-count-the-words">4f) Count the words</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs120_lab2.html">cs120 - Linear Regression with DataFrames</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab2.html#part-1-read-and-parse-the-initial-dataset">Part 1: Read and parse the initial dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#a-load-and-check-the-data">1a) Load and check the data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#b-using-labeledpoint">1b) Using LabeledPoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-1-features">Visualization 1: Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#c-find-the-range">1c) Find the range</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#d-shift-labels">1d) Shift labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-2-shifting-labels">Visualization 2: Shifting labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#e-training-validation-and-test-sets">1e) Training, validation, and test sets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab2.html#part-2-create-and-evaluate-a-baseline-model">Part 2: Create and evaluate a baseline model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#a-average-label">2a) Average label</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#b-root-mean-squared-error">2b) Root mean squared error</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#c-training-validation-and-test-rmse">2c) Training, validation and test RMSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-3-predicted-vs-actual">Visualization 3: Predicted vs. actual</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab2.html#part-3-train-via-gradient-descent-and-evaluate-a-linear-regression-model">Part 3: Train (via gradient descent) and evaluate a linear regression model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#a-gradient-summand">3a) Gradient summand</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#b-use-weights-to-make-predictions">3b) Use weights to make predictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#c-gradient-descent">3c) Gradient descent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#d-train-the-model">3d) Train the model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-4-training-error">Visualization 4: Training error</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab2.html#part-4-train-using-sparkml-and-perform-grid-search">Part 4: Train using SparkML and perform grid search</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#a-linearregression">4a) LinearRegression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#b-transform">4b) Transform</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#c-evaluate-rmse">4c) Evaluate RMSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#d-grid-search">4d) Grid search</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-5-best-model-s-predictions">Visualization 5: Best model&#8217;s predictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-6-hyperparameter-heat-map">Visualization 6: Hyperparameter heat map</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab2.html#part-5-add-interactions-between-features">Part 5: Add interactions between features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#a-add-2-way-interactions">5a) Add 2-way interactions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#b-build-interaction-model">5b) Build interaction model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#c-evaluate-interaction-model-on-test-data">5c) Evaluate interaction model on test data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#d-use-a-pipeline-to-create-the-interaction-model">5d) Use a pipeline to create the interaction model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs120_lab3.html">cs120_lab3_ctr_df</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs120_lab4.html">cs120 - PCA on Neuroscience Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab4.html#work-through-the-steps-of-pca-on-a-sample-dataset">Work through the steps of PCA on a sample dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-1-two-dimensional-gaussians">Visualization 1: Two-dimensional Gaussians</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#a-interpreting-pca">1a) Interpreting PCA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#b-sample-covariance-matrix">1b) Sample covariance matrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#c-covariance-function">1c) Covariance Function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#d-eigendecomposition">1d) Eigendecomposition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#e-pca-scores">1e) PCA scores</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab4.html#write-a-pca-function-and-evaluate-pca-on-sample-datasets">Write a PCA function and evaluate PCA on sample datasets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#a-pca-function">2a) PCA function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#b-pca-on-data-random">2b) PCA on data_random</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-2-pca-projection">Visualization 2: PCA projection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-3-three-dimensional-data">Visualization 3: Three-dimensional data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#c-3d-to-2d">2c) 3D to 2D</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-4-2d-representation-of-3d-data">Visualization 4: 2D representation of 3D data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#d-variance-explained">2d) Variance explained</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab4.html#parse-inspect-and-preprocess-neuroscience-data-then-perform-pca">Parse, inspect, and preprocess neuroscience data then perform PCA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#a-load-neuroscience-data">3a) Load neuroscience data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#b-parse-the-data">3b) Parse the data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#c-min-and-max-fluorescence">3c) Min and max fluorescence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-5-pixel-intensity">Visualization 5: Pixel intensity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#d-fractional-signal-change">3d) Fractional signal change</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-6-normalized-data">Visualization 6: Normalized data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#e-pca-on-the-scaled-data">3e) PCA on the scaled data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-7-top-two-components-as-images">Visualization 7: Top two components as images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-8-top-two-components-as-one-image">Visualization 8: Top two components as one image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab4.html#feature-based-aggregation-and-pca">Feature-based aggregation and PCA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#a-aggregation-using-arrays">(4a) Aggregation using arrays</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#b-recreate-with-np-tile-and-np-eye">(4b) Recreate with np.tile and np.eye</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#c-recreate-with-np-kron">(4c) Recreate with np.kron</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#d-aggregate-by-time">(4d) Aggregate by time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#e-obtain-a-compact-representation">(4e) Obtain a compact representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-9-top-two-components-by-time">Visualization 9: Top two components by time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#f-aggregate-by-direction">(4f) Aggregate by direction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#g-compact-representation-of-direction-data">(4g) Compact representation of direction data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-10-top-two-components-by-direction">Visualization 10: Top two components by direction</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../pyspark/top-pyspark.html">PySpark Notes (<code class="docutils literal"><span class="pre">top-pyspark.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-snippet.html">1 <code class="docutils literal"><span class="pre">pyspark-snippet.rst</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#data-from-application-examples-on-db-workspace">1.1 Data from <em>Application Examples</em> on DB Workspace</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#list-out-datasets-important">1.1.1 List out datasets (Important)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#create-sample-json-file">1.1.2 Create sample JSON file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#tables">1.1.3 Tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#random-data-io">1.1.4 Random data-io</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#diamonds">1.1.5 Diamonds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#february-2015-english-wikipedia-clickstream-data">1.1.6 February 2015 English Wikipedia Clickstream data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#dbf">1.2 DBF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#modules">1.3 Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#spark-notebook-helpers-library-for-databricks">1.4 spark_notebook_helpers library for Databricks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#create-toy-dataset">1.5 Create toy dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#print-rdd-per-item">1.6 Print RDD per item</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#databrick-helper-function-displaying-all-dfs-in-the-notebook">1.7 Databrick helper function displaying all DFs in the notebook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#get-shape-of-df-gotta-be-a-better-way">1.8 Get shape of DF (gotta be a better way)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#random-snippets">1.9 Random snippets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#print-dataframes-in-my-workspace-super-ad-hoc">1.9.1 print dataframes in my workspace (super-ad-hoc)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#rename-column">1.9.2 Rename column</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#dbutils">1.10 dbutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#random-from-spark-essentials-spark-summit-2016">1.11 Random from Spark Essentials (Spark Summit 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#spark-for-data-scientists">1.12 Spark for Data Scientists</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#tax-data">1.12.1 Tax Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#farmer-s-market-data">1.12.2 Farmer&#8217;s market data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#run-some-sql-create-tables">1.12.3 Run some sql, create tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#cache-table-in-sql-or-sqlcontext">1.12.4 cache table in SQL or sqlContext</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-practice.html">2 <code class="docutils literal"><span class="pre">pyspark-practice.rst</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#basics-dfs">2.1 Basics DFs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#udfs">2.2 UDFs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#sorting">2.3 Sorting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#create-df-from-list-of-tuples">2.4 Create DF from list of tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#groupby">2.5 groupby</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#practice-with-faker-data">2.6 Practice with faker data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-practice.html#little-refrehser-on-generators">2.6.1 Little refrehser on generators</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#register-table-to-use-sql">2.7 Register table to use SQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#more">2.8 More</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-overflow.html">3 <code class="docutils literal"><span class="pre">pyspark-overflow.rst</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#how-to-get-a-value-from-the-row-object-in-spark-dataframe">3.1 How to get a value from the Row object in Spark Dataframe?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#how-to-add-a-constant-column-in-a-spark-dataframe">3.2 How to add a constant column in a Spark DataFrame?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#add-an-empty-column-to-spark-dataframe">3.3 Add an empty column to Spark DataFrame</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#count-number-of-non-nan-entries-in-each-column-of-spark-dataframe">3.4 Count number of non-NaN entries in each column of Spark dataframe</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#use-simple-aggregation">3.4.1 Use simple aggregation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#use-sql-null-semantics">3.4.2 Use SQL <code class="docutils literal"><span class="pre">NULL</span></code> semantics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#in-fractions">3.4.3 In fractions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#updating-a-dataframe-column-in-spark">3.5 Updating a dataframe column in spark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#how-do-i-add-a-new-column-to-spark-data-frame-pyspark">3.6 How do I add a new column to spark data frame (Pyspark)?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#use-literals-lit">3.6.1 Use literals <code class="docutils literal"><span class="pre">lit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#transforming-an-existing-column">3.6.2 Transforming an existing column</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#using-join">3.6.3 Using <code class="docutils literal"><span class="pre">join</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#using-function-udf">3.6.4 Using function/UDF</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#how-to-change-dataframe-column-names-in-pyspark">3.7 How to change dataframe column names in pyspark?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#option-1-using-selectexpr">3.7.1 Option 1. Using selectExpr.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#option-2-using-withcolumnrenamed">3.7.2 Option 2. Using <code class="docutils literal"><span class="pre">withColumnRenamed</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#using-alias">3.7.3 Using alias</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#using-sqlcontext-sql">3.7.4 Using <code class="docutils literal"><span class="pre">sqlContext.sql</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#pyspark-dataframes-way-to-enumerate-without-converting-to-pandas">3.8 PySpark DataFrames - way to enumerate without converting to Pandas?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#dividing-two-columns-from-a-different-df">3.9 Dividing two columns from a different DF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#ones-i-just-bookmarked-for-future-reference">3.10 Ones I just bookmarked for future reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#reshaping-pivoting-data-in-spark-rdd-and-or-spark-dataframes">3.10.1 Reshaping/Pivoting data in Spark RDD and/or Spark DataFrames</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html">4 Spark Programming Guide DataFrames (<code class="docutils literal"><span class="pre">apache-prog-guide-df</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#overview">4.1 Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#sql">4.1.1 SQL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#datasets-and-dataframes">4.1.2 Datasets and DataFrames</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#getting-started">4.2 Getting Started</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#starting-point-sparksession">4.2.1 Starting Point: <code class="docutils literal"><span class="pre">SparkSession</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#creating-dataframes">4.2.2 Creating DataFrames</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#untyped-dataset-operations-aka-dataframe-operations">4.2.3 Untyped Dataset Operations (aka DataFrame Operations)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#running-sql-queries-programmatically">4.2.4 Running SQL Queries Programmatically</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#creating-datasets-only-in-scala-java">4.2.5 Creating Datasets (only in Scala/Java)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#interoperating-with-rdds">4.2.6 Interoperating with RDDs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#data-sources">4.3 Data Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#generic-load-functions">4.4 Generic Load Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#default-parquet">4.4.1 Default (parquet)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#manually-specifying-options">4.4.2 Manually Specifying Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#run-sql-on-files-directly">4.4.3 Run SQL on files directly</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#generic-save-functions">4.5 Generic Save Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#save-modes">4.5.1 Save Modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#saving-to-persistent-tables">4.5.2 __Saving to Persistent Tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#parquet-files">4.6 Parquet Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#loading-data-programmatically">4.6.1 Loading Data Programmatically</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#partition-discovery">4.6.2 __Partition Discovery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#schema-merging">4.6.3 Schema Merging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#hive-metastore-parquet-conversion">4.6.4 __Hive metastore Parquet Conversion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#configuration">4.6.5 Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#json-datasets">4.7 JSON Datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#hive-tables">4.8 Hive Tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#interacting-with-different-versions-of-hive-metastore">4.8.1 __Interacting with Different Versions of Hive Metastore</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#jdbc-to-other-databases">4.9 __JDBC To Other Databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#performance-tuning">4.10 Performance Tuning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#caching-data-in-memory">4.10.1 Caching Data in Memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#other-configuration-options">4.10.2 Other Configuration Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#distributed-sql-engine">4.11 Distributed SQL Engine</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#running-the-thrift-jdbc-odbc-server">4.11.1 __Running the Thrift JDBC/ODBC server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#running-the-spark-sql-cli">4.11.2 Running the Spark SQL CLI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#reference">4.12 Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#data-types">4.12.1 Data-Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#nan-semantics">4.12.2 NaN Semantics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/databricks.html">5 Databrick Doc (<code class="docutils literal"><span class="pre">databricks.rst</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/databricks.html#ml-stuffs">5.1 ML Stuffs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/databricks.html#bunch-of-notebooks">5.2 Bunch of notebooks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../pyspark/pyspark-local.html">PySpark on AWS (<code class="docutils literal"><span class="pre">pyspark-local</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-local.html#setting-up-aws-and-pyspark">Setting up AWS and PySpark</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#create-iam-user-key">Create IAM user key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#create-admin-group-and-user">Create admin group and user</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#setup-an-s3-bucket">Setup an S3 Bucket</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#create-wordcount-script-to-submit">Create wordcount script to submit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#create-emr-cluster">Create EMR cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#run-spark-application-on-emr">Run Spark application on EMR</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-local.html#setup-pyspark-in-ipython-profile">Setup pyspark in ipython profile</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#finally-worked">Finally worked!</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#wrong-java-version">Wrong java version?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#pyspark-options-giving-errors">pyspark options giving errors...</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#update-scala">Update scala?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#rough-drafts">rough drafts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-local.html#failed-windows-try">Failed Windows Try</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#windows">windows?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#retry-above-is-a-disaster">Retry, above is a disaster</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../pyspark/apache-ml-guide.html">MLLib - Main guide (<code class="docutils literal"><span class="pre">apache-ml-guide.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html">1 Pipeline-old (<code class="docutils literal"><span class="pre">pipeline-old</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#main-concepts-in-pipelines">1.1 Main concepts in Pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#dataframe">1.2 DataFrame</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#pipeline-components">1.3 Pipeline components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#transformers">1.3.1 Transformers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#estimators">1.3.2 Estimators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#properties-of-pipeline-components">1.3.3 Properties of pipeline components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#pipeline-transformers-and-estimators">1.4 Pipeline (transformers and estimators)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#how-it-works">1.4.1 How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#details">1.4.2 Details</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#parameters">1.5 Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#saving-and-loading-pipelines">1.6 Saving and Loading Pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#code-examples">1.7 Code Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#estimator-transformer-and-param">1.7.1 Estimator, Transformer, and Param</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#example-pipeline">1.7.2 Example: Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#example-model-selection-via-cv-scala">1.7.3 Example: model selection via CV (Scala)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#example-model-selection-via-train-validation-split-scala">1.7.4 Example: model selection via train validation split (scala)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html">2 Extracting, transforming and selecting features (<code class="docutils literal"><span class="pre">et-fs</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#feature-extractors">2.1 Feature Extractors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#tf-idf">2.1.1 TF-IDF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#word2vec">2.1.2 Word2Vec</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#countvectorizer">2.1.3 CountVectorizer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#feature-transformers">2.2 Feature Transformers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#tokenizer">2.2.1 Tokenizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#stopwordsremover">2.2.2 StopWordsRemover</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#n-gram">2.2.3 n-gram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#binarizer">2.2.4 Binarizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#pca">2.2.5 PCA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#polynomialexpansion">2.2.6 PolynomialExpansion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#discrete-cosine-transform-dct">2.2.7 Discrete Cosine Transform (DCT)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#stringindexer">2.2.8 StringIndexer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#indextostring">2.2.9 IndexToString</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#onehotencoder">2.2.10 OneHotEncoder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#vectorindexer">2.2.11 VectorIndexer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#normalizer">2.2.12 Normalizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#standardscaler">2.2.13 StandardScaler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#minmaxscaler">2.2.14 MinMaxScaler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#maxabsscaler">2.2.15 MaxAbsScaler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#bucketizer">2.2.16 Bucketizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#elementwiseproduct-bm">2.2.17 ElementwiseProduct (bm)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#sqltransformer-bm">2.2.18 SQLTransformer (bm)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#vectorassembler">2.2.19 VectorAssembler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#quantilediscretizer">2.2.20 QuantileDiscretizer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#feature-selectors">2.3 Feature Selectors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#vectorslicer">2.3.1 VectorSlicer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#rformula">2.3.2 RFormula</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#chisqselector">2.3.3 ChiSqSelector</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html">3 Classification (<code class="docutils literal"><span class="pre">classification</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#logistic-regression">3.1 Logistic regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#decision-tree-classifier">3.2 Decision tree classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#random-forest-classifier">3.3 Random forest classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#gradient-boosted-tree-classifier">3.4 Gradient-boosted tree classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#multilayer-perceptron-classifier">3.5 Multilayer perceptron classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#one-vs-rest-classifier-a-k-a-one-vs-all">3.6 One-vs-Rest classifier (a.k.a. One-vs-All)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#naive-bayes">3.7 Naive Bayes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html">4 Regression (<code class="docutils literal"><span class="pre">regression.rst</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#linear-regression">4.1 Linear regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#generalized-linear-regression">4.2 Generalized linear regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#available-families">4.2.1 Available families</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#decision-tree-regression">4.3 Decision tree regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#random-forest-regression">4.4 Random forest regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#gradient-boosted-tree-regression">4.5 Gradient-boosted tree regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#survival-regression">4.6 Survival regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#isotonic-regression">4.7 Isotonic regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#examples">4.7.1 Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html">5 Tree-based-methods (<code class="docutils literal"><span class="pre">tree.rst</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html#decision-trees">5.1 Decision trees</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html#inputs-and-outputs">5.1.1 Inputs and Outputs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html#tree-ensembles">5.2 Tree Ensembles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html#random-forests">5.2.1 Random Forests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html#gradient-boosted-trees-gbts">5.2.2 Gradient-Boosted Trees (GBTs)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../pyspark/apache-ml-rdd.html">MLLib: RDD-based API Guideline (<code class="docutils literal"><span class="pre">apache-ml-rdd</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html">1 Data Types (<code class="docutils literal"><span class="pre">datatypes</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#local-vector">1.1 Local vector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#labeled-point">1.2 Labeled point</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#local-matrix">1.3 Local matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#distributed-matrix">1.4 Distributed matrix</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#rowmatrix">1.4.1 RowMatrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#indexedrowmatrix">1.4.2 IndexedRowMatrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#coordinatematrix">1.4.3 CoordinateMatrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#blockmatrix">1.4.4 BlockMatrix</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html">2 Basic Statistics (<code class="docutils literal"><span class="pre">stats</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#summary-statistics">2.1 Summary statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#correlations">2.2 Correlations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#stratified-sampling">2.3 Stratified sampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#hypothesis-testing">2.4 Hypothesis testing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#streaming-significance-testing">2.4.1 Streaming Significance Testing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#random-data-generation">2.5 Random data generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#kernel-density-estimation">2.6 Kernel density estimation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html">3 Evaluation metrics (<code class="docutils literal"><span class="pre">eval</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#classification-model-evaluation">3.1 Classification model evaluation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#binary-classification">3.1.1 Binary classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#multiclass-classification">3.1.2 Multiclass classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#multilabel-classification">3.1.3 Multilabel classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#ranking-systems">3.1.4 Ranking systems</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#regression-model-evaluation">3.2 Regression model evaluation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Table of Contents (Python and R)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../python/pynotes.html">Python Notes (<code class="docutils literal"><span class="pre">pynotes.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../python/supervised_nmf.html">Supervised NMF (<code class="docutils literal"><span class="pre">supervised_nmf</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/supervised_nmf.html#non-negative-matrix-factorization">Non-negative Matrix Factorization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#nmf-ls-pnmf-admm">nmf.ls_pnmf_admm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#nmf-ls-sgpnmf-admm">nmf.LS_SGPNMF_ADMM</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../python/supervised_nmf.html#visualization">Visualization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#imconnmat">imconnmat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../python/supervised_nmf.html#data-io">Data IO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#data-tob-pnc-load-bct-measures">data.tob_pnc.load_bct_measures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#data-tob-pnc-load-diffusion-volume-matfile">data.tob_pnc.load_diffusion_volume_matfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#data-tob-pnc-load-connectome-matfile">data.tob_pnc.load_connectome_matfile</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../R/top-R.html">R Notes (<code class="docutils literal"><span class="pre">top-R.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../R/R-cookbook.html">R cookbook (<code class="docutils literal"><span class="pre">R-cookbook.rst</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R/r-cookbook-1-getting-started.html">1 1. Getting started</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-1-getting-started.html#getting-help">1.1 Getting help</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-1-getting-started.html#help-search">1.2 help.search</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html">2 2. Some basics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#print-and-cat">2.1 print and cat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#setting-listing-and-removing-variables">2.2 setting, listing, and removing variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#create-vector-the-c-operator">2.3 Create vector - the <code class="docutils literal"><span class="pre">c(...)</span></code> operator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#basic-statistics">2.4 Basic statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#create-sequences-seq-from-to-by-rep-arg-times-5">2.5 Create sequences (<code class="docutils literal"><span class="pre">:,</span> <span class="pre">seq(from,to,by),</span> <span class="pre">rep(arg,times=5)</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#vector-comparison-elementwise-comparison">2.6 Vector comparison (elementwise comparison)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#vector-indexing-and-slicing">2.7 Vector indexing and slicing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#naming-vector-elements-gives-another-way-to-index">2.8 naming vector elements (gives another way to index)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#vector-arithmetic-elementwise">2.9 Vector arithmetic (elementwise...)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#some-special-operator">2.10 Some special operator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#warning-on-operator-precedence">2.11 Warning on operator precedence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-2-some-basics.html#defining-function">2.12 Defining function</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R/r-cookbook-11-lr-anova.html">3 11. Linear Regression and ANOVA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R/r-cookbook-11-lr-anova.html#syntax-for-linear-regression">3.1 Syntax for linear regression</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R/control_var.html">Controlling Confounds</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R/control_var.html#set-seed">Set seed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R/control_var.html#set-variables">set variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R/control_var.html#regression">regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R/control_var.html#lm1-without-controlling-for-weight-weight">lm1: without controlling for weight(weight)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/control_var.html#lm2-here-we-control-for-weight">lm2: here we control for weight</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/control_var.html#in-case-you-want-to-add-the-fitted-lines-to-the-plot">In case you want to add the fitted lines to the plot</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html">Introduction to Data Science with R</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#video1-data-analysis-part-1">Video1 - Data Analysis Part 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#video2-data-analysis-part-2">Video2 - Data Analysis Part 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#video3-data-analysis-part-3">Video3 - Data Analysis Part 3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#video4-exploratory-modeling-random-forests">Video4 - Exploratory Modeling (Random Forests)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#train-a-random-forest-with-the-default-parameters-using-pclass-title">Train a Random Forest with the default parameters using pclass &amp; title</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#train-a-random-forest-using-pclass-title-sibsp">Train a Random Forest using pclass, title, &amp; sibsp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#train-a-random-forest-using-pclass-title-parch">Train a Random Forest using pclass, title, &amp; parch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#train-a-random-forest-using-pclass-title-sibsp-parch">Train a Random Forest using pclass, title, sibsp, parch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#train-a-random-forest-using-pclass-title-family-size">Train a Random Forest using pclass, title, &amp; family.size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#train-a-random-forest-using-pclass-title-sibsp-family-size">Train a Random Forest using pclass, title, sibsp, &amp; family.size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#train-a-random-forest-using-pclass-title-parch-family-size">Train a Random Forest using pclass, title, parch, &amp; family.size</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#video5-cross-validation">Video5 - Cross Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#video6-exploratory-modeling-2">Video6 - Exploratory Modeling 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R/dave-langer/TitanicDataAnalysis_Video7.html#video7-submitting-scoring-and-some-analysis">Video7 Submitting, scoring, and some analysis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../R-ISL/R-ISL.html">R - Labs from ISL (<code class="docutils literal"><span class="pre">R-ISL</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch2.html">Ch2 Introduction to R</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch2.html#basic-commands">Basic Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch2.html#graphics">Graphics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch2.html#indexing-data">Indexing Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch2.html#loading-data">Loading Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch2.html#additional-graphical-and-numerical-summaries">Additional Graphical and Numerical Summaries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch3.html">Ch3 Linear Regression</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch3.html#simple-linear-regression">Simple Linear Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch3.html#multiple-linear-regression">Multiple Linear Regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch3.html#interaction-terms">Interaction Terms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch3.html#qualitative-predictors">Qualitative Predictors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch3.html#writing-functions">Writing Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch4.html">Ch4 Logistic Regression, LDA, QDA, and KNN</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#the-stock-market-data">The Stock Market Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#logistic-regression">Logistic Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#linear-discriminant-analysis">Linear Discriminant Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#quadratic-discriminant-analysis">Quadratic Discriminant Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#k-nearest-neighbors">K-Nearest Neighbors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#an-application-to-caravan-insurance-data">An Application to Caravan Insurance Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch5.html">Ch5 Cross-Validation and the Bootstrap</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch5.html#the-validation-set-approach">The Validation Set Approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch5.html#leave-one-out-cross-validation">Leave-One-Out Cross-Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch5.html#k-fold-cross-validation">k-Fold Cross-Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch5.html#the-bootstrap">The Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch5.html#estimating-the-accuracy-of-a-linear-regression-model">Estimating the Accuracy of a Linear Regression Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch6.html">Ch6 Linear Model Selection and Regularization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch6.html#lab-1-subset-selection-methods">Lab 1: Subset Selection Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#best-subset-selection">Best Subset Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#forward-and-backward-stepwise-selection">Forward and Backward Stepwise Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#choosing-among-models">Choosing Among Models</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch6.html#lab-2-ridge-regression-and-the-lasso">Lab 2: Ridge Regression and the Lasso</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#ridge-regression">Ridge Regression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#the-lasso">The Lasso</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch6.html#lab-3-pcr-and-pls-regression">Lab 3: PCR and PLS Regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#principal-components-regression">Principal Components Regression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#partial-least-squares">Partial Least Squares</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch7.html">Ch7 Non-linear Modeling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch7.html#polynomial-regression-and-step-functions">Polynomial Regression and Step Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch7.html#splines">Splines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch7.html#gams">GAMs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch8.html">Ch8 Tree-Based Methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch8.html#fitting-classification-trees">Fitting Classification Trees</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch8.html#bagging-and-random-forests">Bagging and Random Forests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch8.html#boosting">Boosting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch9.html">Ch9 Support Vector Machines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch9.html#support-vector-classifier">Support Vector Classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch9.html#support-vector-machine">Support Vector Machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch9.html#roc-curves">ROC Curves</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch9.html#svm-with-multiple-classes">SVM with Multiple Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch9.html#application-to-gene-expression-data">Application to Gene Expression Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch10.html">Ch10 Unsupervised Learning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch10.html#lab-1-principal-components-analysis">Lab 1: Principal Components Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch10.html#lab-2-clustering">Lab 2: Clustering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch10.html#k-means-clustering">K-Means Clustering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch10.html#hierarchical-clustering">Hierarchical Clustering</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch10.html#lab-3-nci60-data-example">Lab 3: NCI60 Data Example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch10.html#the-nci60-data">The NCI60 data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch10.html#pca-on-the-nci60-data">PCA on the NCI60 Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch10.html#clustering-the-observations-of-the-nci60-data">Clustering the Observations of the NCI60 Data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ggplot/top-ggplot.html">ggplot-examples (<code class="docutils literal"><span class="pre">top-ggplot.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ggplot/qplot.html">Ch2. Getting startd with qplot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ggplot/qplot.html#the-diamonds-dataset">The Diamonds dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ggplot/qplot.html#basic-use">2.3 Basic use</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../lattice-R-book/lattice-R.html">lattice plot examples (<code class="docutils literal"><span class="pre">lattice-R.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch1.html">Ch1 - Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch1.html#figure-1-1-conditional-histogram">Figure 1.1 (conditional histogram)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch1.html#figure-1-2-conditional-density-plot">Figure 1.2 (conditional density plot)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch1.html#figure-1-3-grouped-kde-plot">Figure 1.3 (grouped kde plot)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch1.html#figure-1-4-conditional-histogram-and-kde-grouped-in-a-single-figure">Figure 1.4 (conditional histogram and kde grouped in a single figure)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch2.html">Ch2 - A Technical Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch2.html#dimension-and-physical-layout">Dimension and Physical Layout</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-1-a-trelis-display-of-the-data-object">Figure 2.1 (A Trelis display of the <strong>Data</strong> Object)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-2-subset-display-of-the-trellis-object">Figure 2.2 (subset display of the Trellis object)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-3-aspect-ratio-control">Figure 2.3 (aspect ratio control)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-4">Figure 2.4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-5-fig-2-5-with-spacing-between-column-blocks">Figure 2.5 (fig 2.5 with spacing between column blocks)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch2.html#grouped-displays">Grouped displays</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-6">Figure 2.6</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch2.html#annotation-captions-labels-and-legends">Annotation: Captions, labels, and legends</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-7">Figure 2.7</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch2.html#scale-and-axes">Scale and Axes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-8">Figure 2.8</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-9">Figure 2.9</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch2.html#the-panel-function">The Panel function</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-10">Figure 2.10</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-11">Figure 2.11</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch3.html">Ch3 - Displaying Univariate Distributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#datasets-used-in-this-chapter">Datasets used in this Chapter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#faithful">faithful</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#gvhd10">gvhd10</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#chem97">Chem97</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#quakes">quakes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#barley">barley</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#density-plot">Density plot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-1">Figure 3.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-2">Figure 3.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-3">Figure 3.3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#histograms">Histograms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-4">Figure 3.4</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#normal-qq-plots">Normal QQ Plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-5">Figure 3.5</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-6">Figure 3.6</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-7">Figure 3.7</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#the-empirical-cdf">The empirical CDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-8">Figure 3.8</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#two-sample-qq-plots">Two-sample QQ-plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-9">Figure 3.9</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-10">Figure 3.10</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#box-and-whisker-plots">Box-and-whisker plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-11">Figure 3.11</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-12">Figure 3.12</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-13">Figure 3.13</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-14">Figure 3.14</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#strip-plot">Strip plot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-15">Figure 3.15</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-16">Figure 3.16</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-17">Figure 3.17</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch4.html">Ch4 - Displaying Multiway Tables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-1">Figure 4.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-2">Figure 4.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-3">Figure 4.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-4">Figure 4.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-5">Figure 4.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-6">Figure 4.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-7">Figure 4.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-8">Figure 4.8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-9">Figure 4.9</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch5.html">Ch5 - Scatter Plots and Extensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-1">Figure 5.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-2">Figure 5.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-3">Figure 5.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-4">Figure 5.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-5">Figure 5.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-6">Figure 5.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-7">Figure 5.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-8">Figure 5.8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-9">Figure 5.9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-10">Figure 5.10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-11">Figure 5.11</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-12">Figure 5.12</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-13">Figure 5.13</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-14">Figure 5.14</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-15">Figure 5.15</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-16">Figure 5.16</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-17">Figure 5.17</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-18">Figure 5.18</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-19">Figure 5.19</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch6.html">Ch6 - Trivariate Displays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-1">Figure 6.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-2">Figure 6.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-3">Figure 6.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-4">Figure 6.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-5">Figure 6.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-6">Figure 6.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-7">Figure 6.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-8">Figure 6.8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-9">Figure 6.9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-10">Figure 6.10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-11">Figure 6.11</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-12">Figure 6.12</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-13">Figure 6.13</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-14">Figure 6.14</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-15">Figure 6.15</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-16">Figure 6.16</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-17">Figure 6.17</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-18">Figure 6.18</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-19">Figure 6.19</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch7.html">Ch7 - Graphical Parameters and Other Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch7.html#figure-7-1">Figure 7.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch7.html#figure-7-2">Figure 7.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch7.html#figure-7-2-alternative">Figure 7.2 (alternative)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch7.html#figure-7-3">Figure 7.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch7.html#figure-7-4">Figure 7.4</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch8.html">Ch8 - Plot Coordinates and Axis Annotation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-1">Figure 8.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-2">Figure 8.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-3">Figure 8.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-4">Figure 8.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-5">Figure 8.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-6">Figure 8.6</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch9.html">Ch9 - Labels and Legends</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch9.html#figure-9-1">Figure 9.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch9.html#figure-9-1-alternative-using-auto-key">Figure 9.1 (alternative, using auto.key)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch9.html#figure-9-1-yet-another-alternative-using-drop-true">Figure 9.1 (yet another alternative, using drop=TRUE)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch9.html#figure-9-2">Figure 9.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch9.html#figure-9-3">Figure 9.3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch10.html">Ch10 - Data Manipulation and Related Topics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-1">Figure 10.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-2">Figure 10.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-3">Figure 10.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-4">Figure 10.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-5">Figure 10.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-6">Figure 10.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-7">Figure 10.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-8">Figure 10.8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-9">Figure 10.9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-10">Figure 10.10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-11">Figure 10.11</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-12">Figure 10.12</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-13">Figure 10.13</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-14">Figure 10.14</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-15">Figure 10.15</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-16">Figure 10.16</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-17">Figure 10.17</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-18">Figure 10.18</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-19">Figure 10.19</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-20">Figure 10.20</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-21">Figure 10.21</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-22">Figure 10.22</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-23">Figure 10.23</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-24">Figure 10.24</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-25">Figure 10.25</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch11.html">Ch11 - Manipulating the <em>trellis</em> object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-1">Figure 11.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-2">Figure 11.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-3">Figure 11.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-4">Figure 11.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-5">Figure 11.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-6">Figure 11.6</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch12.html">Ch12 - Interacting with Trellis Displays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-1">Figure 12.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-2">Figure 12.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-3">Figure 12.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-4">Figure 12.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-5">Figure 12.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-6">Figure 12.6</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch13.html">Ch13 - Advanced Panel Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-1">Figure 13.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-2">Figure 13.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-3">Figure 13.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-4">Figure 13.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-5">Figure 13.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-6">Figure 13.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-7">Figure 13.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-8">Figure 13.8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-9">Figure 13.9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-10">Figure 13.10</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch14.html">Ch14 - New Trellis Displays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch14.html#figure-14-1">Figure 14.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch14.html#figure-14-2">Figure 14.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch14.html#figure-14-3">Figure 14.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch14.html#figure-14-4">Figure 14.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch14.html#figure-14-5">Figure 14.5</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Table of Contents (Others)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bash_wooledge/top-bash-wool.html">Bash wooledge (<code class="docutils literal"><span class="pre">top-bash-wool.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../bash_wooledge/special_char.html">1 Special Characters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bash_wooledge/param.html">2 Parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/param.html#basic">2.1 Basic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#always-double-quote-when-doing-pe-parameter-expansion">2.1.1 Always double-quote when doing PE (parameter expansion)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#char-needed-with-dealing-with-numerics">2.1.2 char needed with dealing with numerics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/param.html#special-parameters-and-variables">2.2 Special Parameters and Variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#special-parameters">2.2.1 Special Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#special-variables-provided-by-the-shell">2.2.2 Special variables provided by the shell</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/param.html#pe-tricks-some-i-rarely-use">2.3 PE tricks (some I rarely use)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#summary-table">2.3.1 Summary table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var">2.3.2 <code class="docutils literal"><span class="pre">${var}</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-word-use-default-value">2.3.3 <code class="docutils literal"><span class="pre">${var:-word}</span></code> (use default value)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-word-assign-default">2.3.4 <code class="docutils literal"><span class="pre">${var:=word}</span></code> (assign default)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-word-use-alternate-value">2.3.5 <code class="docutils literal"><span class="pre">${var:+word}</span></code> (use alternate value)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-offset-length-substring-expansion">2.3.6 <code class="docutils literal"><span class="pre">${var:offset:length}</span></code> (substring expansion)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-var-number-of-characters-or-array-items">2.3.7 <code class="docutils literal"><span class="pre">${#var}</span></code>, <code class="docutils literal"><span class="pre">${#var[&#64;]}</span></code> (number of characters or array items)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-pattern-delete-beginning-of-str-if-match">2.3.8 <code class="docutils literal"><span class="pre">${var#pattern}</span></code> (delete beginning of str if match)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-msg-print-msg-to-stderr">2.3.9 <code class="docutils literal"><span class="pre">${var:?msg}</span></code> (print msg to stderr)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bash_wooledge/patterns.html">3 Patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/patterns.html#glob-patterns">3.1 Glob patterns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/patterns.html#use-glob-not-ls-for-looping-over-files">3.1.1 Use glob, not ls for looping over files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/patterns.html#extended-globs-i-rather-use-regexp">3.2 Extended Globs (I rather use regexp)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/patterns.html#regular-expressions">3.3 Regular expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/patterns.html#brace-expansion">3.4 Brace Expansion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bash_wooledge/tests.html">4 Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/tests.html#exit-status-0-success-use">4.1 Exit status (0 = success)....use $?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/tests.html#control-operators-and">4.2 Control operators (&amp;&amp; and ||)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/tests.html#grouping-statements">4.3 Grouping statements {...;}</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/tests.html#use-case1-reporting-stderr-on-complex-test">4.3.1 Use-case1: reporting stderr on complex test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/tests.html#use-case2-redirect-input-to-a-group-of-statements">4.3.2 Use-case2: redirect input to a group of statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/tests.html#use-case3-error-handling">4.3.3 Use-case3: error handling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bash_wooledge/conditionals.html">5 Conditionals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/conditionals.html#conditional-blocks-if-test-and">5.1 Conditional Blocks (if, test and [[)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/conditionals.html#conditional-loops-while-until-and-for">5.2 Conditional Loops (while, until and for)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/conditionals.html#choices-case-and-select">5.3 Choices (case and select)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html">sed-tutorial-gnu (<code class="docutils literal"><span class="pre">sed-tutorial.gnu.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#execution-cycle-how-sed-works">Execution Cycle: How sed works</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#addresses-selecting-lines-with-sed">Addresses: Selecting lines with sed</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#single-address-form">Single address form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#two-address-form">Two address form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#match-negation-via">Match negation via <code class="docutils literal"><span class="pre">!</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#regular-expressions-overview-of-regular-expression-syntax">Regular Expressions: Overview of regular expression syntax</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#common-commands-often-used-commands">Common Commands: Often used commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#the-s-command-sed-s-swiss-army-knife">The &#8220;s&#8221; Command: sed&#8217;s Swiss Army Knife</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#replacement">replacement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#flags">flags</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#other-commands-less-frequently-used-commands">Other Commands: Less frequently used commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#programming-commands-commands-for-sed-gurus">Programming Commands: Commands for sed gurus</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html">sed-tutorials-points (<code class="docutils literal"><span class="pre">sed-tutorial.tut</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#sed-workflow">Sed - workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#basic-syntax-and-examples">Basic syntax and examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#standard-options">Standard options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#gnu-specific-options">GNU specific options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#loops-branches">Loops, Branches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#address-range-search-by-specifying-line-nums">Address range (search by specifying line-nums)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#p-syntax">&#8216;p&#8217; syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#m-n-syntax">&#8216;M,+n&#8217; syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#id1">&#8216;M,~n&#8217; syntax</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#pattern-range-search-for-simple-text-or-regexp-using-regex-syntax">Pattern range - search for simple-text or regexp using /regex/ syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#basic-commands-delete-read-write-append">Basic commands (delete, read, write, append)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#delete-command-address1-address2-d">Delete command [address1[,address2]]d</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#write-command-address1-address2-w-file">Write command [address1[,address2]]w file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#append-command-address-a">Append command [address]a</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#change-command-address1-address2-c">Change command [address1[,address2]]c</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#insert-command-address-i">Insert Command [address]i</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#translate-command-address1-address2-y-list-1-list-2">Translate command [address1[,address2]]y/list-1/list-2/</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#i-command">I command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#quit-command-address-q">Quit Command [address]q</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#read-command-address-r-file">Read Command [address]r file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#exectuve-command-address1-address2-e-command">Exectuve Command [address1[,address2]]e [command]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#miscellaneous-commands">Miscellaneous Commands</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../awk-tutorial/awk-tutorial.html">awk-tutorial (<code class="docutils literal"><span class="pre">awk-tutorial.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tutorial/awk-basic-structure.html">1 Basic structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html">2 The Essential Syntax of AWK</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#unary-arithmetic-operators">2.1 Unary arithmetic operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#the-autoincrement-and-autodecrement-operators">2.2 The Autoincrement and Autodecrement Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#assignment-operators">2.3 Assignment Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#conditional-expressions">2.4 Conditional expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#regular-expressions">2.5 Regular Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#and-or-not">2.6 And/Or/Not</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tutorial/awk-summary-commands.html">3 Summary of AWK Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html">4 AWK Built-in Variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#fs-the-input-field-separator-variable">4.1 FS - The Input Field Separator Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#ofs-the-output-field-separator-variable">4.2 OFS - The Output Field Separator Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#nf-the-number-of-fields-variable">4.3 NF - The Number of Fields Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#nr-the-number-of-records-variable">4.4 NR - The Number of Records Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#rs-the-record-separator-variable">4.5 RS - The Record Separator Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#ors-the-output-record-separator-variable">4.6 ORS - The Output Record Separator Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#filename-the-current-filename-variable">4.7 FILENAME - The Current Filename Variable</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../awk-tp.html">Awk Tutorials Points (<code class="docutils literal"><span class="pre">awk-tp.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../awk-ss64.html">1 Whirlwind tour from ss64</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-ss64.html#basic-syntax">1.1 Basic syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-ss64.html#awk-patterns">1.2 awk-patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-ss64.html#variable-names-that-are-predefined">1.3 Variable names that are predefined</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-ss64.html#examples">1.4 Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-ss64.html#complex-examples">1.5 Complex examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-grymoire.html">2 Tables from grymoire</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#arithmetic-expressions">2.1 Arithmetic expressions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#binary-operator">2.1.1 Binary operator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#assignment-operator">2.1.2 Assignment operator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#conditional-expressions">2.1.3 Conditional expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#regexp">2.1.4 Regexp</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#summary-of-awk-commands">2.2 Summary of AWK commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#build-int-awk-variables">2.3 Build-int AWK variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#printf-formatting">2.4 printf - formatting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#syntax">2.4.1 syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#escape-sequences">2.4.2 Escape sequences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#format-specifiers">2.4.3 Format specifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#width-specify-minimum-field-size">2.4.4 Width - specify minimum field size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#my-own-example-use-to-left-justify-string-in-s">2.4.5 my own example (use &#8220;-&#8221; to left justify string in %s)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#examples-of-complex-formatting">2.4.6 Examples of complex formatting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#explicit-file-output">2.4.7 Explicit file output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#flow-control-with-next-and-exit">2.5 Flow Control with next and exit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#awk-numerical-functions">2.6 AWK Numerical Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#awk-string-functions">2.7 AWK String functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#split-demo">2.7.1 split demo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#gsub-demo">2.7.2 gsub demo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#match-demo">2.7.3 match demo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tp.workflow.html">3 awk-workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.workflow.html#the-begin-body-end-block">3.1 The BEGIN, body, END block</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.workflow.html#first-example-on-marks-txt-file">3.2 First example on marks.txt file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tp.basic-syntax.html">4 AWK Basic Syntax</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.basic-syntax.html#awk-help">4.1 awk &#8211;help</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.basic-syntax.html#awk-in-the-terminal-or-program-file">4.2 AWK in the terminal or Program file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.basic-syntax.html#v-option">4.3 -v option</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.basic-syntax.html#dump-global-variables">4.4 dump global variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.basic-syntax.html#profile-file-to-create-pretty-printed-script-file">4.5 &#8211;profile[=file] to create pretty-printed script file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tp.basic-examples.html">5 AWK &#8211; Basic Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../top-sqlite.html">SQL notes (<code class="docutils literal"><span class="pre">top-sqlite.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sqlite.tutpoint.html">1 SQLite notes from tutorialpoint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.1_commands_overview.html">1.1 SQLite commands overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.1_commands_overview.html#ddl-data-definition-language">1.1.1 DDL (data definition language)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.1_commands_overview.html#dml-data-manipulation-language">1.1.2 DML (Data manipulation language)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.1_commands_overview.html#dql-data-query-language">1.1.3 DQL (data query language)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.2_unsupported_commands.html">1.2 Unsupported features in SQLite</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.3_sqlite_commands.html">1.3 sqlite commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.3_sqlite_commands.html#the-dot-commands-from-sqlite">1.3.1 the <em>dot</em> commands from sqlite</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.3_sqlite_commands.html#show-see-default-settings">1.3.2 show &#8211; see default settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.3_sqlite_commands.html#format-output-with-header-mode-timer">1.3.3 Format output with (header, mode, timer)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.3_sqlite_commands.html#the-sqlite-master-table">1.3.4 The sqlite_master Table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html">1.4 SQLite syntax (a whirl-wind tour)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#case-sensitivity">1.4.1 Case Sensitivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#comments">1.4.2 Comments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#sqlite-statements-and-clause">1.4.3 SQLite Statements and Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#create-table">1.4.4 CREATE TABLE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#create-trigger">1.4.5 CREATE TRIGGER</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#group-by">1.4.6 GROUP BY</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#having">1.4.7 HAVING</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#pragma">1.4.8 PRAGMA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#update">1.4.9 UPDATE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.5_datatype.html">1.5 SQLite Data Type</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.5_datatype.html#sqlite-storage-classes">1.5.1 SQLite Storage Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.5_datatype.html#sqlite-affinity-type">1.5.2 SQLite Affinity Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.5_datatype.html#sqlite-affinity-and-type-names">1.5.3 SQLite Affinity and Type Names</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.5_datatype.html#date-and-time-datatype">1.5.4 Date and Time Datatype</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html">1.6 SQLite DDL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html#create-database">1.6.1 CREATE Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html#attach-database">1.6.2 ATTACH Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html#detach-database">1.6.3 DETACH Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html#create-table">1.6.4 CREATE Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html#drop-table">1.6.5 DROP Table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_DML.html">1.7 SQLite DML</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_DML.html#insert-query">1.7.1 INSERT Query</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_DML.html#select-query">1.7.2 SELECT Query</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_DML.html#update-query">1.7.3 UPDATE Query</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_DML.html#delete-query">1.7.4 DELETE Query</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html">1.8 SQLite clauses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#where-clause">1.8.1 WHERE Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#and-or-clause">1.8.2 AND, OR Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#like-clause">1.8.3 LIKE Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#glob-clause">1.8.4 GLOB Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#limit-clause">1.8.5 LIMIT Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#having-clause">1.8.6 HAVING Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#unions-clause">1.8.7 UNIONS Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#order-by-clause">1.8.8 ORDER BY Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#group-by-clause">1.8.9 GROUP BY Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#distinct-clause-keyword">1.8.10 DISTINCT Clause/keyword</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.8_sqlite_expressions.html">1.9 SQLite Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.8_sqlite_operators.html">1.10 SQLite Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_5.html">1.11 SQLite - useful functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_5.html#summary-of-key-functions">1.11.1 Summary of key functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_5.html#examples">1.11.2 Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sqlite_doc.html">2 Bunch of stuffs from the official doc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#command-line-shell-for-sqlite-incomplete">2.1 Command Line Shell for SQLite (incomplete)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#semicolon-to-indicate-end-of-sql-command">2.1.1 Semicolon to indicate end of SQL command</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#dot-commands-special-commands-to-sqlite3">2.1.2 dot-commands (special commands to sqlite3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#todo">2.1.3 todo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#sql-syntax-link-only">2.2 SQL Syntax (link only)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#sql-keywords-link-only">2.3 SQL Keywords (link only)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#datatypes-in-sqlite-version3-todo">2.4 Datatypes in SQLite Version3 (todo)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#core-functions-todo">2.5 Core functions (todo)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#agg-functions">2.6 Agg functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#data-and-time-functions">2.7 Data and time functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#timestring">2.7.1 timestring</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#modifiers">2.7.2 modifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#examples">2.7.3 Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#json-just-read">2.8 JSON (just read)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sql_wiki.html">3 Random jumbles from wikipedia pertaining to Database concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#data-integrity">3.1 Data Integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#ddl-dml-dcl">3.2 DDL, DML, DCL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#data-definition-language-ddl">3.2.1 Data definition language (DDL)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#data-manipulation-language-dml">3.2.2 Data Manipulation Language (DML)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#data-control-language-dcl">3.2.3 Data Control Language (DCL)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#acid">3.3 ACID</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#atomicity">3.3.1 Atomicity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#consistency">3.3.2 Consistency</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#isolation">3.3.3 Isolation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#durability">3.3.4 Durability</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#jumpled-articles">3.4 Jumpled articles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#consistency-model">3.4.1 Consistency model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#cap-theorem-aka-brewer-s-theorem">3.4.2 CAP Theorem (aka Brewer&#8217;s Theorem)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#database-transaction">3.4.3 Database transaction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#database-normalization">3.5 Database normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#database-schema">3.6 Database Schema</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#logical-schema">3.6.1 Logical schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#physical-schema">3.6.2 Physical schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#conceptual-schema">3.6.3 Conceptual schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#three-schema-approach">3.6.4 Three-schema approach</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#bunch-of-jumbled-links">3.7 Bunch of jumbled links</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../cs-computer.html">Random computer science notes (<code class="docutils literal"><span class="pre">cs-computer</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cs-computer.unix.html">Unix-related</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cs-computer.unix.html#terminal-shell-tty-console-the-difference">terminal, shell, tty, console...the difference?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../cs-computer.network.html">Network notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cs-computer.network.html#http-messages">HTTP messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cs-computer.network.html#random-overflows">Random overflows</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Coding Notebook</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>tak.plt_</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for tak.plt_</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="kn">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">from</span> <span class="nn">.core</span> <span class="kn">import</span> <span class="n">threshold_L1conc</span>
<span class="kn">from</span> <span class="nn">.stats</span> <span class="kn">import</span> <span class="n">ttest_fdr_corrected</span>
<span class="kn">from</span> <span class="nn">scipy.spatial.distance</span> <span class="kn">import</span> <span class="n">squareform</span> <span class="k">as</span> <span class="n">sqform</span>
<span class="kn">import</span> <span class="nn">seaborn.apionly</span> <span class="kn">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">traceback</span>
<span class="c1">#%% === platform dependent functions (cell began 2016-01-23) ===</span>
<span class="kn">from</span> <span class="nn">socket</span> <span class="kn">import</span> <span class="n">gethostname</span>
<span class="n">hostname</span> <span class="o">=</span> <span class="n">gethostname</span><span class="p">()</span>

<span class="k">if</span> <span class="n">hostname</span> <span class="o">==</span> <span class="s1">&#39;takanori-PC&#39;</span><span class="p">:</span>
    <span class="c1"># on my home 27in computer (used tw.fig_get_geom())</span>
    <span class="sd">&quot;&quot;&quot;&quot; (x,y, width, height), x=0 means very left, y=0 means very top&quot;&quot;&quot;</span>
    <span class="n">_L</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1440.</span> <span class="c1"># left-position</span>
    <span class="n">_T</span>  <span class="o">=</span> <span class="mf">22.</span> <span class="c1"># top-position</span>
    <span class="n">_W</span> <span class="o">=</span> <span class="mf">1440.</span> <span class="c1"># width at fullscreen</span>
    <span class="n">_H</span> <span class="o">=</span><span class="mf">878.</span>   <span class="c1"># height at fullscreen</span>

    <span class="n">_screen_default</span> <span class="o">=</span> <span class="p">(</span><span class="n">_L</span><span class="p">,</span>        <span class="n">_T</span><span class="p">,</span>   <span class="mi">640</span><span class="p">,</span>  <span class="mi">640</span><span class="p">)</span>
    <span class="n">_screen_full</span>    <span class="o">=</span> <span class="p">(</span><span class="n">_L</span><span class="p">,</span>        <span class="n">_T</span><span class="p">,</span>    <span class="n">_W</span><span class="p">,</span>   <span class="n">_H</span><span class="p">)</span>
    <span class="n">_screen_left</span>    <span class="o">=</span> <span class="p">(</span><span class="n">_L</span><span class="p">,</span>        <span class="n">_T</span><span class="p">,</span>  <span class="n">_W</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="n">_H</span><span class="p">)</span>
    <span class="n">_screen_right</span>   <span class="o">=</span> <span class="p">(</span><span class="n">_L</span><span class="o">+</span><span class="n">_W</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="n">_T</span><span class="p">,</span>  <span class="n">_W</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>   <span class="n">_H</span><span class="p">)</span>

    <span class="c1"># the +/-10 is to avoid mild overlap between &quot;t&quot; and &quot;b&quot;</span>
    <span class="n">_screen_top</span>     <span class="o">=</span> <span class="p">(</span><span class="n">_L</span><span class="p">,</span>        <span class="n">_T</span><span class="p">,</span>  <span class="n">_W</span><span class="p">,</span>  <span class="n">_H</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">_screen_bottom</span>  <span class="o">=</span> <span class="p">(</span><span class="n">_L</span><span class="p">,</span> <span class="n">_T</span><span class="o">+</span><span class="n">_H</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span>  <span class="n">_W</span><span class="p">,</span>  <span class="n">_H</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>

    <span class="n">_screen_bl</span>      <span class="o">=</span> <span class="p">(</span><span class="n">_L</span><span class="p">,</span>      <span class="n">_T</span><span class="o">+</span><span class="n">_H</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span>  <span class="n">_W</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>  <span class="n">_H</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># bottom-left</span>
    <span class="n">_screen_br</span>      <span class="o">=</span> <span class="p">(</span><span class="n">_L</span><span class="o">+</span><span class="n">_W</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">_T</span><span class="o">+</span><span class="n">_H</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span>  <span class="n">_W</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>  <span class="n">_H</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># bottom-right</span>
    <span class="n">_screen_tl</span>      <span class="o">=</span> <span class="p">(</span><span class="n">_L</span><span class="p">,</span>      <span class="n">_T</span><span class="p">,</span>         <span class="n">_W</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>  <span class="n">_H</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># top-left</span>
    <span class="n">_screen_tr</span>      <span class="o">=</span> <span class="p">(</span><span class="n">_L</span><span class="o">+</span><span class="n">_W</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">_T</span><span class="p">,</span>         <span class="n">_W</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>  <span class="n">_H</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># top-right</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># on my sbia computer monitor</span>
    <span class="n">_screen_default</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1500</span><span class="p">,</span>     <span class="mi">25</span><span class="p">,</span>  <span class="mi">640</span><span class="p">,</span>  <span class="mi">640</span><span class="p">)</span>
    <span class="n">_screen_full</span>    <span class="o">=</span> <span class="p">(</span><span class="mi">1500</span><span class="p">,</span>     <span class="mi">25</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span>  <span class="mi">924</span><span class="p">)</span>
    <span class="n">_screen_full2</span>   <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span>     <span class="mi">25</span><span class="p">,</span> <span class="mi">1600</span><span class="p">,</span>  <span class="mi">850</span><span class="p">)</span>
    <span class="n">_screen_left</span>    <span class="o">=</span> <span class="p">(</span><span class="mi">1500</span><span class="p">,</span>     <span class="mi">25</span><span class="p">,</span>  <span class="mi">640</span><span class="p">,</span>  <span class="mi">924</span><span class="p">)</span>
    <span class="n">_screen_right</span>   <span class="o">=</span> <span class="p">(</span><span class="mi">2240</span><span class="p">,</span>     <span class="mi">25</span><span class="p">,</span>  <span class="mi">640</span><span class="p">,</span>  <span class="mi">924</span><span class="p">)</span>
    <span class="n">_screen_top</span>     <span class="o">=</span> <span class="p">(</span><span class="mi">1500</span><span class="p">,</span>     <span class="mi">25</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span>  <span class="mi">462</span><span class="p">)</span>
    <span class="n">_screen_bottom</span>  <span class="o">=</span> <span class="p">(</span><span class="mi">1500</span><span class="p">,</span> <span class="mi">25</span><span class="o">+</span><span class="mi">462</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span>  <span class="mi">462</span><span class="p">)</span>
    <span class="n">_screen_bl</span>      <span class="o">=</span> <span class="p">(</span><span class="mi">1500</span><span class="p">,</span> <span class="mi">25</span><span class="o">+</span><span class="mi">462</span><span class="p">,</span>  <span class="mi">640</span><span class="p">,</span>  <span class="mi">462</span><span class="p">)</span> <span class="c1"># bottom-left</span>
    <span class="n">_screen_br</span>      <span class="o">=</span> <span class="p">(</span><span class="mi">2240</span><span class="p">,</span> <span class="mi">25</span><span class="o">+</span><span class="mi">462</span><span class="p">,</span>  <span class="mi">640</span><span class="p">,</span>  <span class="mi">462</span><span class="p">)</span> <span class="c1"># bottom-right</span>
    <span class="n">_screen_tl</span>      <span class="o">=</span> <span class="p">(</span><span class="mi">1500</span><span class="p">,</span>     <span class="mi">25</span><span class="p">,</span>  <span class="mi">640</span><span class="p">,</span>  <span class="mi">462</span><span class="p">)</span> <span class="c1"># top-left</span>
    <span class="n">_screen_tr</span>      <span class="o">=</span> <span class="p">(</span><span class="mi">2240</span><span class="p">,</span>     <span class="mi">25</span><span class="p">,</span>  <span class="mi">640</span><span class="p">,</span>  <span class="mi">462</span><span class="p">)</span> <span class="c1"># top-right</span>
<span class="c1">#%% === docstring wrapper ===</span>
<span class="k">def</span> <span class="nf">plt_docstring_text_kwargs</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Doc string</span>
<span class="sd">    </span>
<span class="sd">    </span>
<span class="sd">    https://github.com/matplotlib/matplotlib/blob/master/doc/users/text_props.rst</span>
<span class="sd">    </span>
<span class="sd">    http://matplotlib.org/users/text_props.html</span>
<span class="sd">    </span>
<span class="sd">    http://matplotlib.org/_sources/users/text_props.txt</span>
<span class="sd">    </span>
<span class="sd">    Table from :func:`matplotlib..text.Annotation`</span>
<span class="sd">    </span>
<span class="sd">        ========================== ================================================</span>
<span class="sd">        Property                   Value</span>
<span class="sd">        ========================== ================================================</span>
<span class="sd">        alpha                      float or None</span>
<span class="sd">        animated                   [True | False]</span>
<span class="sd">        backgroundcolor            any matplotlib color</span>
<span class="sd">        bbox                       rectangle prop dict plus key &#39;pad&#39; which is a</span>
<span class="sd">                                   pad in points; if a boxstyle is supplied as</span>
<span class="sd">                                   a string, then pad is instead a fraction</span>
<span class="sd">                                   of the font size</span>
<span class="sd">        clip_box                   a matplotlib.transform.Bbox instance</span>
<span class="sd">        clip_on                    [True | False]</span>
<span class="sd">        color                      any matplotlib color</span>
<span class="sd">        family                     [&#39;serif&#39; | &#39;sans-serif&#39; | &#39;cursive&#39; |</span>
<span class="sd">                                    &#39;fantasy&#39; | &#39;monospace&#39;]</span>
<span class="sd">        figure                     a matplotlib.figure.Figure instance</span>
<span class="sd">        fontproperties             a matplotlib.font_manager.FontProperties</span>
<span class="sd">                                   instance</span>
<span class="sd">        horizontalalignment or ha  [&#39;center&#39; | &#39;right&#39; | &#39;left&#39;]</span>
<span class="sd">        label                      any string</span>
<span class="sd">        linespacing                float</span>
<span class="sd">        lod                        [True | False]</span>
<span class="sd">        multialignment             [&#39;left&#39; | &#39;right&#39; | &#39;center&#39; ]</span>
<span class="sd">        name or fontname           string e.g.,</span>
<span class="sd">                                   [&#39;Sans&#39; | &#39;Courier&#39; | &#39;Helvetica&#39; ...]</span>
<span class="sd">        position                   (x,y)</span>
<span class="sd">        rotation                   [ angle in degrees &#39;vertical&#39; | &#39;horizontal&#39;</span>
<span class="sd">        rotation_mode              [ None | &#39;anchor&#39;]</span>
<span class="sd">        size or fontsize           [size in points | relative size e.g., &#39;smaller&#39;,</span>
<span class="sd">                                                                      &#39;x-large&#39;]</span>
<span class="sd">        style or fontstyle         [ &#39;normal&#39; | &#39;italic&#39; | &#39;oblique&#39;]</span>
<span class="sd">        text                       string</span>
<span class="sd">        transform                  a matplotlib.transform transformation instance</span>
<span class="sd">        usetex                     [True | False | None]</span>
<span class="sd">        variant                    [&#39;normal&#39; | &#39;small-caps&#39;]</span>
<span class="sd">        verticalalignment or va    [&#39;center&#39; | &#39;top&#39; | &#39;bottom&#39; | &#39;baseline&#39;]</span>
<span class="sd">        visible                    [True | False]</span>
<span class="sd">        weight or fontweight       [&#39;normal&#39; | &#39;bold&#39; | &#39;heavy&#39; | &#39;light&#39; |</span>
<span class="sd">                                    &#39;ultrabold&#39; | &#39;ultralight&#39;]</span>
<span class="sd">        wrap                       [True | False]</span>
<span class="sd">        x                          float</span>
<span class="sd">        y                          float</span>
<span class="sd">        zorder                     any number</span>
<span class="sd">        ========================== ================================================</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">plt_docstring_Line2D_kwargs</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Doc string</span>
<span class="sd">    </span>
<span class="sd">    http://matplotlib.org/api/lines_api.html#matplotlib.lines.Line2D</span>
<span class="sd">    </span>
<span class="sd">    https://raw.githubusercontent.com/matplotlib/matplotlib/master/doc/users/pyplot_tutorial.rst</span>
<span class="sd">    </span>

<span class="sd">    Here are the available :class:`~matplotlib.lines.Line2D` properties.</span>
<span class="sd">    **(note: list may be incomplete...compare with :ref:`plt.plot`)</span>

<span class="sd">    ======================  ==================================================</span>
<span class="sd">    Property                Value Type</span>
<span class="sd">    ======================  ==================================================</span>
<span class="sd">    alpha                   float</span>
<span class="sd">    animated                [True | False]</span>
<span class="sd">    antialiased or aa       [True | False]</span>
<span class="sd">    clip_box                a matplotlib.transform.Bbox instance</span>
<span class="sd">    clip_on                 [True | False]</span>
<span class="sd">    clip_path               a Path instance and a Transform instance, a Patch</span>
<span class="sd">    color or c              any matplotlib color</span>
<span class="sd">    contains                the hit testing function</span>
<span class="sd">    dash_capstyle           [``&#39;butt&#39;`` | ``&#39;round&#39;`` | ``&#39;projecting&#39;``]</span>
<span class="sd">    dash_joinstyle          [``&#39;miter&#39;`` | ``&#39;round&#39;`` | ``&#39;bevel&#39;``]</span>
<span class="sd">    dashes                  sequence of on/off ink in points</span>
<span class="sd">    data                    (np.array xdata, np.array ydata)</span>
<span class="sd">    figure                  a matplotlib.figure.Figure instance</span>
<span class="sd">    label                   any string</span>
<span class="sd">    linestyle or ls         [ ``&#39;-&#39;`` | ``&#39;--&#39;`` | ``&#39;-.&#39;`` | ``&#39;:&#39;`` | ``&#39;steps&#39;`` | ...]</span>
<span class="sd">    linewidth or lw         float value in points</span>
<span class="sd">    lod                     [True | False]</span>
<span class="sd">    marker                  [ ``&#39;+&#39;`` | ``&#39;,&#39;`` | ``&#39;.&#39;`` | ``&#39;1&#39;`` | ``&#39;2&#39;`` | ``&#39;3&#39;`` | ``&#39;4&#39;`` ]</span>
<span class="sd">    markeredgecolor or mec  any matplotlib color</span>
<span class="sd">    markeredgewidth or mew  float value in points</span>
<span class="sd">    markerfacecolor or mfc  any matplotlib color</span>
<span class="sd">    markersize or ms        float</span>
<span class="sd">    markevery               [ None | integer | (startind, stride) ]</span>
<span class="sd">    picker                  used in interactive line selection</span>
<span class="sd">    pickradius              the line pick selection radius</span>
<span class="sd">    solid_capstyle          [``&#39;butt&#39;`` | ``&#39;round&#39;`` | ``&#39;projecting&#39;``]</span>
<span class="sd">    solid_joinstyle         [``&#39;miter&#39;`` | ``&#39;round&#39;`` | ``&#39;bevel&#39;``]</span>
<span class="sd">    transform               a matplotlib.transforms.Transform instance</span>
<span class="sd">    visible                 [True | False]</span>
<span class="sd">    xdata                   np.array</span>
<span class="sd">    ydata                   np.array</span>
<span class="sd">    zorder                  any number</span>
<span class="sd">    ======================  ==================================================</span>
<span class="sd">    </span>
<span class="sd">    =====================================================================================   ===============================================================================================================================================</span>
<span class="sd">    Property                                                                                Description                                                                                                                                    </span>
<span class="sd">    =====================================================================================   ===============================================================================================================================================</span>
<span class="sd">    :meth:`agg_filter &lt;matplotlib.artist.Artist.set_agg_filter&gt;`                            unknown                                                                                                                                        </span>
<span class="sd">    :meth:`alpha &lt;matplotlib.artist.Artist.set_alpha&gt;`                                      float (0.0 transparent through 1.0 opaque)                                                                                                     </span>
<span class="sd">    :meth:`animated &lt;matplotlib.artist.Artist.set_animated&gt;`                                [True | False]                                                                                                                                 </span>
<span class="sd">    :meth:`antialiased &lt;matplotlib.lines.Line2D.set_antialiased&gt;` or aa                     [True | False]                                                                                                                                 </span>
<span class="sd">    :meth:`axes &lt;matplotlib.artist.Artist.set_axes&gt;`                                        an :class:`~matplotlib.axes.Axes` instance                                                                                                     </span>
<span class="sd">    :meth:`clip_box &lt;matplotlib.artist.Artist.set_clip_box&gt;`                                a :class:`matplotlib.transforms.Bbox` instance                                                                                                 </span>
<span class="sd">    :meth:`clip_on &lt;matplotlib.artist.Artist.set_clip_on&gt;`                                  [True | False]                                                                                                                                 </span>
<span class="sd">    :meth:`clip_path &lt;matplotlib.artist.Artist.set_clip_path&gt;`                              [ (:class:`~matplotlib.path.Path`, :class:`~matplotlib.transforms.Transform`) | :class:`~matplotlib.patches.Patch` | None ]                    </span>
<span class="sd">    :meth:`color &lt;matplotlib.lines.Line2D.set_color&gt;` or c                                  any matplotlib color                                                                                                                           </span>
<span class="sd">    :meth:`contains &lt;matplotlib.artist.Artist.set_contains&gt;`                                a callable function                                                                                                                            </span>
<span class="sd">    :meth:`dash_capstyle &lt;matplotlib.lines.Line2D.set_dash_capstyle&gt;`                       [&#39;butt&#39; | &#39;round&#39; | &#39;projecting&#39;]                                                                                                              </span>
<span class="sd">    :meth:`dash_joinstyle &lt;matplotlib.lines.Line2D.set_dash_joinstyle&gt;`                     [&#39;miter&#39; | &#39;round&#39; | &#39;bevel&#39;]                                                                                                                  </span>
<span class="sd">    :meth:`dashes &lt;matplotlib.lines.Line2D.set_dashes&gt;`                                     sequence of on/off ink in points                                                                                                               </span>
<span class="sd">    :meth:`drawstyle &lt;matplotlib.lines.Line2D.set_drawstyle&gt;`                               [&#39;default&#39; | &#39;steps&#39; | &#39;steps-pre&#39; | &#39;steps-mid&#39; | &#39;steps-post&#39;]                                                                               </span>
<span class="sd">    :meth:`figure &lt;matplotlib.artist.Artist.set_figure&gt;`                                    a :class:`matplotlib.figure.Figure` instance                                                                                                   </span>
<span class="sd">    :meth:`fillstyle &lt;matplotlib.lines.Line2D.set_fillstyle&gt;`                               [&#39;full&#39; | &#39;left&#39; | &#39;right&#39; | &#39;bottom&#39; | &#39;top&#39; | &#39;none&#39;]                                                                                        </span>
<span class="sd">    :meth:`gid &lt;matplotlib.artist.Artist.set_gid&gt;`                                          an id string                                                                                                                                   </span>
<span class="sd">    :meth:`label &lt;matplotlib.artist.Artist.set_label&gt;`                                      string or anything printable with &#39;%s&#39; conversion.                                                                                             </span>
<span class="sd">    :meth:`linestyle &lt;matplotlib.lines.Line2D.set_linestyle&gt;` or ls                         [&#39;solid&#39; | &#39;dashed&#39;, &#39;dashdot&#39;, &#39;dotted&#39; | (offset, on-off-dash-seq) | ``&#39;-&#39;`` | ``&#39;--&#39;`` | ``&#39;-.&#39;`` | ``&#39;:&#39;`` | ``&#39;None&#39;`` | ``&#39; &#39;`` | ``&#39;&#39;``]</span>
<span class="sd">    :meth:`linewidth &lt;matplotlib.lines.Line2D.set_linewidth&gt;` or lw                         float value in points                                                                                                                          </span>
<span class="sd">    :meth:`marker &lt;matplotlib.lines.Line2D.set_marker&gt;`                                     :mod:`A valid marker style &lt;matplotlib.markers&gt;`                                                                                               </span>
<span class="sd">    :meth:`markeredgecolor &lt;matplotlib.lines.Line2D.set_markeredgecolor&gt;` or mec            any matplotlib color                                                                                                                           </span>
<span class="sd">    :meth:`markeredgewidth &lt;matplotlib.lines.Line2D.set_markeredgewidth&gt;` or mew            float value in points                                                                                                                          </span>
<span class="sd">    :meth:`markerfacecolor &lt;matplotlib.lines.Line2D.set_markerfacecolor&gt;` or mfc            any matplotlib color                                                                                                                           </span>
<span class="sd">    :meth:`markerfacecoloralt &lt;matplotlib.lines.Line2D.set_markerfacecoloralt&gt;` or mfcalt   any matplotlib color                                                                                                                           </span>
<span class="sd">    :meth:`markersize &lt;matplotlib.lines.Line2D.set_markersize&gt;` or ms                       float                                                                                                                                          </span>
<span class="sd">    :meth:`markevery &lt;matplotlib.lines.Line2D.set_markevery&gt;`                               [None | int | length-2 tuple of int | slice | list/array of int | float | length-2 tuple of float]                                             </span>
<span class="sd">    :meth:`path_effects &lt;matplotlib.artist.Artist.set_path_effects&gt;`                        unknown                                                                                                                                        </span>
<span class="sd">    :meth:`picker &lt;matplotlib.lines.Line2D.set_picker&gt;`                                     float distance in points or callable pick function ``fn(artist, event)``                                                                       </span>
<span class="sd">    :meth:`pickradius &lt;matplotlib.lines.Line2D.set_pickradius&gt;`                             float distance in points                                                                                                                       </span>
<span class="sd">    :meth:`rasterized &lt;matplotlib.artist.Artist.set_rasterized&gt;`                            [True | False | None]                                                                                                                          </span>
<span class="sd">    :meth:`sketch_params &lt;matplotlib.artist.Artist.set_sketch_params&gt;`                      unknown                                                                                                                                        </span>
<span class="sd">    :meth:`snap &lt;matplotlib.artist.Artist.set_snap&gt;`                                        unknown                                                                                                                                        </span>
<span class="sd">    :meth:`solid_capstyle &lt;matplotlib.lines.Line2D.set_solid_capstyle&gt;`                     [&#39;butt&#39; | &#39;round&#39; |  &#39;projecting&#39;]                                                                                                             </span>
<span class="sd">    :meth:`solid_joinstyle &lt;matplotlib.lines.Line2D.set_solid_joinstyle&gt;`                   [&#39;miter&#39; | &#39;round&#39; | &#39;bevel&#39;]                                                                                                                  </span>
<span class="sd">    :meth:`transform &lt;matplotlib.lines.Line2D.set_transform&gt;`                               a :class:`matplotlib.transforms.Transform` instance                                                                                            </span>
<span class="sd">    :meth:`url &lt;matplotlib.artist.Artist.set_url&gt;`                                          a url string                                                                                                                                   </span>
<span class="sd">    :meth:`visible &lt;matplotlib.artist.Artist.set_visible&gt;`                                  [True | False]                                                                                                                                 </span>
<span class="sd">    :meth:`xdata &lt;matplotlib.lines.Line2D.set_xdata&gt;`                                       1D array                                                                                                                                       </span>
<span class="sd">    :meth:`ydata &lt;matplotlib.lines.Line2D.set_ydata&gt;`                                       1D array                                                                                                                                       </span>
<span class="sd">    :meth:`zorder &lt;matplotlib.artist.Artist.set_zorder&gt;`                                    any number                                                                                                                                     </span>
<span class="sd">    =====================================================================================   ===============================================================================================================================================</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span>
<span class="c1">#%% === post July 2016 ===</span>
    
<span class="c1">#%% -- some wrappers... ------</span>
<span class="k">def</span> <span class="nf">cursor</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">horizOn</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">vertOn</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">useblit</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
           <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="o">**</span><span class="n">lineprops</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; My wrapper to mpl.widgets.Cursor</span>
<span class="sd">    </span>
<span class="sd">    See http://matplotlib.org/examples/widgets/index.html for more</span>
<span class="sd">    mpl widgets.</span>
<span class="sd">    </span>
<span class="sd">    For line properties, see </span>
<span class="sd">    http://matplotlib.org/api/lines_api.html#matplotlib.lines.Line2D</span>
<span class="sd">    </span>
<span class="sd">    ::</span>
<span class="sd">    </span>
<span class="sd">        def __init__(self, ax, horizOn=True, vertOn=True, useblit=False,</span>
<span class="sd">                 **lineprops):</span>
<span class="sd">                 </span>
<span class="sd">                 </span>
<span class="sd">    Docstring from original</span>
<span class="sd">    --------------------------</span>
<span class="sd">    A horizontal and vertical line that spans the axes and moves with</span>
<span class="sd">    the pointer.  You can turn off the hline or vline respectively with</span>
<span class="sd">    the following attributes:</span>

<span class="sd">      *horizOn*</span>
<span class="sd">        Controls the visibility of the horizontal line</span>

<span class="sd">      *vertOn*</span>
<span class="sd">        Controls the visibility of the horizontal line</span>

<span class="sd">    and the visibility of the cursor itself with the *visible* attribute.</span>

<span class="sd">    For the cursor to remain responsive you must keep a reference to</span>
<span class="sd">    it.</span>

<span class="sd">    History</span>
<span class="sd">    --------</span>
<span class="sd">    Created 07/26/2016</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">matplotlib.widgets</span> <span class="kn">import</span> <span class="n">Cursor</span> <span class="k">as</span> <span class="n">_Cursor</span>
    <span class="k">if</span> <span class="n">ax</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
        
    <span class="c1"># return since docstring indicates, </span>
    <span class="c1"># &quot;For the cursor to remain responsive you must keep a reference to it.&quot;</span>
    <span class="c1"># otherwise,lines won&#39;t show up</span>
    <span class="k">return</span> <span class="n">_Cursor</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">horizOn</span><span class="p">,</span><span class="n">vertOn</span><span class="p">,</span><span class="n">useblit</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="n">c</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="n">lw</span><span class="p">,</span><span class="o">**</span><span class="n">lineprops</span><span class="p">)</span>
    
    

<span class="k">def</span> <span class="nf">datacursor</span><span class="p">(</span><span class="n">artists</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">draggable</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">display</span><span class="o">=</span><span class="s1">&#39;multiple&#39;</span><span class="p">,</span>
               <span class="n">arrowprops</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A direct wrapper to ``mpldatacursor.datacursor`` (create 07/26/20261)</span>
<span class="sd">    </span>
<span class="sd">    Usage</span>
<span class="sd">    -----</span>
<span class="sd">    &gt;&gt;&gt; datacursor(</span>
<span class="sd">    &gt;&gt;&gt;     formatter=&#39;(i, j) = ({i}, {j})\\nz = {z:.2f}&#39;.format,</span>
<span class="sd">    &gt;&gt;&gt;     draggable=True,</span>
<span class="sd">    &gt;&gt;&gt;     axes=plt.gca(),</span>
<span class="sd">    &gt;&gt;&gt;     arrowprops=dict(arrowstyle=&#39;-&gt;&#39;, connectionstyle=&#39;arc3,rad=0&#39;,</span>
<span class="sd">    &gt;&gt;&gt;     edgecolor=&#39;magenta&#39;), display=display)</span>
<span class="sd">    </span>
<span class="sd">    Below is docstring from original</span>
<span class="sd">    </span>
<span class="sd">    ------</span>
<span class="sd">    </span>
<span class="sd">    Create an interactive data cursor for the specified artists or specified</span>
<span class="sd">    axes. The data cursor displays information about a selected artist in a</span>
<span class="sd">    &quot;popup&quot; annotation box.</span>

<span class="sd">    If a specific sequence of artists is given, only the specified artists will</span>
<span class="sd">    be interactively selectable.  Otherwise, all manually-plotted artists in</span>
<span class="sd">    *axes* will be used (*axes* defaults to all axes in all figures).</span>

<span class="sd">    Parameters</span>
<span class="sd">    -----------</span>
<span class="sd">    artists : a matplotlib artist or sequence of artists, optional</span>
<span class="sd">        The artists to make selectable and display information for. If this is</span>
<span class="sd">        not specified, then all manually plotted artists in `axes` will be</span>
<span class="sd">        used.</span>
<span class="sd">    axes : a matplotlib axes of sequence of axes, optional</span>
<span class="sd">        The axes to selected artists from if a sequence of artists is not</span>
<span class="sd">        specified.  If `axes` is not specified, then all available axes in all</span>
<span class="sd">        figures will be used.</span>
<span class="sd">    tolerance : number, optional</span>
<span class="sd">        The radius (in points) that the mouse click must be within to select</span>
<span class="sd">        the artist. Default: 5 points.</span>
<span class="sd">    formatter : callable, optional</span>
<span class="sd">        A function that accepts arbitrary kwargs and returns a string that will</span>
<span class="sd">        be displayed with annotate. Often, it is convienent to pass in the</span>
<span class="sd">        format method of a template string, e.g.</span>
<span class="sd">        ``formatter=&quot;{label}&quot;.format``.</span>
<span class="sd">        Keyword arguments passed in to the `formatter` function:</span>
<span class="sd">            `x`, `y` : floats</span>
<span class="sd">                The x and y data coordinates of the clicked point</span>
<span class="sd">            `event` : a matplotlib ``PickEvent``</span>
<span class="sd">                The pick event that was fired (note that the selected</span>
<span class="sd">                artist can be accessed through ``event.artist``).</span>
<span class="sd">            `label` : string or None</span>
<span class="sd">                The legend label of the selected artist.</span>
<span class="sd">            `ind` : list of ints or None</span>
<span class="sd">                If the artist has &quot;subitems&quot; (e.g. points in a scatter or</span>
<span class="sd">                line plot), this will be a list of the item(s) that were</span>
<span class="sd">                clicked on.  If the artist does not have &quot;subitems&quot;, this</span>
<span class="sd">                will be None. Note that this is always a list, even when</span>
<span class="sd">                a single item is selected.</span>
<span class="sd">        Some selected artists may supply additional keyword arguments that</span>
<span class="sd">        are not always present, for example:</span>
<span class="sd">            `z` : number</span>
<span class="sd">                The &quot;z&quot; (usually color or array) value, if present. For an</span>
<span class="sd">                ``AxesImage`` (as created by ``imshow``), this will be the</span>
<span class="sd">                uninterpolated array value at the point clicked. For a</span>
<span class="sd">                ``PathCollection`` (as created by ``scatter``) this will be the</span>
<span class="sd">                &quot;c&quot; value if an array was passed to &quot;c&quot;.</span>
<span class="sd">            `i`, `j` : ints</span>
<span class="sd">                The row, column indicies of the selected point for an</span>
<span class="sd">                ``AxesImage`` (as created by ``imshow``)</span>
<span class="sd">            `s` : number</span>
<span class="sd">                The size of the selected item in a ``PathCollection`` if a size</span>
<span class="sd">                array is specified.</span>
<span class="sd">            `c` : number</span>
<span class="sd">                The array value displayed as color for a ``PathCollection``</span>
<span class="sd">                if a &quot;c&quot; array is specified (identical to &quot;z&quot;).</span>
<span class="sd">            `point_label` : list</span>
<span class="sd">                If `point_labels` is given when the data cursor is initialized</span>
<span class="sd">                and the artist has &quot;subitems&quot;, this will be a list of the items</span>
<span class="sd">                of `point_labels` that correspond to the selected artists.</span>
<span class="sd">                Note that this is always a list, even when a single artist is</span>
<span class="sd">                selected.</span>
<span class="sd">            `width`, `height`, `top`, `bottom` : numbers</span>
<span class="sd">                The parameters for ``Rectangle`` artists (e.g. bar plots).</span>
<span class="sd">    point_labels : sequence or dict, optional</span>
<span class="sd">        For artists with &quot;subitems&quot; (e.g. Line2D&#39;s), the item(s) of</span>
<span class="sd">        `point_labels` corresponding to the selected &quot;subitems&quot; of the artist</span>
<span class="sd">        will be passed into the formatter function as the &quot;point_label&quot; kwarg.</span>
<span class="sd">        If a single sequence is given, it will be used for all artists with</span>
<span class="sd">        &quot;subitems&quot;. Alternatively, a dict of artist:sequence pairs may be given</span>
<span class="sd">        to match an artist to the correct series of point labels.</span>
<span class="sd">    display : {&quot;one-per-axes&quot;, &quot;single&quot;, &quot;multiple&quot;}, optional</span>
<span class="sd">        Controls whether more than one annotation box will be shown.</span>
<span class="sd">        Default: &quot;one-per-axes&quot;</span>
<span class="sd">    draggable : boolean, optional</span>
<span class="sd">        Controls whether or not the annotation box will be interactively</span>
<span class="sd">        draggable to a new location after being displayed. Defaults to False.</span>
<span class="sd">    hover : boolean, optional</span>
<span class="sd">        If True, the datacursor will &quot;pop up&quot; when the mouse hovers over an</span>
<span class="sd">        artist.  Defaults to False.  Enabling hover also sets</span>
<span class="sd">        `display=&quot;single&quot;` and `draggable=False`.</span>
<span class="sd">    props_override : function, optional</span>
<span class="sd">        If specified, this function customizes the parameters passed into the</span>
<span class="sd">        formatter function and the x, y location that the datacursor &quot;pop up&quot;</span>
<span class="sd">        &quot;points&quot; to.  This is often useful to make the annotation &quot;point&quot; to a</span>
<span class="sd">        specific side or corner of an artist, regardless of the position</span>
<span class="sd">        clicked. The function is passed the same kwargs as the `formatter`</span>
<span class="sd">        function and is expected to return a dict with at least the keys &quot;x&quot;</span>
<span class="sd">        and &quot;y&quot; (and probably several others).</span>
<span class="sd">        Expected call signature: `props_dict = props_override(**kwargs)`</span>
<span class="sd">    keybindings : boolean or dict, optional</span>
<span class="sd">        By default, the keys &quot;d&quot; and &quot;t&quot; will be bound to deleting/hiding all</span>
<span class="sd">        annotation boxes and toggling interactivity for datacursors,</span>
<span class="sd">        respectively.  If keybindings is False, the ability to hide/toggle</span>
<span class="sd">        datacursors interactively will be disabled. Alternatively, a dict of</span>
<span class="sd">        the form {&#39;hide&#39;:&#39;somekey&#39;, &#39;toggle&#39;:&#39;somekey&#39;} may specified to</span>
<span class="sd">        customize the keyboard shortcuts.</span>
<span class="sd">    date_format : string, optional</span>
<span class="sd">        The strftime-style formatting string for dates. Used only if the x or y</span>
<span class="sd">        axes have been set to display dates. Defaults to &quot;%x %X&quot;.</span>
<span class="sd">    display_button: int, optional</span>
<span class="sd">        The mouse button that will triggers displaying an annotation box.</span>
<span class="sd">        Defaults to 1, for left-clicking. (Common options are 1:left-click,</span>
<span class="sd">        2:middle-click, 3:right-click)</span>
<span class="sd">    hide_button: int or None, optional</span>
<span class="sd">        The mouse button that triggers hiding the selected annotation box.</span>
<span class="sd">        Defaults to 3, for right-clicking. (Common options are 1:left-click,</span>
<span class="sd">        2:middle-click, 3:right-click, None:hiding disabled)</span>
<span class="sd">    keep_inside : boolean, optional</span>
<span class="sd">        Whether or not to adjust the x,y offset to keep the text box inside the</span>
<span class="sd">        figure. This option has no effect on draggable datacursors. Defaults to</span>
<span class="sd">        True. Note: Currently disabled on OSX and NbAgg/notebook backends.</span>
<span class="sd">    **kwargs : additional keyword arguments, optional</span>
<span class="sd">        Additional keyword arguments are passed on to annotate.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dc : A ``mpldatacursor.DataCursor`` instance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">arrowprops</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">arrowprops</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s1">&#39;-&gt;&#39;</span><span class="p">,</span>
                          <span class="n">connectionstyle</span><span class="o">=</span><span class="s1">&#39;arc3,rad=0&#39;</span><span class="p">,</span>
                          <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
    <span class="kn">import</span> <span class="nn">mpldatacursor</span>
    <span class="n">dc</span> <span class="o">=</span> <span class="n">mpldatacursor</span><span class="o">.</span><span class="n">datacursor</span><span class="p">(</span><span class="n">artists</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">arrowprops</span><span class="o">=</span><span class="n">arrowprops</span><span class="p">,</span>
                             <span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span><span class="n">draggable</span><span class="o">=</span><span class="n">draggable</span><span class="p">,</span>
                             <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dc</span>
<span class="c1">#%% === my lazy functions ===</span>
<span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;my lazy plot, where new figure is generated (created 07/20/2016)</span>
<span class="sd">    </span>
<span class="sd">    kwargs accepts stuffs to plt.plot</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="c1">#%% === frequently used functions ===</span>
<span class="k">class</span> <span class="nc">Formatter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; My version of impixelinfo (used in ``imtak``)</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    z_is_int : bool (default=False)</span>
<span class="sd">        Display z value as integer (Feature added 10/28/2015)</span>
<span class="sd">    flag_one_based : bool (default=False)</span>
<span class="sd">        Show x,y info as 1-based indexing like Matlab (Feature added 10/28/2015)</span>

<span class="sd">    Ref</span>
<span class="sd">    ---</span>
<span class="sd">    I got this beautiful shit from stackoverflow:</span>

<span class="sd">    http://stackoverflow.com/questions/27704490/interactive-pixel-information-of-an-image-in-python</span>

<span class="sd">    Update</span>
<span class="sd">    ------</span>
<span class="sd">    06/02/2016 - impixelinfo functionality now available as default in imshow.</span>
<span class="sd">    code modified accordingly.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">im</span><span class="p">,</span> <span class="n">z_int</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">one_based_indexing</span> <span class="o">=</span> <span class="bp">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">im</span> <span class="o">=</span> <span class="n">im</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_int</span> <span class="o">=</span> <span class="n">z_int</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">one_based_indexing</span> <span class="o">=</span> <span class="n">one_based_indexing</span>

    <span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">im</span><span class="o">.</span><span class="n">get_array</span><span class="p">()[</span><span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)]</span>

        <span class="c1"># the +0.5 offset makes the cursor location more accurate when hovering</span>
        <span class="c1"># over the pixel location</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">one_based_indexing</span><span class="p">:</span>
            <span class="n">xx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mf">1.5</span><span class="p">)</span> <span class="c1"># type cast to int</span>
            <span class="n">yy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="mf">1.5</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">xx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="o">+.</span><span class="mi">5</span><span class="p">)</span>
            <span class="n">yy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="o">+.</span><span class="mi">5</span><span class="p">)</span>

<span class="c1">#        return &#39;x={:.01f}, y={:.01f}, z={:.01f}&#39;.format(x, y, z)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">z_int</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;(x={:d}, y={:d}), z={:3d}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
            <span class="c1">#return &#39;(x={:d}, y={:d}), z={:3d}&#39;.format(int(x), int(y), z)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1">#return &#39;( i , j ) = ({:d}, {:d})    {:5.2e}&#39;.format(int(y), int(x), z)</span>
            <span class="c1">#return &#39;( i , j ) = ({:d}, {:d})    {:.2f}&#39;.format(int(y), int(x), z)</span>
            <span class="c1">#return &#39;( i , j ) = ({:d}, {:d})    {:.2f}&#39;.format(xx,yy, z)</span>
            <span class="k">return</span> <span class="s1">&#39;( i , j ) = [{:d}, {:d}]   &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">yy</span><span class="p">,</span><span class="n">xx</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">figure</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span><span class="n">fignum</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; My figure generator with control over figure size and position</span>

<span class="sd">    Usage</span>
<span class="sd">    -------</span>
<span class="sd">    &gt;&gt;&gt; fig = tw.figure(&#39;full&#39;)</span>

<span class="sd">    Parameter</span>
<span class="sd">    ---------</span>
<span class="sd">    pos : string or tuple of (x,y,dx,dy) (default=&#39;default&#39;, which gives default screensize)</span>
<span class="sd">        If a **tuple**, should be length 4 of ``(x,y,dx,dy)``, where</span>

<span class="sd">         - x = xstart position</span>
<span class="sd">         - y = ystart position</span>
<span class="sd">         - dx = xlength</span>
<span class="sd">         - dy = ylength</span>

<span class="sd">        If a **string**, the following options are recognized:</span>

<span class="sd">        - ``&#39;f&#39;`` or ``&#39;full&#39;`` (full screen)</span>
<span class="sd">        - ``&#39;l&#39;`` or ``&#39;left&#39;`` (left half of screen)</span>
<span class="sd">        - ``&#39;r&#39;`` or ``&#39;right&#39;`` (right half of screen)</span>
<span class="sd">        - ``&#39;t&#39;`` or ``&#39;top&#39;`` (top half of screen)</span>
<span class="sd">        - ``&#39;b&#39;`` or ``&#39;bottom&#39;`` (bottom half of screen)</span>
<span class="sd">        - ``&#39;tl&#39;`` or ``&#39;topleft&#39;``</span>
<span class="sd">        - ``&#39;tr&#39;`` or ``&#39;topright&#39;``</span>
<span class="sd">        - ``&#39;bl&#39;`` or ``&#39;bottomleft&#39;``</span>
<span class="sd">        - ``&#39;br&#39;`` or ``&#39;bottomright&#39;``</span>

<span class="sd">    fignum : int (optional)</span>
<span class="sd">        assign figure number (optional)</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    figure number</span>

<span class="sd">    Reference</span>
<span class="sd">    -----------</span>
<span class="sd">    - http://doc.qt.io/qt-4.8/qwidget.html for api</span>
<span class="sd">    - http://stackoverflow.com/questions/7449585/how-do-you-set-the-absolute-position-of-figure-windows-with-matplotlib</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">fignum</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">fignum</span><span class="p">)</span>
    <span class="c1">#plt.plot()</span>
        
    <span class="n">fig_set_geom</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
    <span class="c1">#%%</span>
    <span class="k">return</span> <span class="n">fig</span>


<span class="k">def</span> <span class="nf">fig_set_geom</span><span class="p">(</span><span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_default</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Set figure dimension</span>

<span class="sd">    Usage</span>
<span class="sd">    -------</span>
<span class="sd">    &gt;&gt;&gt; plt.figure()</span>
<span class="sd">    &gt;&gt;&gt; tw.fig_set_geom(&#39;full&#39;)</span>

<span class="sd">    Parameter</span>
<span class="sd">    ---------</span>
<span class="sd">    pos : string or tuple of (x,y,dx,dy) (default=&#39;default&#39;, which gives default screensize)</span>
<span class="sd">        If a **tuple**, should be length 4 of ``(x,y,dx,dy)``, where</span>

<span class="sd">         - x = xstart position</span>
<span class="sd">         - y = ystart position</span>
<span class="sd">         - dx = xlength</span>
<span class="sd">         - dy = ylength</span>

<span class="sd">        If a **string**, the following options are recognized:</span>

<span class="sd">        - ``&#39;f&#39;`` or ``&#39;full&#39;`` (full screen)</span>
<span class="sd">        - ``&#39;l&#39;`` or ``&#39;left&#39;`` (left half of screen)</span>
<span class="sd">        - ``&#39;r&#39;`` or ``&#39;right&#39;`` (right half of screen)</span>
<span class="sd">        - ``&#39;t&#39;`` or ``&#39;top&#39;`` (top half of screen)</span>
<span class="sd">        - ``&#39;b&#39;`` or ``&#39;bottom&#39;`` (bottom half of screen)</span>
<span class="sd">        - ``&#39;tl&#39;`` or ``&#39;topleft&#39;``</span>
<span class="sd">        - ``&#39;tr&#39;`` or ``&#39;topright&#39;``</span>
<span class="sd">        - ``&#39;bl&#39;`` or ``&#39;bottomleft&#39;``</span>
<span class="sd">        - ``&#39;br&#39;`` or ``&#39;bottomright&#39;``</span>


<span class="sd">    Reference</span>
<span class="sd">    -----------</span>
<span class="sd">    - http://doc.qt.io/qt-4.8/qwidget.html for api</span>
<span class="sd">    - http://stackoverflow.com/questions/7449585/how-do-you-set-the-absolute-position-of-figure-windows-with-matplotlib</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">pos</span> <span class="ow">is</span> <span class="s1">&#39;default&#39;</span><span class="p">:</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_default</span>
        <span class="k">elif</span> <span class="n">pos</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">,</span><span class="s1">&#39;full&#39;</span><span class="p">):</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_full</span>
        <span class="k">elif</span> <span class="n">pos</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;f2&#39;</span><span class="p">,</span><span class="s1">&#39;full2&#39;</span><span class="p">):</span>
            <span class="c1"># added 10/05/2016 - fullscreen on my main monitor</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_full2</span>
        <span class="k">elif</span> <span class="n">pos</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;l&#39;</span><span class="p">,</span><span class="s1">&#39;left&#39;</span><span class="p">):</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_left</span>
        <span class="k">elif</span> <span class="n">pos</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;right&#39;</span><span class="p">):</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_right</span>
        <span class="k">elif</span> <span class="n">pos</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span><span class="s1">&#39;top&#39;</span><span class="p">):</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_top</span>
        <span class="k">elif</span> <span class="n">pos</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;bottom&#39;</span><span class="p">):</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_bottom</span>
        <span class="k">elif</span> <span class="n">pos</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;tl&#39;</span><span class="p">,</span><span class="s1">&#39;topleft&#39;</span><span class="p">):</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_tl</span>
        <span class="k">elif</span> <span class="n">pos</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;tr&#39;</span><span class="p">,</span><span class="s1">&#39;topright&#39;</span><span class="p">):</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_tr</span>
        <span class="k">elif</span> <span class="n">pos</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;bl&#39;</span><span class="p">,</span><span class="s1">&#39;bottomleft&#39;</span><span class="p">):</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_bl</span>
        <span class="k">elif</span> <span class="n">pos</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;br&#39;</span><span class="p">,</span><span class="s1">&#39;bottomright&#39;</span><span class="p">):</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">_screen_br</span>
    
    <span class="k">try</span><span class="p">:</span> <span class="c1">#added this 08/22/2016 to run on non-interactive server</span>
        <span class="n">mngr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_current_fig_manager</span><span class="p">()</span>
        <span class="n">mngr</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="o">*</span><span class="n">pos</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">,</span> <span class="n">err</span><span class="p">:</span>
        <span class="n">str_warning</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Assign figure-size using pyplot&quot;</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">str_warning</span><span class="p">)</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span>
        <span class="n">x_len</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="n">fig</span><span class="o">.</span><span class="n">dpi</span> <span class="c1"># &lt;- convert from pixel to inches</span>
        <span class="n">y_len</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">/</span><span class="n">fig</span><span class="o">.</span><span class="n">dpi</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="n">x_len</span><span class="p">,</span><span class="n">y_len</span><span class="p">,</span><span class="n">forward</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">fig_get_geom</span><span class="p">(</span><span class="n">as_ndarray</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Get window geometry as either length 4 tuple or ndarray</span>

<span class="sd">    Parameters</span>
<span class="sd">    ------------</span>
<span class="sd">    as_ndarray : bool (default = True)</span>
<span class="sd">        Return as ndarray (if False, will return a tuple)</span>

<span class="sd">    Returns</span>
<span class="sd">    ---------</span>
<span class="sd">    If a **tuple**, should be length 4 of ``(x,y,dx,dy)``, where</span>

<span class="sd">         - x = xstart position</span>
<span class="sd">         - y = ystart position</span>
<span class="sd">         - dx = xlength</span>
<span class="sd">         - dy = ylength</span>

<span class="sd">    If an **ndarray**, an array of shape [4,] will be returned</span>

<span class="sd">    The below source code should clarify wtf i mean</span>

<span class="sd">    .. code:: python</span>

<span class="sd">        if as_ndarray:</span>
<span class="sd">            return np.array([x,y,dx,dy])</span>
<span class="sd">        else:</span>
<span class="sd">            return x,y,dx,dy</span>

<span class="sd">    Reference</span>
<span class="sd">    -----------</span>
<span class="sd">    - http://doc.qt.io/qt-4.8/qwidget.html for api</span>
<span class="sd">    - http://stackoverflow.com/questions/7449585/how-do-you-set-the-absolute-position-of-figure-windows-with-matplotlib</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mngr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_current_fig_manager</span><span class="p">()</span>
    <span class="n">geom</span> <span class="o">=</span> <span class="n">mngr</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">dx</span><span class="p">,</span><span class="n">dy</span> <span class="o">=</span> <span class="n">geom</span><span class="o">.</span><span class="n">getRect</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">as_ndarray</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">dx</span><span class="p">,</span><span class="n">dy</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">dx</span><span class="p">,</span><span class="n">dy</span>
        
        
<span class="k">def</span> <span class="nf">purge</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot; My lazy close all &quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">imexp</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Fullscreen on my secondary monitor (10/01/2015)&quot;&quot;&quot;</span>
    <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">dx</span><span class="p">,</span><span class="n">dy</span><span class="o">=</span><span class="n">_screen_full</span>
    <span class="n">mngr</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_current_fig_manager</span><span class="p">()</span>
    <span class="n">mngr</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">dx</span><span class="p">,</span><span class="n">dy</span><span class="p">)</span>
<span class="c1">#%% === statistics related plots ===</span>
<span class="k">def</span> <span class="nf">get_fs_pvalue_ranksum_indices</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">scores</span><span class="p">,</span><span class="n">k</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span><span class="n">impute</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">corr_type</span><span class="o">=</span><span class="s1">&#39;pearson&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; My &quot;quick&quot; routine for getting feature selection</span>

<span class="sd">    Usage</span>
<span class="sd">    -----</span>
<span class="sd">    &gt;&gt;&gt; X,y,df = twio.get_tbi_connectomes(return_all_scores=True)</span>
<span class="sd">    &gt;&gt;&gt; X /= X.max(axis=0)</span>
<span class="sd">    &gt;&gt;&gt; X[np.isnan(X) | np.isinf(X)] = 0</span>
<span class="sd">    &gt;&gt;&gt;</span>
<span class="sd">    &gt;&gt;&gt; scores = df.ix[:,-11:]</span>
<span class="sd">    &gt;&gt;&gt; idx_fs, idx_fs_vec, inv_fs = util.get_fs_pvalue_ranksum_indices(X,scores,k=1000)</span>
<span class="sd">    &gt;&gt;&gt;</span>
<span class="sd">    &gt;&gt;&gt; X_fs = X[:,idx_fs]</span>

<span class="sd">    History</span>
<span class="sd">    --------</span>
<span class="sd">    - updated 02/23/2016: added option ``corr_type`` with ``&#39;pearson&#39;`` as</span>
<span class="sd">      default (for backward compatibility)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">n</span><span class="p">,</span><span class="n">p</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">idx_ranking</span> <span class="o">=</span> <span class="n">get_pvalue_ranksum</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">scores</span><span class="p">,</span><span class="n">impute</span><span class="p">,</span><span class="n">corr_type</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># sort the index for consistency</span>
    <span class="n">idx_fs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">idx_ranking</span><span class="p">[:</span><span class="n">k</span><span class="p">])</span>  <span class="c1"># select top-k features</span>

    <span class="n">idx_fs_vec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">idx_fs_vec</span><span class="p">[</span><span class="n">idx_fs</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1"># &quot;inverse-transform&quot; operator to &quot;undo&quot; feature selection</span>
    <span class="n">inv_fs</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">inverse_fs_transform</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">idx_fs</span><span class="p">,</span> <span class="n">n_feat</span><span class="o">=</span><span class="n">p</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">idx_fs</span><span class="p">,</span> <span class="n">idx_fs_vec</span><span class="p">,</span> <span class="n">inv_fs</span>


<span class="k">def</span> <span class="nf">plt_ttest_boxplot_H</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">threshold</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span><span class="n">show_rugs</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="s1">&#39;f&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Plot boxplots of NMF embedding coefficinets across two populations</span>
<span class="sd">    </span>
<span class="sd">    Note: to avoid cluttering the figure canvas, max-number of boxplots at 64</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    H : ndarray</span>
<span class="sd">        Array of shape=(num_samples,num_features)</span>
<span class="sd">    y : ndarray</span>
<span class="sd">        Binary label array</span>
<span class="sd">    show_rugs : bool</span>
<span class="sd">        Show rugs (scatterplots of &quot;x&quot; marks)</span>
<span class="sd">    figsize : string</span>
<span class="sd">        Argument to tw.fig_set_geom</span>
<span class="sd">        </span>
<span class="sd">    History</span>
<span class="sd">    --------</span>
<span class="sd">    - 08/11/2016 -- added option ``figsize``</span>
<span class="sd">    - 07/25/2016 -- added option ``show_rugs``</span>
<span class="sd">    - 06/20/2016 -- imported from my old NMF project. made few updates as well</span>
<span class="sd">    - 02/05/2016: ylim adjusted to ignore outlier</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">H</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">tstats</span><span class="p">,</span><span class="n">pval</span><span class="p">,</span><span class="n">_</span> <span class="o">=</span> <span class="n">ttest_fdr_corrected</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
    <span class="n">idx_rej</span> <span class="o">=</span> <span class="p">(</span><span class="n">pval</span> <span class="o">&lt;</span> <span class="n">threshold</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">plt_get_nrow_ncol</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
        <span class="n">fsize</span><span class="o">=</span><span class="mi">12</span>
        <span class="k">if</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="p">:</span>               <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span><span class="mi">3</span>
        <span class="k">elif</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">):</span>  <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span><span class="mi">5</span>
        <span class="k">elif</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">13</span><span class="p">):</span>  <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span><span class="mi">4</span>
        <span class="k">elif</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">16</span><span class="p">):</span> <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span><span class="mi">5</span>
        <span class="k">elif</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">21</span><span class="p">):</span> <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span><span class="mi">5</span>
        <span class="k">elif</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span><span class="mi">26</span><span class="p">):</span> <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span><span class="mi">5</span>
        <span class="k">elif</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">26</span><span class="p">,</span><span class="mi">37</span><span class="p">):</span> <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span><span class="mi">6</span>
        <span class="k">elif</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">37</span><span class="p">,</span><span class="mi">50</span><span class="p">):</span> <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span><span class="p">,</span><span class="n">fsize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span>
        <span class="k">elif</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">65</span><span class="p">):</span> <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span><span class="p">,</span><span class="n">fsize</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span>
        <span class="k">elif</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">65</span><span class="p">,</span><span class="mi">90</span><span class="p">):</span> <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span><span class="p">,</span><span class="n">fsize</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">7</span>
        <span class="k">else</span><span class="p">:</span>                   <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span><span class="p">,</span><span class="n">fsize</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span>
        <span class="k">return</span> <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span><span class="p">,</span><span class="n">fsize</span>
    <span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span><span class="p">,</span><span class="n">fsize</span> <span class="o">=</span> <span class="n">plt_get_nrow_ncol</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

    <span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="p">)</span>
    <span class="c1">#fig,ax = plt.subplots(4,4)</span>
    <span class="c1">#ax.ravel()</span>
    <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">r</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">idx</span> <span class="o">&gt;</span> <span class="mi">99</span><span class="p">:</span> 
            <span class="k">break</span> <span class="c1"># max subplots at 64</span>
    <span class="c1">#    if idx &gt; 4:</span>
    <span class="c1">#        break</span>
    <span class="c1">#    if 1:#idx_rej[idx]:</span>
        <span class="n">n1</span> <span class="o">=</span> <span class="p">(</span><span class="n">y</span><span class="o">==+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
        <span class="n">n2</span> <span class="o">=</span> <span class="p">(</span><span class="n">y</span><span class="o">==-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
        <span class="n">xx1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">n1</span><span class="p">)</span>
        <span class="n">xx2</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">n2</span><span class="p">)</span>

        <span class="n">yy1</span> <span class="o">=</span> <span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==+</span><span class="mi">1</span><span class="p">,</span><span class="n">idx</span><span class="p">]</span>
        <span class="n">yy2</span> <span class="o">=</span> <span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==-</span><span class="mi">1</span><span class="p">,</span><span class="n">idx</span><span class="p">]</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">nrow</span><span class="p">,</span><span class="n">ncol</span><span class="p">,</span><span class="n">idx</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1">#plt.boxplot([yy1,yy2],positions=[1,2])</span>
        <span class="c1"># http://stackoverflow.com/questions/22028064/matplotlib-boxplot-without-outliers</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">boxplot</span><span class="p">([</span><span class="n">yy1</span><span class="p">,</span><span class="n">yy2</span><span class="p">],</span><span class="n">positions</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">showfliers</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
        <span class="n">ylim</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>
        <span class="c1"># overlay scatter-plot</span>
        <span class="k">if</span> <span class="n">show_rugs</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xx1</span><span class="p">,</span><span class="n">yy1</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="c1"># disease group (+1)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xx2</span><span class="p">,</span><span class="n">yy2</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="c1"># control group (-1)</span>
            <span class="c1">#plt.xlim((-1,4))</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">ylim</span><span class="p">)</span> <span class="c1"># undo ylim change from scatterplot</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;t={:3.2e} (p={:3.2e})&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tstats</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span><span class="n">pval</span><span class="p">[</span><span class="n">idx</span><span class="p">]),</span>
                  <span class="n">fontsize</span><span class="o">=</span><span class="n">fsize</span><span class="p">,</span><span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
        
        <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span> <span class="c1"># change xy-label tick sizes</span>
        <span class="k">if</span> <span class="n">idx_rej</span><span class="p">[</span><span class="n">idx</span><span class="p">]:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_axis_bgcolor</span><span class="p">(</span><span class="s1">&#39;#ccffcc&#39;</span><span class="p">)</span>
        <span class="c1">#plt.title(idx)</span>
<span class="c1">#    plt.pause(0.05)</span>



<span class="k">def</span> <span class="nf">plt_scatter_2group</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update 02/16/2016: added 3rd argument w, which represents hyperplane</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">H</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">r</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
        <span class="c1">#%%</span>
        <span class="n">figure</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==+</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">w</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            http://scikit-learn.org/stable/auto_examples/svm/</span>
<span class="sd">                plot_separating_hyperplane.html</span>
<span class="sd">            http://stackoverflow.com/questions/10953997/</span>
<span class="sd">                python-scikits-learn-separating-hyperplane-equation</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">min_x</span><span class="p">,</span><span class="n">max_x</span> <span class="o">=</span> <span class="n">H</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">H</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="c1">#            min_y,max_y = H[:,1].min(), H[:,1].max()</span>
<span class="c1">#            xx = np.linspace(min_x,max_x,101)</span>
            <span class="n">xx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">101</span><span class="p">)</span>
<span class="c1">#            yy = np.linspace(min_y,max_y,101)</span>
<span class="c1">#            XX,YY = np.meshgrid(xx,yy)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="o">==</span> <span class="n">r</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">b</span> <span class="o">=</span> <span class="o">-</span><span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">a</span> <span class="o">=</span> <span class="o">-</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">z</span> <span class="o">=</span> <span class="n">a</span><span class="o">*</span><span class="n">xx</span> <span class="o">-</span> <span class="n">b</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">xx</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>
<span class="c1">#            plt.xlim(min_x,max_x)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>
            <span class="c1">#%%</span>

    <span class="k">if</span> <span class="n">r</span><span class="o">==</span><span class="mi">3</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>
        <span class="n">figure</span><span class="p">()</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;3d&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==+</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==+</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">H</span><span class="p">[</span><span class="n">y</span><span class="o">==-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1">#%% === import from core.py ===</span>
<span class="k">def</span> <span class="nf">plt_show_slices</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">):</span>
   <span class="sd">&quot;&quot;&quot; Function to display row of image slices &quot;&quot;&quot;</span>
   <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
   <span class="n">slices</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="n">x</span><span class="p">,:,:],</span>
             <span class="n">data</span><span class="p">[:,</span><span class="n">y</span><span class="p">,:],</span>
             <span class="n">data</span><span class="p">[:,:,</span><span class="n">z</span><span class="p">]]</span>
   <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="nb">slice</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">slices</span><span class="p">):</span>
       <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="nb">slice</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s2">&quot;lower&quot;</span><span class="p">)</span>
       
<span class="k">def</span> <span class="nf">imtak</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">clim</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">cbar</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">symm_clim</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">multicursor</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
          <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">,</span><span class="n">draw_lines</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update 04/27/2016 - added clim option</span>
<span class="sd">    Update 06/21/2016 - added cbar option</span>
<span class="sd">    Update 07/14/2016 - added few more options</span>
<span class="sd">    Update 07/22/2016 - added option ``draw_lines``</span>
<span class="sd">    Update 07/26/2016 - changed default for multicursor to True. also added</span>
<span class="sd">    *artist* argument (otherwise, all cursors syncs across different figures)</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    orientation : string</span>
<span class="sd">        orientation of colorbar (only relevant if cbar=True).</span>
<span class="sd">        Either &#39;vertical&#39; or &#39;horizontal&#39;</span>
<span class="sd">    kwargs : kwargs</span>
<span class="sd">        kwargs for ``plt.imshow``</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">matplotlib.widgets</span> <span class="kn">import</span> <span class="n">Cursor</span>
    <span class="kn">import</span> <span class="nn">mpldatacursor</span>

    <span class="n">img</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">im</span><span class="p">,</span><span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="c1">#img=plt.matshow(im,interpolation=&#39;none&#39;,**kwargs)</span>
    <span class="c1">#plt.colorbar()</span>

    <span class="k">if</span> <span class="n">multicursor</span><span class="p">:</span>
        <span class="n">display</span><span class="o">=</span><span class="s2">&quot;multiple&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">display</span><span class="o">=</span><span class="s2">&quot;single&quot;</span>

    <span class="n">dc</span> <span class="o">=</span> <span class="n">mpldatacursor</span><span class="o">.</span><span class="n">datacursor</span><span class="p">(</span>
        <span class="n">artists</span><span class="o">=</span><span class="p">[</span><span class="n">img</span><span class="p">],</span>
        <span class="n">formatter</span><span class="o">=</span><span class="s1">&#39;(i, j) = ({i}, {j})</span><span class="se">\n</span><span class="s1">z = {z:.2f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">,</span>
        <span class="n">draggable</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">axes</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">(),</span>
        <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">arrowstyle</span><span class="o">=</span><span class="s1">&#39;-&gt;&#39;</span><span class="p">,</span> <span class="n">connectionstyle</span><span class="o">=</span><span class="s1">&#39;arc3,rad=0&#39;</span><span class="p">,</span>
               <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;magenta&#39;</span><span class="p">),</span> <span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">)</span>
    <span class="n">Cursor</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">(),</span><span class="n">useblit</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span> <span class="mi">1</span> <span class="p">)</span>

    <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">format_coord</span> <span class="o">=</span> <span class="n">Formatter</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

    <span class="c1"># --- handle bunch of options ---</span>
    <span class="k">if</span> <span class="n">cbar</span><span class="p">:</span>
        <span class="c1">## http://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph</span>
        <span class="k">if</span> <span class="n">orientation</span><span class="o">==</span><span class="s1">&#39;vertical&#39;</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">(),</span><span class="n">fraction</span><span class="o">=</span><span class="mf">0.046</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.04</span><span class="p">,</span><span class="n">orientation</span><span class="o">=</span><span class="n">orientation</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">orientation</span><span class="o">==</span><span class="s1">&#39;horizontal&#39;</span><span class="p">:</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">(),</span><span class="n">fraction</span><span class="o">=</span><span class="mf">0.046</span><span class="p">,</span> <span class="n">pad</span><span class="o">=-</span><span class="mf">0.25</span><span class="p">,</span><span class="n">orientation</span><span class="o">=</span><span class="n">orientation</span><span class="p">)</span>
        

    <span class="k">if</span> <span class="n">clim</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">()</span><span class="o">.</span><span class="n">set_clim</span><span class="p">(</span><span class="n">clim</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">symm_clim</span><span class="p">:</span>
        <span class="n">plt_caxis_symm</span><span class="p">()</span>
        
    <span class="k">if</span> <span class="n">draw_lines</span><span class="p">:</span>
        <span class="n">plt_draw_lines_pixels</span><span class="p">()</span>
        
    <span class="c1"># remove annoying ticks</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span><span class="n">bottom</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span><span class="n">top</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span><span class="n">left</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span><span class="n">right</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">)</span> 
        
    <span class="c1"># put xticks on top (not bottom)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span><span class="n">labeltop</span><span class="o">=</span><span class="s1">&#39;on&#39;</span><span class="p">,</span><span class="n">labelbottom</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
    <span class="c1">#plt.tick_params(axis=&#39;x&#39;,which=&#39;major&#39;,labeltop=&#39;off&#39;,labelbottom=&#39;on&#39;)</span>
    
    <span class="k">return</span> <span class="n">img</span>


<span class="k">def</span> <span class="nf">imtakk</span><span class="p">(</span><span class="n">im</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; for kwargs, see imtak&quot;&quot;&quot;</span>
    <span class="n">figure</span><span class="p">()</span>
    <span class="n">imtak</span><span class="p">(</span><span class="n">im</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">imconnmat_hemi_subplot_86</span><span class="p">(</span><span class="n">W</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="s1">&#39;f&#39;</span><span class="p">,</span><span class="n">ticks</span><span class="o">=</span><span class="s1">&#39;name_short2&#39;</span><span class="p">,</span><span class="n">suptitle</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
                              <span class="n">symm_clim</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Display connectivity by hemisphere as subplots (left,right,inter-hemisphere) (created 10/24/2015)</span>

<span class="sd">    Demo usage: https://github.com/takwatanabe2004/tak-ace-ibis/blob/master/python/pnc/dump/proto_imconnmat_hemi_subplot_86_and_imgridsearch_subplot_2d.ipynb</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    W : ndarray</span>
<span class="sd">        Symmetric matrix representing connectivity</span>
<span class="sd">        (if vector is supplied, will be converted into a symmetric matrix internally)</span>
<span class="sd">    suptitle : optional</span>
<span class="sd">        Optional subplot title</span>
<span class="sd">    symm_clim : bool</span>
<span class="sd">        Symmetrize colormap</span>
<span class="sd">    kwargs : kwargs</span>
<span class="sd">        kwargs for ``plt.imshow`` and ``imtak``</span>
<span class="sd">        </span>
<span class="sd">    Note</span>
<span class="sd">    -----</span>
<span class="sd">    for now, just assume we&#39;re only dealing with the 86 parcellation</span>
<span class="sd">    (think about how to extend this function for other parcellation later)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#backend = mpl.get_backend()</span>
    <span class="kn">from</span> <span class="nn">.conn</span> <span class="kn">import</span> <span class="n">get_node_info86</span>

    <span class="c1">#=========================================================================#</span>
    <span class="c1"># Colormap issue</span>
    <span class="c1"># https://github.com/matplotlib/matplotlib/issues/3644</span>
    <span class="c1">#-------------------------------------------------------------------------#</span>
    <span class="c1"># i cannot set colorbar cmap easily...as an adhoc workaround, store the</span>
    <span class="c1"># original cmap here, and set it back at the end</span>
    <span class="c1">#=========================================================================#</span>
    <span class="c1">#cmap_original = mpl.rcParams[&#39;image.cmap&#39;]</span>
    <span class="c1"># change cmap temporarily for this function</span>
    <span class="c1">#mpl.rcParams[&#39;image.cmap&#39;] = &#39;seismic&#39;</span>
    <span class="k">if</span> <span class="n">hostname</span> <span class="o">==</span> <span class="s1">&#39;takanori-PC&#39;</span><span class="p">:</span>
        <span class="n">figure</span><span class="p">([</span><span class="mi">8</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">1904</span><span class="p">,</span><span class="mi">860</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">figure</span><span class="p">([</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">60</span><span class="p">,</span> <span class="mi">1598</span><span class="p">,</span>  <span class="mi">700</span><span class="p">])</span>
        
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">suptitle</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="n">suptitle</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="ow">is</span> <span class="mi">1</span><span class="p">:</span>
        <span class="c1"># W supplied is in vector form... convert to symmetric matrix form</span>
        <span class="n">W</span> <span class="o">=</span> <span class="n">sqform</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>

    <span class="c1"># get node info (used for tick labels)</span>
    <span class="c1">#df_node = get_node_info86()</span>
    <span class="n">ticks</span> <span class="o">=</span> <span class="n">get_node_info86</span><span class="p">()[</span><span class="n">ticks</span><span class="p">]</span><span class="o">.</span><span class="n">values</span> <span class="c1"># use lobes as default</span>

    <span class="k">if</span> <span class="n">symm_clim</span><span class="p">:</span>
        <span class="n">clim</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">W</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">W</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">clim</span> <span class="o">=</span> <span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">W</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
        
    <span class="n">connmat_setup</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span>
                         <span class="n">newfig</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                         <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap</span><span class="p">,</span>
                         <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    
    <span class="sd">&quot;&quot;&quot; Update 11/03 - Only show yticks on the left-most subplot &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">hemi</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="s1">&#39;inter&#39;</span><span class="p">,</span><span class="s1">&#39;right&#39;</span><span class="p">]):</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
        <span class="n">imconnmat_hemi</span><span class="p">(</span><span class="n">W</span><span class="p">,</span><span class="n">ticks</span><span class="p">,</span><span class="n">ticks</span><span class="p">,</span><span class="n">hemi</span><span class="o">=</span><span class="n">hemi</span><span class="p">,</span><span class="o">**</span><span class="n">connmat_setup</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">()</span><span class="o">.</span><span class="n">colorbar</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">clim</span><span class="p">(</span><span class="n">clim</span><span class="p">)</span>
        <span class="c1">#print clim</span>
    
    <span class="c1">#=========================================================================#</span>
    <span class="c1"># Colorbar placement</span>
    <span class="c1">#-------------------------------------------------------------------------#</span>
    <span class="c1"># for now, place them on top of the subplot...</span>
    <span class="c1"># i had to tweek the values here...figure out how to automate this process</span>
    <span class="c1">#=========================================================================#</span>
    <span class="c1"># Make an axis for the colorbar on the right side</span>
    <span class="c1"># http://stackoverflow.com/questions/7875688/how-can-i-create-a-standard-colorbar-for-a-series-of-plots-in-python</span>
    <span class="n">cax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.93</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.062</span><span class="p">])</span> <span class="c1"># [left,bottom,width,height]01</span>
    <span class="k">if</span> <span class="n">symm_clim</span><span class="p">:</span>
        <span class="n">plt_caxis_symm</span><span class="p">()</span> <span class="c1"># &lt;- needed to update the symmetrized colorbar...</span>
    <span class="n">cbar</span><span class="o">=</span><span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">(),</span> <span class="n">cax</span><span class="o">=</span><span class="n">cax</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span> <span class="n">ticks</span> <span class="o">=</span> <span class="n">plt_cbar_ticks</span><span class="p">())</span>
    <span class="c1">#cax = fig.add_axes([0.99, 0.1, 0.01, 0.8]) # [left,bottom,width,height]01</span>
    <span class="c1">#fig.colorbar(plt.gci(), cax=cax, orientation=&#39;vertical&#39;)</span>
    <span class="c1">#plt.tight_layout()</span>

    <span class="c1"># change colorbar fontsize</span>
    <span class="c1"># http://stackoverflow.com/questions/29074820/how-do-i-change-the-font-size-of-ticks-of-matplotlib-pyplot-colorbar-colorbarbas</span>
    <span class="c1"># http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes.tick_params</span>
    <span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="c1">#cbar.set_label(&#39;Coefficient weights&#39;) # &lt;- just know this exists</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">imconnmat_hemi</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="n">xtick_label</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">ytick_label</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">hemi</span><span class="o">=</span><span class="s1">&#39;L&#39;</span><span class="p">,</span>
                   <span class="n">symm_clim</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">newfig</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span><span class="n">title_str</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Show subset of connectome (&#39;L&#39;,&#39;R&#39;, or &#39;inter&#39;)</span>

<span class="sd">    Warning</span>
<span class="sd">    -------</span>
<span class="sd">    Only works for the desikan86 parcellation, where the first half is from the</span>
<span class="sd">    left hemisphere and the other half is from the right....</span>

<span class="sd">    Parameters</span>
<span class="sd">    -----------</span>
<span class="sd">    W : ndarray</span>
<span class="sd">        Symmetric matrix representing connectivity</span>
<span class="sd">        (if vector is supplied, will be converted into a symmetric matrix internally)</span>
<span class="sd">    hemi : string (default: &#39;L&#39;)</span>
<span class="sd">        string indicating what part to show</span>

<span class="sd">        Supported (case insensitive):</span>

<span class="sd">        - &#39;L&#39; or &#39;left&#39;</span>
<span class="sd">        - &#39;R&#39; or &#39;right&#39;</span>
<span class="sd">        - &#39;I&#39; or &#39;inter&#39; (for interhemisphere)</span>
<span class="sd">    symm_clim : bool</span>
<span class="sd">        Symmetrize colormap</span>
<span class="sd">    kwargs : kwargs</span>
<span class="sd">        kwargs for ``plt.imshow`` and ``imtak``</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="ow">is</span> <span class="mi">1</span><span class="p">:</span>
        <span class="c1"># W supplied is in vector form... convert to symmetric matrix form</span>
        <span class="n">W</span> <span class="o">=</span> <span class="n">sqform</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>

    <span class="c1">#%% np.ix_ for extracting submatrix in numpy via indexing...</span>
    <span class="c1"># ref: http://stackoverflow.com/questions/19161512/numpy-extract-submatrix</span>
    <span class="c1">#      http://docs.scipy.org/doc/numpy/reference/generated/numpy.ix_.html</span>
    <span class="c1">#%%</span>
    <span class="n">connmat_setup</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span>
                         <span class="n">newfig</span><span class="o">=</span><span class="n">newfig</span><span class="p">,</span>
                         <span class="n">cmap</span> <span class="o">=</span> <span class="n">cmap</span><span class="p">,</span>
                         <span class="n">symm_clim</span><span class="o">=</span><span class="n">symm_clim</span><span class="p">,</span>
                         <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                         
    <span class="c1">#print connmat_setup.keys()</span>
                         
    <span class="c1"># === get hemisphere info === #                         </span>
    <span class="n">idx_L</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">43</span><span class="p">)</span>
    <span class="n">idx_R</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">43</span><span class="p">,</span><span class="mi">86</span><span class="p">)</span>
    
    <span class="c1"># extract relevant submatrix</span>
    <span class="k">if</span> <span class="n">hemi</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;l&#39;</span><span class="p">,</span><span class="s1">&#39;left&#39;</span><span class="p">):</span>
        <span class="c1"># extract left-hemisphere</span>
        <span class="n">Whemi</span> <span class="o">=</span> <span class="n">W</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ix_</span><span class="p">(</span><span class="n">idx_L</span><span class="p">,</span><span class="n">idx_L</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">xtick_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">xtick_label</span> <span class="o">=</span> <span class="n">xtick_label</span><span class="p">[</span><span class="n">idx_L</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">ytick_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">ytick_label</span> <span class="o">=</span> <span class="n">ytick_label</span><span class="p">[</span><span class="n">idx_L</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">title_str</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">title_str</span> <span class="o">=</span> <span class="s1">&#39;Left-hemisphere&#39;</span>
    <span class="k">elif</span> <span class="n">hemi</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="s1">&#39;right&#39;</span><span class="p">):</span>
        <span class="c1"># extract right-hemisphere</span>
        <span class="n">Whemi</span> <span class="o">=</span> <span class="n">W</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ix_</span><span class="p">(</span><span class="n">idx_R</span><span class="p">,</span><span class="n">idx_R</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">xtick_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">xtick_label</span> <span class="o">=</span> <span class="n">xtick_label</span><span class="p">[</span><span class="n">idx_R</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">ytick_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">ytick_label</span> <span class="o">=</span> <span class="n">ytick_label</span><span class="p">[</span><span class="n">idx_R</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">title_str</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">title_str</span> <span class="o">=</span> <span class="s1">&#39;Right-hemisphere&#39;</span>
    <span class="k">elif</span> <span class="n">hemi</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">,</span><span class="s1">&#39;inter&#39;</span><span class="p">):</span>
        <span class="c1"># extract inter-hemisphere</span>
        <span class="n">Whemi</span> <span class="o">=</span> <span class="n">W</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ix_</span><span class="p">(</span><span class="n">idx_R</span><span class="p">,</span><span class="n">idx_L</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">xtick_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">xtick_label</span> <span class="o">=</span> <span class="n">xtick_label</span><span class="p">[</span><span class="n">idx_L</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">ytick_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">ytick_label</span> <span class="o">=</span> <span class="n">ytick_label</span><span class="p">[</span><span class="n">idx_R</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">title_str</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">title_str</span> <span class="o">=</span> <span class="s1">&#39;Inter-hemisphere&#39;</span>
    <span class="n">imconnmat</span><span class="p">(</span> <span class="n">Whemi</span><span class="p">,</span> <span class="n">xtick_label</span><span class="p">,</span> <span class="n">ytick_label</span><span class="p">,</span><span class="o">**</span><span class="n">connmat_setup</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title_str</span><span class="p">)</span>


<div class="viewcode-block" id="imconnmat"><a class="viewcode-back" href="../../python/supervised_nmf.html#tak.imconnmat">[docs]</a><span class="k">def</span> <span class="nf">imconnmat</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="n">xtick_label</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">ytick_label</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
              <span class="n">colorbar</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">,</span><span class="n">symm_clim</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">newfig</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
              <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Display connectivity matrix</span>

<span class="sd">    Created 10/19/2015</span>

<span class="sd">    Parameters</span>
<span class="sd">    -----------</span>
<span class="sd">    W : ndarray</span>
<span class="sd">        matrix representing connectivity (if a vector, will get converted into</span>
<span class="sd">        a symmetric matrix via sqform function)</span>
<span class="sd">    xtick_label : list/ndarray of strings of label</span>
<span class="sd">        list/ndarray of strings of label</span>
<span class="sd">    ytick_label : list/ndarray of strings of label</span>
<span class="sd">        list/ndarray of strings of label</span>
<span class="sd">    fontsize : default 8</span>
<span class="sd">    newfig : ...</span>
<span class="sd">        &#39;fullscreen&#39;,&#39;f&#39;, etc</span>
<span class="sd">    kwargs : kwargs</span>
<span class="sd">        kwargs for ``plt.imshow`` and ``imtak``</span>

<span class="sd">    See also</span>
<span class="sd">    --------</span>
<span class="sd">    imgridsearch</span>

<span class="sd">    Update history</span>
<span class="sd">    --------------</span>
<span class="sd">    - 02/05/2016: added ``colorbar`` option</span>
<span class="sd">    - 07/22/2016: replaced ``pcolormesh`` with ``imtak``</span>
<span class="sd">    - 08/10/2016: added option &#39;cmap&#39; and kwargs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">newfig</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">figure</span><span class="p">(</span><span class="n">newfig</span><span class="p">)</span>
        
<span class="c1">#    figure()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="ow">is</span> <span class="mi">1</span><span class="p">:</span>
        <span class="c1"># W supplied is in vector form... convert to symmetric matrix form</span>
        <span class="n">W</span> <span class="o">=</span> <span class="n">sqform</span><span class="p">(</span><span class="n">W</span><span class="p">)</span>

    <span class="c1">#plt.pcolormesh(W,edgecolors=&#39;k&#39;,lw=1,cmap=&#39;seismic&#39;)</span>
    <span class="n">imtak</span><span class="p">(</span><span class="n">W</span><span class="p">,</span><span class="n">orientation</span><span class="o">=</span><span class="n">colorbar</span><span class="p">,</span><span class="n">draw_lines</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">symm_clim</span><span class="o">=</span><span class="n">symm_clim</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">plt_draw_lines_pixels</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">xtick_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">xtick_label</span><span class="p">)),</span> <span class="n">xtick_label</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ytick_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ytick_label</span><span class="p">)),</span> <span class="n">ytick_label</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>
        
    <span class="c1"># put xticks on top (not bottom)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span><span class="n">labeltop</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span><span class="n">labelbottom</span><span class="o">=</span><span class="s1">&#39;on&#39;</span><span class="p">)</span>
    
    <span class="c1"># plt.tight_layout()</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">)</span> <span class="c1"># &lt;- removes the awkward boundary (comment out this line to see what i mean)</span>
    
    <span class="k">if</span> <span class="n">cmap</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">()</span><span class="o">.</span><span class="n">set_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="p">)</span></div>
    
    


<span class="k">def</span> <span class="nf">imgridsearch</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="n">xtick_label</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">ytick_label</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
                 <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;hot&#39;</span><span class="p">,</span><span class="n">show_max</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">show_cbar</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Display gridsearch matrix</span>

<span class="sd">    Created 10/21/2015</span>

<span class="sd">    Parameters</span>
<span class="sd">    -----------</span>
<span class="sd">    W : ndarray</span>
<span class="sd">        matrix representing connectivity</span>
<span class="sd">    xtick_label : list/ndarray of strings of label</span>
<span class="sd">        list/ndarray of strings of label</span>
<span class="sd">    ytick_label : list/ndarray of strings of label</span>
<span class="sd">        list/ndarray of strings of label</span>
<span class="sd">    fontsize : default 8</span>
<span class="sd">    show_max : bool (default: False)</span>
<span class="sd">        show max location (ignores ties for now)</span>
<span class="sd">    show_cbar : bool (default: False)</span>
<span class="sd">        show colorbar</span>

<span class="sd">    See also</span>
<span class="sd">    --------</span>
<span class="sd">    imconnmat</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#print kwargs</span>
    <span class="n">cmap_original</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.cmap&#39;</span><span class="p">]</span>
    <span class="c1"># change cmap temporarily for this function</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.cmap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmap</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">pcolormesh</span><span class="p">(</span><span class="n">W</span><span class="p">,</span><span class="n">edgecolors</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">xtick_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">xtick_label</span><span class="p">)),</span> <span class="n">xtick_label</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ytick_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ytick_label</span><span class="p">)),</span> <span class="n">ytick_label</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>
    <span class="c1"># plt.tight_layout()</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">)</span> <span class="c1"># &lt;- removes the awkward boundary (comment out this line to see what i mean)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
    <span class="c1">#plt.colorbar()</span>

    <span class="c1"># remove ticks</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span>
        <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span>          <span class="c1"># changes apply to the x-axis</span>
        <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span>      <span class="c1"># both major and minor ticks are affected</span>
        <span class="n">bottom</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span>
        <span class="n">left</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span>
        <span class="n">right</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span>
        <span class="n">top</span><span class="o">=</span><span class="s1">&#39;off&#39;</span>
        <span class="p">)</span>
    <span class="c1"># symmetrize caxis</span>
    <span class="c1">#caxis_symm()</span>

    <span class="c1"># impixelinfo imitator</span>
    <span class="n">imtak</span><span class="p">(</span><span class="n">W</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_cbar</span><span class="p">:</span>
        <span class="c1">#plt.colorbar()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">(),</span><span class="n">fraction</span><span class="o">=</span><span class="mf">0.046</span><span class="p">,</span>
                            <span class="n">pad</span><span class="o">=</span><span class="mf">0.04</span><span class="p">,</span><span class="n">ticks</span> <span class="o">=</span> <span class="n">cbar_ticks</span><span class="p">(),</span>
                            <span class="n">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%.3f</span><span class="s1">&#39;</span><span class="p">)</span>


    <span class="k">if</span> <span class="n">show_max</span><span class="p">:</span>
        <span class="c1">#</span>
        <span class="n">row_max</span><span class="p">,</span><span class="n">col_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unravel_index</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">argmax</span><span class="p">(),</span> <span class="n">W</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
        <span class="k">assert</span><span class="p">(</span> <span class="n">W</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">==</span> <span class="n">W</span><span class="p">[</span><span class="n">row_max</span><span class="p">,</span><span class="n">col_max</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">col_max</span><span class="o">+.</span><span class="mi">5</span><span class="p">,</span><span class="n">row_max</span><span class="o">+.</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;{:3.3f}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">max</span><span class="p">()),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
                 <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span><span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

        <span class="c1">#=== show all ties ===</span>
        <span class="c1"># find out all the peaks</span>
        <span class="k">for</span> <span class="n">idx_ties</span> <span class="ow">in</span> <span class="n">argmax_ties</span><span class="p">(</span><span class="n">W</span><span class="p">):</span>
            <span class="n">ymax</span> <span class="o">=</span> <span class="n">idx_ties</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">xmax</span> <span class="o">=</span> <span class="n">idx_ties</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="c1"># note: 0.5 added to make ticks align nicely</span>
            <span class="c1"># (has to do with how pcolormesh work)</span>
            <span class="c1">#plt.text(xmax+0.5,ymax+0.5, r&#39;$\mathbf{\times}$&#39;)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xmax</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="n">ymax</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;bx&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
                     <span class="n">markeredgewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.cmap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmap_original</span>


<span class="k">def</span> <span class="nf">imgridsearch_subplot_2d</span><span class="p">(</span><span class="n">acclist</span><span class="p">,</span> <span class="n">xtick_label</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">ytick_label</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                            <span class="n">n_col</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span><span class="n">suptitle</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                            <span class="n">markTies</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Compact display of 2d gridsearch results for ipynb (created 10/24/2015)</span>

<span class="sd">    Assumes 2 hyperparameters.</span>

<span class="sd">    Function relies on ``imgridsearch``</span>

<span class="sd">    Demo usage: https://github.com/takwatanabe2004/tak-ace-ibis/blob/master/python/pnc/dump/proto_imconnmat_hemi_subplot_86_and_imgridsearch_subplot_2d.ipynb</span>

<span class="sd">    Parameters</span>
<span class="sd">    -----------</span>
<span class="sd">    accgrid : list of ndarray</span>
<span class="sd">        Each list element is a 2d array representing accuracy at different</span>
<span class="sd">        hyperparameter values.</span>
<span class="sd">    xtick_label : list/ndarray of strings of label</span>
<span class="sd">        list/ndarray of strings of label</span>
<span class="sd">    ytick_label : list/ndarray of strings of label</span>
<span class="sd">        list/ndarray of strings of label</span>
<span class="sd">    xlabel : string (default None)</span>
<span class="sd">        xlabel display</span>
<span class="sd">    ylabel : string (default None)</span>
<span class="sd">        ylabel display</span>
<span class="sd">    n_col : int (default 3)</span>
<span class="sd">        number of subplot columns to display per each row</span>

<span class="sd">    Warning</span>
<span class="sd">    --------</span>
<span class="sd">    I often get x/y and the rows/cols mixed up...always do sanity checks</span>
<span class="sd">    to ensure i didn&#39;t f up something</span>

<span class="sd">    See Also</span>
<span class="sd">    ---------</span>
<span class="sd">    :func:`imgridsearch`:</span>
<span class="sd">        this function calls this to create the nice &quot;box&quot; type display using</span>
<span class="sd">        imcolormesh</span>
<span class="sd">    :func:`imconnmat_hemi_sub_86`:</span>
<span class="sd">        same idea as this function</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#%% parse inputs</span>
    <span class="k">if</span> <span class="n">xtick_label</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">xtick_label</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">acclist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">ytick_label</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">ytick_label</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">acclist</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">xlabel</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="c1">#xlabel = r&#39;log$_2$($\lambda$)&#39;</span>
        <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;hyperparameter2&#39;</span>
    <span class="k">if</span> <span class="n">ylabel</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="c1">#ylabel = r&#39;log$_2$($\alpha$)&#39;</span>
        <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;hyperparameter1&#39;</span>
    <span class="n">backend</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">get_backend</span><span class="p">()</span>

    <span class="c1">#=========================================================================#</span>
    <span class="c1"># Colormap issue</span>
    <span class="c1"># https://github.com/matplotlib/matplotlib/issues/3644</span>
    <span class="c1">#-------------------------------------------------------------------------#</span>
    <span class="c1"># i cannot set colorbar cmap easily...as an adhoc workaround, store the</span>
    <span class="c1"># original cmap here, and set it back at the end</span>
    <span class="c1">#=========================================================================#</span>
    <span class="n">cmap_original</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.cmap&#39;</span><span class="p">]</span>
    <span class="c1"># change cmap temporarily for this function</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.cmap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;hot&#39;</span>

    <span class="k">if</span> <span class="n">backend</span> <span class="o">==</span> <span class="s1">&#39;module://ipykernel.pylab.backend_inline&#39;</span><span class="p">:</span>
        <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
        <span class="n">fs_sup</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="k">elif</span> <span class="n">backend</span> <span class="o">==</span> <span class="s1">&#39;Qt4Agg&#39;</span><span class="p">:</span>
        <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
        <span class="n">fs_sup</span> <span class="o">=</span> <span class="mi">24</span> <span class="c1"># sup title fontsize</span>

    <span class="c1">#%% alright, let&#39;s begin</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">acc_grid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">acclist</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span><span class="o">%</span><span class="n">n_col</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">)</span>
            <span class="n">cnt</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">suptitle</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Cross-Validation Accuracy&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fs_sup</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="n">suptitle</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="n">fs_sup</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n_col</span><span class="p">,</span><span class="n">cnt</span><span class="p">)</span>
        <span class="n">cnt</span><span class="o">+=</span><span class="mi">1</span>

        <span class="c1"># fugly if statements below, but does its job...</span>
        <span class="k">if</span> <span class="n">vmin</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">vmax</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">imgridsearch</span><span class="p">(</span><span class="n">acc_grid</span><span class="p">,</span><span class="n">xtick_label</span><span class="p">,</span><span class="n">ytick_label</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span><span class="n">show_max</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">vmin</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1"># sometimes i like to specify the lowerbound of caxis only</span>
            <span class="n">imgridsearch</span><span class="p">(</span><span class="n">acc_grid</span><span class="p">,</span><span class="n">xtick_label</span><span class="p">,</span><span class="n">ytick_label</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span><span class="n">show_max</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="n">vmin</span><span class="p">,</span><span class="n">vmax</span><span class="o">=</span><span class="n">acc_grid</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
        <span class="k">elif</span> <span class="n">vmin</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">vmax</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">imgridsearch</span><span class="p">(</span><span class="n">acc_grid</span><span class="p">,</span><span class="n">xtick_label</span><span class="p">,</span><span class="n">ytick_label</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">,</span><span class="n">show_max</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="n">vmin</span><span class="p">,</span><span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">)</span>

        <span class="c1"># optional: mark peak with &quot;x&quot; marks....including ties</span>
        <span class="k">if</span> <span class="n">markTies</span><span class="p">:</span>
            <span class="c1"># find out all the peaks</span>
            <span class="k">for</span> <span class="n">idx_ties</span> <span class="ow">in</span> <span class="n">argmax_ties</span><span class="p">(</span><span class="n">acc_grid</span><span class="p">):</span>
                <span class="n">ymax</span> <span class="o">=</span> <span class="n">idx_ties</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">xmax</span> <span class="o">=</span> <span class="n">idx_ties</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="c1"># note: 0.5 added to make ticks align nicely</span>
                <span class="c1"># (has to do with how pcolormesh work)</span>
                <span class="c1">#plt.text(xmax+0.5,ymax+0.5, r&#39;$\mathbf{\times}$&#39;)</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xmax</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="n">ymax</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;bx&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
                         <span class="n">markeredgewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

        <span class="c1"># argh...my ocd&#39;ness is bothered by the trivial detail like below...</span>
        <span class="k">if</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="ow">is</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">title_str</span> <span class="o">=</span> <span class="s1">&#39; 1st CV fold&#39;</span>
        <span class="k">elif</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="ow">is</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">title_str</span> <span class="o">=</span> <span class="s1">&#39; 2nd CV fold&#39;</span>
        <span class="k">elif</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="ow">is</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">title_str</span> <span class="o">=</span> <span class="s1">&#39; 3rd CV fold&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">title_str</span> <span class="o">=</span> <span class="s1">&#39;{:2}th CV fold&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title_str</span><span class="o">+</span><span class="s1">&#39; (Max = {:4.2f}%)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">acc_grid</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span>

        <span class="c1">#=====================================================================#</span>
        <span class="c1"># Colorbar placement</span>
        <span class="c1">#---------------------------------------------------------------------#</span>
        <span class="c1"># for now, place them on top of the subplot...</span>
        <span class="c1"># i had to tweek the values here...figure out how to automate this process</span>
        <span class="c1">#=====================================================================#</span>
        <span class="c1"># Make an axis for the colorbar on the top side</span>
        <span class="c1"># http://stackoverflow.com/questions/7875688/how-can-i-create-a-standard-colorbar-for-a-series-of-plots-in-python</span>
        <span class="n">cax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.93</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.062</span><span class="p">])</span> <span class="c1"># [left,bottom,width,height]01</span>
        <span class="n">cbar</span><span class="o">=</span><span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">(),</span> <span class="n">cax</span><span class="o">=</span><span class="n">cax</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span> <span class="n">ticks</span> <span class="o">=</span> <span class="n">plt_cbar_ticks</span><span class="p">())</span>
        <span class="c1">#cax = fig.add_axes([0.99, 0.1, 0.01, 0.8]) # [left,bottom,width,height]01</span>
        <span class="c1">#fig.colorbar(plt.gci(), cax=cax, orientation=&#39;vertical&#39;)</span>
        <span class="c1">#plt.tight_layout()</span>

        <span class="c1"># change colorbar fontsize</span>
        <span class="c1"># http://stackoverflow.com/questions/29074820/how-do-i-change-the-font-size-of-ticks-of-matplotlib-pyplot-colorbar-colorbarbas</span>
        <span class="c1"># http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes.tick_params</span>
        <span class="n">cbar</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="c1">#cbar.set_label(&#39;Coefficient weights&#39;) # &lt;- just know this exists</span>


    <span class="c1"># set colormap back to original</span>
    <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.cmap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmap_original</span>
<span class="c1">#%% ==== style fixers =====</span>
<span class="k">def</span> <span class="nf">plt_symm_xaxis</span><span class="p">():</span>
    <span class="n">xlim_abs</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="n">xlim_abs</span><span class="p">,</span><span class="n">xlim_abs</span><span class="p">)</span>
    
    
<span class="k">def</span> <span class="nf">plt_draw_lines_pixels</span><span class="p">(</span><span class="n">axis_type</span> <span class="o">=</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mf">1.5</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Draw border lines (used with ``imtak``)</span>
<span class="sd">    </span>
<span class="sd">    ::</span>
<span class="sd">    </span>
<span class="sd">        D = np.random.randn(50,20)</span>
<span class="sd">        tw.imtakk(D, symm_clim=True,cbar=False)</span>
<span class="sd">        plt.gci().set_cmap(&#39;seismic&#39;)</span>
<span class="sd">        tw.plt_draw_lines_pixels(&#39;tight&#39;)</span>
<span class="sd">        plt.colorbar()</span>
<span class="sd">        </span>
<span class="sd">    </span>
<span class="sd">    Created 07/17/2016</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">)</span> <span class="c1"># &lt;- needed to ensure the xlim/ylim below captures the right range</span>
    <span class="n">ymin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">())</span>
    <span class="n">ymax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">())</span>
    <span class="n">xmin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">())</span>
    <span class="n">xmax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">())</span>
    
    <span class="n">line_options</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">colors</span><span class="o">=</span><span class="n">c</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="n">lw</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">xx</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">xmax</span><span class="p">))</span><span class="o">-</span><span class="mf">0.5</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">ymin</span><span class="o">=</span><span class="n">ymin</span><span class="p">,</span><span class="n">ymax</span><span class="o">=</span><span class="n">ymax</span><span class="p">,</span><span class="o">**</span><span class="n">line_options</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">yy</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">round</span><span class="p">(</span><span class="n">ymax</span><span class="p">))</span><span class="o">-</span><span class="mf">0.5</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">yy</span><span class="p">,</span><span class="n">xmin</span><span class="o">=</span><span class="n">xmin</span><span class="p">,</span><span class="n">xmax</span><span class="o">=</span><span class="n">xmax</span><span class="p">,</span><span class="o">**</span><span class="n">line_options</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="n">axis_type</span><span class="p">)</span>
    <span class="c1">#fig=plt.gcf()</span>
    <span class="c1">#fig.delaxes(fig.axes[1]) # &lt;- the index here is crucial</span>
    <span class="c1">#tw.colorbar(&#39;horizontal&#39;)</span>
<span class="c1">#%% --- colorbar/cmap related ---</span>
<span class="sd">&quot;&quot;&quot; This cell contains simple functions that changes styles on existing figures&quot;&quot;&quot;</span>
<span class="k">def</span> <span class="nf">colorbar</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;My version of colorbar that matches the vertical size well</span>
<span class="sd">    </span>
<span class="sd">    orientation : string</span>
<span class="sd">        &#39;vertical&#39; or &#39;horizontal&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># http://stackoverflow.com/questions/18195758/set-matplotlib-colorbar-size-to-match-graph</span>
    <span class="k">if</span> <span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;vertical&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">(),</span><span class="n">fraction</span><span class="o">=</span><span class="mf">0.046</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.04</span><span class="p">,</span><span class="n">orientation</span><span class="o">=</span><span class="n">orientation</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">orientation</span> <span class="o">==</span> <span class="s1">&#39;horizontal&#39;</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">(),</span><span class="n">fraction</span><span class="o">=</span><span class="mf">0.046</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mf">0.04</span><span class="p">,</span><span class="n">orientation</span><span class="o">=</span><span class="n">orientation</span><span class="p">)</span>
        
    
    
<span class="k">def</span> <span class="nf">plt_colorbar_cmap</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; My custom colorbar function that includes the cmap argument (clunky but works)</span>

<span class="sd">    Warning</span>
<span class="sd">    ---------</span>
<span class="sd">    FUNCTION NOT FULLY TESTED YET!</span>

<span class="sd">    Returns</span>
<span class="sd">    --------</span>
<span class="sd">    cbar : object</span>
<span class="sd">        colorbar object</span>

<span class="sd">    Description</span>
<span class="sd">    -------------</span>
<span class="sd">    I cannot set colorbar cmap easily...see https://github.com/matplotlib/matplotlib/issues/3644</span>

<span class="sd">    As an adhoc workaround, here I change the rcParams temporarily, display</span>
<span class="sd">    the colorbar, and then reset the original rcParams value.</span>

<span class="sd">    See the code to see wth i&#39;m doing...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">cmap</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;cmap not given...defeats the purpose of this function&#39;</span><span class="p">)</span>
        <span class="n">cbar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">cmap_original</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.cmap&#39;</span><span class="p">]</span>

        <span class="c1"># change cmap temporarily for this function</span>
        <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.cmap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmap</span>
        <span class="k">print</span> <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.cmap&#39;</span><span class="p">]</span>
        <span class="n">cbar</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># revert back to the original cmap</span>
        <span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;image.cmap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmap_original</span>

    <span class="k">return</span> <span class="n">cbar</span>

<span class="k">def</span> <span class="nf">plt_cbar_ticks</span><span class="p">(</span><span class="n">num_ticks</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">mappable</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Convenience script</span>

<span class="sd">    Have colorbar only show tickts at [min, mid, max]</span>

<span class="sd">    TODO</span>
<span class="sd">    -----</span>
<span class="sd">    Include integer as input to indicate how many &quot;inbetween&quot; markers to add</span>

<span class="sd">    Usage</span>
<span class="sd">    ------</span>
<span class="sd">    &gt;&gt;&gt; plt.imshow(W)</span>
<span class="sd">    &gt;&gt;&gt; plt.colorbar(orientation=&#39;horizontal&#39;, pad = pad,ticks=plt_cbar_ticks())</span>
<span class="sd">    </span>
<span class="sd">    History</span>
<span class="sd">    -------</span>
<span class="sd">    - 10/30/2015 - Added optional ``mappable`` parameter</span>
<span class="sd">    - 07/22/2016 - added option ``num_ticks``. also use linspace to return values</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">mappable</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="c1"># try to get ScalarMappable object</span>
        <span class="c1"># http://stackoverflow.com/questions/13060450/how-to-get-current-plots-clim-in-matplotlib</span>
        <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">()</span><span class="o">.</span><span class="n">get_clim</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">mappable</span><span class="o">.</span><span class="n">get_clim</span><span class="p">()</span>
    <span class="c1">#return np.array([vmin, (vmin+vmax)/2, vmax])</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">vmin</span><span class="p">,</span><span class="n">vmax</span><span class="p">,</span><span class="n">num_ticks</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">plt_caxis_symm</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot; symmetrize caxis in imshow (called vmin, vmax in python)</span>

<span class="sd">    Created 10/19/2015</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">()</span><span class="o">.</span><span class="n">get_clim</span><span class="p">()</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">vmin</span><span class="p">),</span> <span class="n">vmax</span><span class="p">]</span> <span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">()</span><span class="o">.</span><span class="n">set_clim</span><span class="p">(</span><span class="n">vmin</span><span class="o">=-</span><span class="n">v</span><span class="p">,</span><span class="n">vmax</span><span class="o">=</span><span class="n">v</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">plt_symm_caxis</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot; symmetrize caxis in imshow (called vmin, vmax in python)&quot;&quot;&quot;</span>
    <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">()</span><span class="o">.</span><span class="n">get_clim</span><span class="p">()</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">vmin</span><span class="p">),</span> <span class="n">vmax</span><span class="p">]</span> <span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gci</span><span class="p">()</span><span class="o">.</span><span class="n">set_clim</span><span class="p">(</span><span class="n">vmin</span><span class="o">=-</span><span class="n">v</span><span class="p">,</span><span class="n">vmax</span><span class="o">=</span><span class="n">v</span><span class="p">)</span>

<span class="c1">#| just use ``plt.clim()``</span>
<span class="c1">#def plt_clim(clim):</span>
<span class="c1">#    &quot;&quot;&quot; Shortcut to cim (Created 06/21/2016)&quot;&quot;&quot;</span>
<span class="c1">#    plt.gci().set_clim(clim)</span>
    
<span class="k">def</span> <span class="nf">plt_legend_move</span><span class="p">(</span><span class="n">xpos</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span><span class="n">ypos</span><span class="o">=</span><span class="mf">0.7</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Used since pandas plot&#39;s legend often hides the important part of image.</span>

<span class="sd">    Source</span>
<span class="sd">    -------</span>
<span class="sd">    &gt;&gt;&gt; plt.legend(bbox_to_anchor=(xpos,ypos))</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="n">xpos</span><span class="p">,</span><span class="n">ypos</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">plt_legend_hide</span><span class="p">(</span><span class="n">ax</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Hide legend from axes.  Kept from mneumonic</span>

<span class="sd">    Source</span>
<span class="sd">    -------</span>
<span class="sd">    &gt;&gt;&gt; ax.legend().set_visible(False)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
    <span class="c1">#ax.legend(bbox_to_anchor=(1.0, 0.5))</span>

<span class="c1">#%% -- tick related --</span>
<span class="k">def</span> <span class="nf">plt_remove_ticks</span><span class="p">():</span>
    <span class="c1"># remove annoying ticks</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span><span class="n">bottom</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span><span class="n">top</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span><span class="n">left</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">,</span><span class="n">right</span><span class="o">=</span><span class="s1">&#39;off&#39;</span><span class="p">)</span> 

<span class="c1">#%%</span>
<span class="c1">##%% --- font-sizes ---</span>
<span class="c1">#def plt_labelsize(labelsize):</span>
<span class="c1">#    &quot;&quot;&quot;Reminder for changing xlabel/ylabel size (06/01/2016)&quot;&quot;&quot;</span>
<span class="c1">#    plt.tick_params(labelsize=20)</span>
<span class="c1">#    </span>
<span class="c1">#def plt_font_xticklabels(fs=14, rotation=&#39;vertical&#39;):</span>
<span class="c1">#    for tick in plt.gca().xaxis.get_major_ticks():</span>
<span class="c1">#        tick.label.set_fontsize(fs)</span>
<span class="c1">#        tick.label.set_rotation(rotation)</span>
<span class="c1">#</span>
<span class="c1">#    # when rotation is applied on xtick, things look awkward as fuck.</span>
<span class="c1">#    # apply fix.</span>
<span class="c1">#    if rotation != &#39;vertical&#39;:</span>
<span class="c1">#        plt_fix_xticklabels_rot()</span>
<span class="c1">#</span>
<span class="c1">#    # sometimes xticklabels get truncated...so apply fix below</span>
<span class="c1">#    #plt.gcf().subplots_adjust(bottom=0.4)</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#def plt_font_yticklabels(fs=14):</span>
<span class="c1">#    for tick in plt.gca().yaxis.get_major_ticks():</span>
<span class="c1">#        tick.label.set_fontsize(fs)</span>
<span class="c1">#</span>
<span class="c1">#def plt_fix_xticklabels_rot():</span>
<span class="c1">#    &quot;&quot;&quot; Fix the odd looking xtick when ``rot`` is used in pandas plot</span>
<span class="c1">#</span>
<span class="c1">#    **Created 11/18/2015**</span>
<span class="c1">#    (see ``pnc_analyze_clf_summary_1118.py`` for usage)</span>
<span class="c1">#</span>
<span class="c1">#    Example</span>
<span class="c1">#    -------</span>
<span class="c1">#    corrmat.mean().plot(kind=&#39;bar&#39;, fontsize=14, rot=30)</span>
<span class="c1">#    pd_plot_fix_xtick_labels_rot()</span>
<span class="c1">#    </span>
<span class="c1">#    Ref</span>
<span class="c1">#    ---</span>
<span class="c1">#    - http://stackoverflow.com/questions/31859285/rotate-tick-labels-for-seaborn-barplot</span>
<span class="c1">#    - http://stackoverflow.com/questions/26540035/rotate-label-text-in-seaborn-factorplot</span>
<span class="c1">#    &quot;&quot;&quot;</span>
<span class="c1">#    #http://stackoverflow.com/questions/26540035/rotate-label-text-in-seaborn-factorplot</span>
<span class="c1">#    plt.xticks(ha=&#39;right&#39;)</span>
<span class="c1">#    #plt.xticks(rotation=45, ha=&#39;right&#39;,fontsize=32)</span>
<span class="c1">#    #%% === below is old code (06/10/2016) ===</span>
<span class="c1">#    &quot;&quot;&quot;</span>
<span class="c1">#    # list of text objects</span>
<span class="c1">#    xtick_list = plt.gca().get_xticklabels()</span>
<span class="c1">#</span>
<span class="c1">#    #text_list = [xtick.get_text() for xtick in xtick_list]</span>
<span class="c1">#    #return text_list</span>
<span class="c1">#</span>
<span class="c1">#    for xtick in xtick_list:</span>
<span class="c1">#        xtick.set_ha(&#39;right&#39;)</span>
<span class="c1">#    plt.draw()&quot;&quot;&quot;</span>

<span class="c1">#%% === seaborn/sns related ===</span>
<span class="k">def</span> <span class="nf">sns_figure</span><span class="p">(</span><span class="n">pos</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;darkgrid&#39;</span><span class="p">,</span><span class="n">rc</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Created 07/18/2016</span>
<span class="sd">    </span>
<span class="sd">    Used to temporaritly change figure style in seaborn.</span>
<span class="sd">    </span>
<span class="sd">    See docstring for ``sns.set_style`` for more.</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; sns_figure(&#39;full&#39;,&quot;darkgrid&quot;, {&quot;xtick.major.size&quot;: 8, &quot;ytick.major.size&quot;: 8})</span>
<span class="sd">    </span>
<span class="sd">    See https://stanford.edu/~mwaskom/software/seaborn/tutorial/aesthetics.html#temporarily-setting-figure-style</span>
<span class="sd">    </span>
<span class="sd">    There are 5 preset *styles*: &#39;darkgrid&#39;, &#39;whitegrid&#39;, &#39;dark&#39;, &#39;white&#39;, and &#39;ticks&#39;</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">seaborn</span> <span class="kn">import</span> <span class="n">axes_style</span>
    <span class="k">with</span> <span class="n">axes_style</span><span class="p">(</span><span class="n">style</span><span class="p">,</span><span class="n">rc</span><span class="p">):</span>
        <span class="n">figure</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
        
<span class="k">def</span> <span class="nf">sns_subplots</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="n">pos</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;darkgrid&#39;</span><span class="p">,</span><span class="n">ravel</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Created 07/27/2016</span>
<span class="sd">    </span>
<span class="sd">    Used to temporaritly change figure style in seaborn</span>
<span class="sd">    </span>
<span class="sd">    ``**kwargs`` take arguments to :func:`plt.subplots`</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; fig,axes = tw.sns_subplots(3,3,pos=&#39;full&#39;,sharey=True)</span>
<span class="sd">    </span>
<span class="sd">    See https://stanford.edu/~mwaskom/software/seaborn/tutorial/aesthetics.html#temporarily-setting-figure-style</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">seaborn</span> <span class="kn">import</span> <span class="n">axes_style</span>
    <span class="k">with</span> <span class="n">axes_style</span><span class="p">(</span><span class="n">style</span><span class="p">):</span>
        <span class="n">fig</span><span class="p">,</span><span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="p">,</span><span class="n">ncols</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">fig_set_geom</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">ravel</span><span class="p">:</span>
        <span class="c1"># this way, i don&#39;t have to use 2-d indexing</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span><span class="n">axes</span>
<span class="c1">#%% === pre 06/01/2016 ===</span>
<span class="k">def</span> <span class="nf">plt_max_fig</span><span class="p">(</span><span class="n">n_fig</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Ensure there&#39;s only n_fig figures opened (Created 01/25/2016)</span>

<span class="sd">    Useful when I have to many figures opened at once</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">get_fignums</span><span class="p">())</span> <span class="o">&gt;</span> <span class="n">n_fig</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">get_fignums</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>

<span class="k">def</span> <span class="nf">close_lastfig</span><span class="p">(</span><span class="n">n_fig</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Close the last n_fig figures</span>
<span class="sd">    </span>
<span class="sd">    Created 07/25/2016</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">fignum</span> <span class="ow">in</span> <span class="n">plt</span><span class="o">.</span><span class="n">get_fignums</span><span class="p">()[::</span><span class="o">-</span><span class="mi">1</span><span class="p">][:</span><span class="n">n_fig</span><span class="p">]:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">fignum</span><span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
      Last updated on Nov 05, 2016.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>