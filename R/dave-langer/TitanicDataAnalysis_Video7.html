

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Introduction to Data Science with R</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon-umich.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/my_theme.css" type="text/css" />
  

  

  
    <link rel="top" title="" href="../../index.html"/>
        <link rel="up" title="R Notes (top-R.rst)" href="../top-R.html"/>
        <link rel="next" title="R - Labs from ISL (R-ISL)" href="../../R-ISL/R-ISL.html"/>
        <link rel="prev" title="image and heatmap try" href="../demo_image.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Coding Notebook
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents (PySpark)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pyspark/top-edx.html">EdX - Data Science and Engineering with Spark</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs105_lab0.html">cs105_lab0 - Running Your First Notebook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab0.html#create-dataframe-and-filter-it">Create DataFrame and filter it</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab0.html#load-a-text-file">Load a text file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab0.html#check-plotting">Check plotting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs105_lab1a.html">cs105_lab1a - Learning Apache Spark</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#spark-context">Spark Context</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#sparkcontext-and-the-driver-program-cluster-structure">SparkContext and the Driver Program (Cluster Structure)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#about-the-driver-program">About the Driver Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#about-hivecontext-the-type-of-sqlcontext-for-db">About HiveContext (the type of sqlContext for DB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#sparkcontext">SparkContext</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#using-dataframes-and-chaining-transformations">Using DataFrames and chaining transformations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#dataframe-and-schema">DataFrame and Schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#ways-to-define-schemas">Ways to define schemas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#distributed-data-and-using-a-collection-to-create-a-dataframe">Distributed Data and using a collection to create a DataFrame</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a.html#query-plans-and-the-catalyst-optimizer">Query plans and the <code class="docutils literal"><span class="pre">Catalyst</span> <span class="pre">Optimizer</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html">cs105_lab1a codes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#exercise-overview">Exercise Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#create-list-of-data">Create list of Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#create-dataframe-from-a-list">Create DataFrame from a list</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#subtract-one-from-each-the-age-row">Subtract one from each the <em>age</em> row</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#apply-transformations-and-examine-query-plan">Apply transformations, and examine query plan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#use-collect-to-view-results">Use <code class="docutils literal"><span class="pre">collect</span></code> to view results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#display-helper-function-in-db">display helper function in DB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#more-actions-count-to-get-total">More actions: <code class="docutils literal"><span class="pre">count</span></code> to get total</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#apply-transformation-filter-and-view-results-with-collect">Apply transformation <code class="docutils literal"><span class="pre">filter</span></code> and view results with <code class="docutils literal"><span class="pre">collect</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#lambda-functions-and-udfs">Lambda functions and UDFs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#additional-dataframe-actions">Additional DataFrame actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#additional-dataframe-transformations">Additional DataFrame transformations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#orderby">orderBy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#a-distinct-and-dropduplicates">A <code class="docutils literal"><span class="pre">distinct</span></code> and <code class="docutils literal"><span class="pre">dropDuplicates</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#drop">drop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#groupby">groupBy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#sample">sample</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#caching-dataframes-and-storage-options">Caching DataFrames and Storage Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#unpersist-and-storage-options">Unpersist and storage options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#debugging-spark-applications-and-lazy-evaluation">Debugging Spark applications and lazy evaluation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#jvm-and-py4j-how-python-is-executed-in-spark">JVM and Py4J - How Python is Executed in Spark</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#challenges-with-lazy-evaluation-using-transformations-and-actions">Challenges with lazy evaluation using transformations and actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#finding-the-bug">Finding the bug</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1a_coding.html#moving-toward-expert-style">Moving toward expert style</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs105_lab1b.html">cs105_lab1b - Building a word count application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#create-a-base-df-and-perform-operations">Create a base DF and perform operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#create-a-base-df">Create a base DF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#use-df-functions-to-add-an-s">Use DF functions to add an &#8216;s&#8217;</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#length-of-each-word">Length of each word</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#counting-with-spark-sql-and-dataframes">Counting with Spark SQL and DataFrames</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#using-groupby-and-count">Using groupBy and count</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#finding-unique-words-and-a-mean-value">Finding unique words and a mean value</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#unique-words">Unique words</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#means-of-groups-using-dataframes">Means of groups using DataFrames</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#apply-word-count-to-a-file">Apply word count to a file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#the-wordcount-function">The wordCount function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#capitalization-and-punctuation">Capitalization and punctuation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#load-a-text-file">Load a text file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#words-from-lines">Words from lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#count-the-words">Count the words</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab1b.html#random-stuffs-i-played-around-with">Random stuffs I played around with</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs105_lab2.html">cs105_lab2 - Web Server Log Analysis with Apache Spark</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab2.html#part1-overview-web-server-log-analysis-with-apache-spark">Part1: Overview: Web Server Log Analysis with Apache Spark</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#modules-used-in-this-assignment">Modules used in this assignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#dataset-used">Dataset used</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab2.html#part2-exploratory-data-analysis">Part2: Exploratory Data Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#a-loading-the-log-file">2a) loading the log file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#b-parsing-the-log-file">2b) Parsing the log file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#c-data-cleaning">2c) Data Cleaning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#fix-the-rows-with-null-content-size">Fix the rows with null content_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#parsing-the-timestamp">Parsing the timestamp</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab2.html#part3-analysis-walk-through-on-the-web-server-log-file">Part3: Analysis Walk-Through on the Web Server Log File</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#a-example-content-size-statistics">3a) Example: Content Size Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#b-example-http-status-analysis">3b) Example: HTTP Status Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#c-example-status-graphing">3c) Example: Status Graphing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#d-example-frequent-hosts">3d) Example: Frequent Hosts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#e-example-visualizing-paths">3e) Example: Visualizing Paths</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#f-example-top-paths">3f) Example: Top Paths</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs105_lab2.html#part-4-analyzing-web-server-log-file">Part 4: Analyzing Web Server Log File</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#a-exercise-top-ten-error-paths-hw">4a) Exercise: Top Ten Error Paths (HW)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#b-exercise-number-of-unique-hosts-hw">4b) Exercise: Number of Unique Hosts (HW)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#c-exercise-number-of-unique-daily-hosts">4c) Exercise: Number of Unique Daily Hosts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#d-exercise-visualizing-the-number-of-unique-daily-hosts">4d) Exercise: Visualizing the Number of Unique Daily Hosts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#e-exercise-average-number-of-daily-requests-per-host">4e) Exercise: Average Number of Daily Requests per Host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs105_lab2.html#f-exercise-visualizing-the-average-daily-requests-per-unique-host">4f) Exercise: Visualizing the Average Daily Requests per Unique Host</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs110_lab1.html">cs110 - Power Plant Machine Learning Pipeline Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part1-business-understanding">Part1: Business Understanding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#background-power-generation">Background &#8212; power generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#challenge-for-power-grid-operation">Challenge for power grid operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#the-business-problem">The business problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#business-understanding">Business Understanding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part2-extract-transform-load-etl-your-data">Part2: Extract-Transform-Load (ETL) Your Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-2a">Exercise 2a</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-2b">Exercise 2b</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-2-alternative-method-to-load-your-data">Part 2: Alternative Method to Load your Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-2c">Exercise 2c</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-2d">Exercise 2d</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-3-explore-your-data">Part 3: Explore Your Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#a-register-the-dataframe-to-use-sql-commands">3a - <strong>register</strong> the DataFrame (to use sql commands)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#b-read-data-using-sql-command-databricks-only">3b - read data using <code class="docutils literal"><span class="pre">%sql</span></code> command (DataBricks only)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#c-use-sql-desc-command-to-describe-the-schema">3c - use SQL <code class="docutils literal"><span class="pre">desc</span></code> command to describe the schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#dataframe-describe-method">DataFrame <code class="docutils literal"><span class="pre">describe</span></code> method</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-4-visualize-your-data">Part 4: Visualize your data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-4a">Exercise 4a</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-4b-hw">Exercise 4b (hw)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-4c-hw">Exercise 4c (hw)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-4d-hw">Exercise 4d (hw)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-5-data-preparation">Part 5: Data Preparation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-5-a">Exercise 5(a)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-6-data-modeling">Part 6: Data Modeling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-6-a-hw">Exercise 6(a) (hw)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#b-build-linear-regression-model">6(b) - build Linear Regression Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#c-set-model-parameters-and-fit-linear-regression-model">6(c) - set model parameters, and fit linear regression model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#d-study-the-fitted-lr-model">6(d) &#8212; study the fitted LR model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#e-evalute-model-on-the-20-test-set">6(e) evalute model on the 20% test-set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#f-quantify-performance-using-regressionevaluator">6(f) &#8211; quantify performance using <code class="docutils literal"><span class="pre">RegressionEvaluator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#g-use-r2-this-time">6(g) use R2 this time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#h-register-our-test-dataframe-as-sql-table">6(h) Register our test DataFrame as SQL table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#i-sql-statement-on-the-sql-table-registered-from-our-test-dataframe">6(i) SQL statement on the SQL table registered from our test DataFrame</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#j-plot-histogram-of-rmse">6(j) Plot histogram of RMSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#k-plot-pie-chart">6(k) Plot pie chart</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab1.html#part-7-tuning-and-evaluation">Part 7: Tuning and Evaluation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#a-run-cross-validation-tuning">7(a) Run Cross Validation Tuning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-b-evaluate-tuned-lr-model-hw">Exercise 7(b) &#8211; Evaluate tuned LR model (hw)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-c-decisiontreeregressor">Exercise 7(c) DecisionTreeRegressor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-d">Exercise 7(d)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-e-evaluate-dtr-performance">Exercise 7(e) &#8212; evaluate DTR performance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-f-random-forest-regressor">Exercise 7(f) (Random Forest Regressor)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-g-cross-validation">Exercise 7(g) (cross validation)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab1.html#exercise-7-h-model-evaluation">Exercise 7(h) (model evaluation)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs110_lab2.html">cs110 - Predicting Movie Ratings with Alternating Least Squares</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab2.html#preliminaries">Preliminaries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#the-20-million-movie-sample">The 20-million movie sample</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#cpu-vs-io-tradeoff">CPU vs IO Tradeoff</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#load-and-cache">Load and Cache</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab2.html#basic-recommendations">Basic Recommendations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-1a-movies-with-highest-average-ratings">Exercise (1a) Movies with Highest Average Ratings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-1b-movies-with-highest-average-ratings-and-at-least-500-reviews">Exercise (1b) Movies with Highest Average Ratings and at least 500 reviews</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab2.html#collaborative-filtering">Collaborative Filtering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-2a-creating-a-training-set">Exercise (2a) Creating a Training Set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-2b-alternating-least-squares">Exercise (2b) Alternating Least Squares</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#why-are-we-doing-our-own-cross-validation">Why are we doing our own cross-validation?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#excersie-2c-testing-your-model">Excersie (2c) Testing Your Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-2d-comparing-your-model">Exercise (2d) Comparing Your Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab2.html#predictions-for-yourself">Predictions for Yourself</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3a-your-movie-ratings">Exercise (3a) Your Movie Ratings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3b-add-your-movies-to-training-dataset">Exercise (3b) Add Your Movies to Training Dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3c-train-a-model-with-your-ratings">Exercise (3c) Train a Model with Your Ratings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3d-check-rmse-for-the-new-model-with-your-ratings">Exercise (3d) Check RMSE for the New Model with Your Ratings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3e-predict-your-ratings">Exercise (3e) Predict Your Ratings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab2.html#exercise-3f-predict-your-ratings">Exercise (3f) Predict Your Ratings</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs110_lab3b.html">cs110 - Text Analysis and Entity Resolution with TF-IDF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#preliminaries">Preliminaries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#background-on-er">Background on ER</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#data-files">Data files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#load-data-files">Load data files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#examine-the-lines-loaded">Examine the lines loaded</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#part1-er-as-text-similarity-bags-of-words">Part1: ER as Text Similarity - Bags of Words</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#a-tokenize-a-string">1a) Tokenize a String</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#b-removing-stopwords">1b) removing stopwords</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#c-tokenizing-the-small-datasets">1c) Tokenizing the small datasets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#d-amazon-record-with-the-most-tokens">1d) Amazon record with the most tokens</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#part2-er-as-text-similarity-weighted-bag-of-words-using-tf-idf">Part2: ER as Text Similarity - Weighted Bag-of-Words using TF-IDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#a-implement-a-tf-function">2a) Implement a TF function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#b-create-a-corpus">2b) Create a corpus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#c-implement-an-idfs-function">2c) Implement an IDFs function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#d-tokens-with-the-smallest-idf">2d) Tokens with the smallest IDF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#e-idf-histogram">2e) IDF Histogram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#f-implement-a-tf-idf-function">2f) Implement a TF-IDF function</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#part-3-er-as-text-similarity-cosine-similarity">Part 3: ER as Text Similarity &#8212; Cosine Similarity</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#a-implement-the-components-of-a-cosinesimilarity-function">3a) Implement the components of a cosineSimilarity function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#b-implement-a-cosinesimilarity-function">3b) Implement a cosineSimilarity function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#c-perform-entity-resolution">3c) Perform Entity Resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#d-perform-entity-resolution-with-broadcast-variables">3d) Perform Entity Resolution with Broadcast Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#e-perform-a-gold-standard-evaluation">3e) Perform a Gold Standard evaluation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#using-the-gold-standard-data-we-can-answer-the-following-questions">Using the &#8220;gold standard&#8221; data we can answer the following questions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#part-4-scalable-er">Part 4: Scalable ER</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#inverted-indices">Inverted Indices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#a-tokenize-the-full-dataset">4a) Tokenize the full dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#b-compute-idfs-and-tf-idfs-for-the-full-datasets">4b) Compute IDFs and TF-IDFs for the full datasets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#c-compute-norms-for-the-weights-from-the-full-datasets">4c) Compute Norms for the weights from the full datasets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#d-create-inverted-indices-from-the-full-datasets">4d) Create inverted indices from the full datasets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#e-identify-common-tokens-from-the-full-dataset">4e) Identify common tokens from the full dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#f-identify-common-tokens-from-the-full-dataset">4f) Identify common tokens from the full dataset</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#part-5-analysis">Part 5: Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#a-counting-true-positives-false-positives-and-false-negatives">5a) Counting True Positives, False Positives, and False Negatives</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#b-precision-recall-and-f-measures">5b Precision, Recall, and F-measures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#c-line-plots">5c Line Plots</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs110_lab3b.html#discussion-of-results">Discussion of results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs120_lab1a.html">cs120 Lab - Math_review</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#math-review">Math review</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-1a-scalar-multiplication-vectors">Exercise (1a) Scalar multiplication: vectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-1b-element-wise-multiplication-vectors">Exercise (1b) Element-wise multiplication: vectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-1c-dot-product">Exercise (1c) Dot product</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-1d-matrix-multiplication">Exercise (1d) Matrix multiplication</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#numpy">NumPy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-2a-scalar-multiplication">Exercise (2a) Scalar multiplication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-2b-element-wise-multiplication-and-dot-product">Exercise (2b) Element-wise multiplication and dot product</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-2c-matrix-math">Exercise (2c) Matrix math</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#additional-numpy-and-spark-linear-algebra">Additional NumPy and Spark linear algebra</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-3a-slices">Exercise (3a) Slices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-3b-combining-ndarray-objects">Exercise (3b) Combining ndarray objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-3c-pyspark-s-densevector">Exercise (3c) PySpark&#8217;s DenseVector</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#python-lambda-expressions">Python lambda expressions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4a-lambda-is-an-anonymous-function">Exercise (4a) Lambda is an anonymous function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4b-lambda-fewer-steps-than-def">Exercise (4b) lambda fewer steps than def</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4c-lambda-expression-arguments">Exercise (4c) Lambda expression arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4d-restrictions-on-lambda-expressions">Exercise (4d) Restrictions on lambda expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4e-functional-programming">Exercise (4e) Functional programming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1a.html#exercise-4f-composability">Exercise (4f) Composability</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs120_lab1b.html">cs120 - Word Count Lab in RDD</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#part-1-creating-a-base-rdd-and-pair-rdds">Part 1: Creating a base RDD and pair RDDs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#b-pluralize-and-test">1b) Pluralize and test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#c-apply-makeplural-to-the-base-rdd">1c) Apply makePlural to the base RDD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#d-pass-a-lambda-function-to-map">1d) Pass a lambda function to map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#e-length-of-each-word">1e) Length of each word</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#f-pair-rdds">1f) Pair RDDs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#part-2-counting-with-pair-rdds">Part 2: Counting with pair RDDs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#a-groupbykey-approach">2a) <code class="docutils literal"><span class="pre">groupByKey()</span></code> approach</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#b-use-groupbykey-to-obtain-the-counts">2b) Use <code class="docutils literal"><span class="pre">groupByKey()</span></code> to obtain the counts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#c-counting-using-reducebykey">2c) Counting using <code class="docutils literal"><span class="pre">reduceByKey</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#d-all-together">2d) All together</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#part-3-finding-unique-words-and-a-mean-value">Part 3: Finding unique words and a mean value</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#a-unique-words">3a) Unique words</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#b-mean-using-reduce">3b) Mean using <code class="docutils literal"><span class="pre">reduce</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#part-4-apply-word-count-to-a-file">Part 4: Apply word count to a file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#a-wordcount-function">4a) <code class="docutils literal"><span class="pre">wordCount</span></code> function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#b-capitalization-and-punctuation">4b) Capitalization and punctuation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#c-load-a-text-file">4c) Load a text file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#d-words-from-lines">4d) Words from lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#e-remove-empty-elements">4e) Remove empty elements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab1b.html#f-count-the-words">4f) Count the words</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs120_lab2.html">cs120 - Linear Regression with DataFrames</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab2.html#part-1-read-and-parse-the-initial-dataset">Part 1: Read and parse the initial dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#a-load-and-check-the-data">1a) Load and check the data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#b-using-labeledpoint">1b) Using LabeledPoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-1-features">Visualization 1: Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#c-find-the-range">1c) Find the range</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#d-shift-labels">1d) Shift labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-2-shifting-labels">Visualization 2: Shifting labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#e-training-validation-and-test-sets">1e) Training, validation, and test sets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab2.html#part-2-create-and-evaluate-a-baseline-model">Part 2: Create and evaluate a baseline model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#a-average-label">2a) Average label</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#b-root-mean-squared-error">2b) Root mean squared error</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#c-training-validation-and-test-rmse">2c) Training, validation and test RMSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-3-predicted-vs-actual">Visualization 3: Predicted vs. actual</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab2.html#part-3-train-via-gradient-descent-and-evaluate-a-linear-regression-model">Part 3: Train (via gradient descent) and evaluate a linear regression model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#a-gradient-summand">3a) Gradient summand</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#b-use-weights-to-make-predictions">3b) Use weights to make predictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#c-gradient-descent">3c) Gradient descent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#d-train-the-model">3d) Train the model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-4-training-error">Visualization 4: Training error</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab2.html#part-4-train-using-sparkml-and-perform-grid-search">Part 4: Train using SparkML and perform grid search</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#a-linearregression">4a) LinearRegression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#b-transform">4b) Transform</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#c-evaluate-rmse">4c) Evaluate RMSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#d-grid-search">4d) Grid search</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-5-best-model-s-predictions">Visualization 5: Best model&#8217;s predictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#visualization-6-hyperparameter-heat-map">Visualization 6: Hyperparameter heat map</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab2.html#part-5-add-interactions-between-features">Part 5: Add interactions between features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#a-add-2-way-interactions">5a) Add 2-way interactions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#b-build-interaction-model">5b) Build interaction model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#c-evaluate-interaction-model-on-test-data">5c) Evaluate interaction model on test data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab2.html#d-use-a-pipeline-to-create-the-interaction-model">5d) Use a pipeline to create the interaction model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs120_lab3.html">cs120_lab3_ctr_df</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/cs120_lab4.html">cs120 - PCA on Neuroscience Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab4.html#work-through-the-steps-of-pca-on-a-sample-dataset">Work through the steps of PCA on a sample dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-1-two-dimensional-gaussians">Visualization 1: Two-dimensional Gaussians</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#a-interpreting-pca">1a) Interpreting PCA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#b-sample-covariance-matrix">1b) Sample covariance matrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#c-covariance-function">1c) Covariance Function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#d-eigendecomposition">1d) Eigendecomposition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#e-pca-scores">1e) PCA scores</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab4.html#write-a-pca-function-and-evaluate-pca-on-sample-datasets">Write a PCA function and evaluate PCA on sample datasets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#a-pca-function">2a) PCA function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#b-pca-on-data-random">2b) PCA on data_random</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-2-pca-projection">Visualization 2: PCA projection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-3-three-dimensional-data">Visualization 3: Three-dimensional data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#c-3d-to-2d">2c) 3D to 2D</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-4-2d-representation-of-3d-data">Visualization 4: 2D representation of 3D data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#d-variance-explained">2d) Variance explained</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab4.html#parse-inspect-and-preprocess-neuroscience-data-then-perform-pca">Parse, inspect, and preprocess neuroscience data then perform PCA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#a-load-neuroscience-data">3a) Load neuroscience data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#b-parse-the-data">3b) Parse the data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#c-min-and-max-fluorescence">3c) Min and max fluorescence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-5-pixel-intensity">Visualization 5: Pixel intensity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#d-fractional-signal-change">3d) Fractional signal change</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-6-normalized-data">Visualization 6: Normalized data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#e-pca-on-the-scaled-data">3e) PCA on the scaled data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-7-top-two-components-as-images">Visualization 7: Top two components as images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-8-top-two-components-as-one-image">Visualization 8: Top two components as one image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/cs120_lab4.html#feature-based-aggregation-and-pca">Feature-based aggregation and PCA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#a-aggregation-using-arrays">(4a) Aggregation using arrays</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#b-recreate-with-np-tile-and-np-eye">(4b) Recreate with np.tile and np.eye</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#c-recreate-with-np-kron">(4c) Recreate with np.kron</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#d-aggregate-by-time">(4d) Aggregate by time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#e-obtain-a-compact-representation">(4e) Obtain a compact representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-9-top-two-components-by-time">Visualization 9: Top two components by time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#f-aggregate-by-direction">(4f) Aggregate by direction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#g-compact-representation-of-direction-data">(4g) Compact representation of direction data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/cs120_lab4.html#visualization-10-top-two-components-by-direction">Visualization 10: Top two components by direction</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../pyspark/top-pyspark.html">PySpark Notes (<code class="docutils literal"><span class="pre">top-pyspark.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-snippet.html">1 <code class="docutils literal"><span class="pre">pyspark-snippet.rst</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#data-from-application-examples-on-db-workspace">1.1 Data from <em>Application Examples</em> on DB Workspace</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#list-out-datasets-important">1.1.1 List out datasets (Important)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#create-sample-json-file">1.1.2 Create sample JSON file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#tables">1.1.3 Tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#random-data-io">1.1.4 Random data-io</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#diamonds">1.1.5 Diamonds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#february-2015-english-wikipedia-clickstream-data">1.1.6 February 2015 English Wikipedia Clickstream data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#dbf">1.2 DBF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#modules">1.3 Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#spark-notebook-helpers-library-for-databricks">1.4 spark_notebook_helpers library for Databricks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#create-toy-dataset">1.5 Create toy dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#print-rdd-per-item">1.6 Print RDD per item</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#databrick-helper-function-displaying-all-dfs-in-the-notebook">1.7 Databrick helper function displaying all DFs in the notebook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#get-shape-of-df-gotta-be-a-better-way">1.8 Get shape of DF (gotta be a better way)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#random-snippets">1.9 Random snippets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#print-dataframes-in-my-workspace-super-ad-hoc">1.9.1 print dataframes in my workspace (super-ad-hoc)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#rename-column">1.9.2 Rename column</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#dbutils">1.10 dbutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#random-from-spark-essentials-spark-summit-2016">1.11 Random from Spark Essentials (Spark Summit 2016)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#spark-for-data-scientists">1.12 Spark for Data Scientists</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#tax-data">1.12.1 Tax Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#farmer-s-market-data">1.12.2 Farmer&#8217;s market data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#run-some-sql-create-tables">1.12.3 Run some sql, create tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-snippet.html#cache-table-in-sql-or-sqlcontext">1.12.4 cache table in SQL or sqlContext</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-practice.html">2 <code class="docutils literal"><span class="pre">pyspark-practice.rst</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#basics-dfs">2.1 Basics DFs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#udfs">2.2 UDFs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#sorting">2.3 Sorting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#create-df-from-list-of-tuples">2.4 Create DF from list of tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#groupby">2.5 groupby</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#practice-with-faker-data">2.6 Practice with faker data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-practice.html#little-refrehser-on-generators">2.6.1 Little refrehser on generators</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#register-table-to-use-sql">2.7 Register table to use SQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-practice.html#more">2.8 More</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-overflow.html">3 <code class="docutils literal"><span class="pre">pyspark-overflow.rst</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#how-to-get-a-value-from-the-row-object-in-spark-dataframe">3.1 How to get a value from the Row object in Spark Dataframe?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#how-to-add-a-constant-column-in-a-spark-dataframe">3.2 How to add a constant column in a Spark DataFrame?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#add-an-empty-column-to-spark-dataframe">3.3 Add an empty column to Spark DataFrame</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#count-number-of-non-nan-entries-in-each-column-of-spark-dataframe">3.4 Count number of non-NaN entries in each column of Spark dataframe</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#use-simple-aggregation">3.4.1 Use simple aggregation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#use-sql-null-semantics">3.4.2 Use SQL <code class="docutils literal"><span class="pre">NULL</span></code> semantics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#in-fractions">3.4.3 In fractions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#updating-a-dataframe-column-in-spark">3.5 Updating a dataframe column in spark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#how-do-i-add-a-new-column-to-spark-data-frame-pyspark">3.6 How do I add a new column to spark data frame (Pyspark)?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#use-literals-lit">3.6.1 Use literals <code class="docutils literal"><span class="pre">lit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#transforming-an-existing-column">3.6.2 Transforming an existing column</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#using-join">3.6.3 Using <code class="docutils literal"><span class="pre">join</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#using-function-udf">3.6.4 Using function/UDF</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#how-to-change-dataframe-column-names-in-pyspark">3.7 How to change dataframe column names in pyspark?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#option-1-using-selectexpr">3.7.1 Option 1. Using selectExpr.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#option-2-using-withcolumnrenamed">3.7.2 Option 2. Using <code class="docutils literal"><span class="pre">withColumnRenamed</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#using-alias">3.7.3 Using alias</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#using-sqlcontext-sql">3.7.4 Using <code class="docutils literal"><span class="pre">sqlContext.sql</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#pyspark-dataframes-way-to-enumerate-without-converting-to-pandas">3.8 PySpark DataFrames - way to enumerate without converting to Pandas?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#dividing-two-columns-from-a-different-df">3.9 Dividing two columns from a different DF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#ones-i-just-bookmarked-for-future-reference">3.10 Ones I just bookmarked for future reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/pyspark-overflow.html#reshaping-pivoting-data-in-spark-rdd-and-or-spark-dataframes">3.10.1 Reshaping/Pivoting data in Spark RDD and/or Spark DataFrames</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html">4 Spark Programming Guide DataFrames (<code class="docutils literal"><span class="pre">apache-prog-guide-df</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#overview">4.1 Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#sql">4.1.1 SQL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#datasets-and-dataframes">4.1.2 Datasets and DataFrames</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#getting-started">4.2 Getting Started</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#starting-point-sparksession">4.2.1 Starting Point: <code class="docutils literal"><span class="pre">SparkSession</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#creating-dataframes">4.2.2 Creating DataFrames</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#untyped-dataset-operations-aka-dataframe-operations">4.2.3 Untyped Dataset Operations (aka DataFrame Operations)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#running-sql-queries-programmatically">4.2.4 Running SQL Queries Programmatically</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#creating-datasets-only-in-scala-java">4.2.5 Creating Datasets (only in Scala/Java)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#interoperating-with-rdds">4.2.6 Interoperating with RDDs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#data-sources">4.3 Data Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#generic-load-functions">4.4 Generic Load Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#default-parquet">4.4.1 Default (parquet)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#manually-specifying-options">4.4.2 Manually Specifying Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#run-sql-on-files-directly">4.4.3 Run SQL on files directly</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#generic-save-functions">4.5 Generic Save Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#save-modes">4.5.1 Save Modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#saving-to-persistent-tables">4.5.2 __Saving to Persistent Tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#parquet-files">4.6 Parquet Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#loading-data-programmatically">4.6.1 Loading Data Programmatically</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#partition-discovery">4.6.2 __Partition Discovery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#schema-merging">4.6.3 Schema Merging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#hive-metastore-parquet-conversion">4.6.4 __Hive metastore Parquet Conversion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#configuration">4.6.5 Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#json-datasets">4.7 JSON Datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#hive-tables">4.8 Hive Tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#interacting-with-different-versions-of-hive-metastore">4.8.1 __Interacting with Different Versions of Hive Metastore</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#jdbc-to-other-databases">4.9 __JDBC To Other Databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#performance-tuning">4.10 Performance Tuning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#caching-data-in-memory">4.10.1 Caching Data in Memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#other-configuration-options">4.10.2 Other Configuration Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#distributed-sql-engine">4.11 Distributed SQL Engine</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#running-the-thrift-jdbc-odbc-server">4.11.1 __Running the Thrift JDBC/ODBC server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#running-the-spark-sql-cli">4.11.2 Running the Spark SQL CLI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#reference">4.12 Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#data-types">4.12.1 Data-Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-prog-guide-df.html#nan-semantics">4.12.2 NaN Semantics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/databricks.html">5 Databrick Doc (<code class="docutils literal"><span class="pre">databricks.rst</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/databricks.html#ml-stuffs">5.1 ML Stuffs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/databricks.html#bunch-of-notebooks">5.2 Bunch of notebooks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../pyspark/pyspark-local.html">PySpark on AWS (<code class="docutils literal"><span class="pre">pyspark-local</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-local.html#setting-up-aws-and-pyspark">Setting up AWS and PySpark</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#create-iam-user-key">Create IAM user key</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#create-admin-group-and-user">Create admin group and user</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#setup-an-s3-bucket">Setup an S3 Bucket</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#create-wordcount-script-to-submit">Create wordcount script to submit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#create-emr-cluster">Create EMR cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#run-spark-application-on-emr">Run Spark application on EMR</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-local.html#setup-pyspark-in-ipython-profile">Setup pyspark in ipython profile</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#finally-worked">Finally worked!</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#wrong-java-version">Wrong java version?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#pyspark-options-giving-errors">pyspark options giving errors...</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#update-scala">Update scala?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#rough-drafts">rough drafts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/pyspark-local.html#failed-windows-try">Failed Windows Try</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#windows">windows?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/pyspark-local.html#retry-above-is-a-disaster">Retry, above is a disaster</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../pyspark/apache-ml-guide.html">MLLib - Main guide (<code class="docutils literal"><span class="pre">apache-ml-guide.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html">1 Pipeline-old (<code class="docutils literal"><span class="pre">pipeline-old</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#main-concepts-in-pipelines">1.1 Main concepts in Pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#dataframe">1.2 DataFrame</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#pipeline-components">1.3 Pipeline components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#transformers">1.3.1 Transformers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#estimators">1.3.2 Estimators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#properties-of-pipeline-components">1.3.3 Properties of pipeline components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#pipeline-transformers-and-estimators">1.4 Pipeline (transformers and estimators)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#how-it-works">1.4.1 How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#details">1.4.2 Details</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#parameters">1.5 Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#saving-and-loading-pipelines">1.6 Saving and Loading Pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#code-examples">1.7 Code Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#estimator-transformer-and-param">1.7.1 Estimator, Transformer, and Param</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#example-pipeline">1.7.2 Example: Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#example-model-selection-via-cv-scala">1.7.3 Example: model selection via CV (Scala)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.pipeline-old.html#example-model-selection-via-train-validation-split-scala">1.7.4 Example: model selection via train validation split (scala)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html">2 Extracting, transforming and selecting features (<code class="docutils literal"><span class="pre">et-fs</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#feature-extractors">2.1 Feature Extractors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#tf-idf">2.1.1 TF-IDF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#word2vec">2.1.2 Word2Vec</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#countvectorizer">2.1.3 CountVectorizer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#feature-transformers">2.2 Feature Transformers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#tokenizer">2.2.1 Tokenizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#stopwordsremover">2.2.2 StopWordsRemover</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#n-gram">2.2.3 n-gram</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#binarizer">2.2.4 Binarizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#pca">2.2.5 PCA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#polynomialexpansion">2.2.6 PolynomialExpansion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#discrete-cosine-transform-dct">2.2.7 Discrete Cosine Transform (DCT)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#stringindexer">2.2.8 StringIndexer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#indextostring">2.2.9 IndexToString</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#onehotencoder">2.2.10 OneHotEncoder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#vectorindexer">2.2.11 VectorIndexer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#normalizer">2.2.12 Normalizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#standardscaler">2.2.13 StandardScaler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#minmaxscaler">2.2.14 MinMaxScaler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#maxabsscaler">2.2.15 MaxAbsScaler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#bucketizer">2.2.16 Bucketizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#elementwiseproduct-bm">2.2.17 ElementwiseProduct (bm)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#sqltransformer-bm">2.2.18 SQLTransformer (bm)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#vectorassembler">2.2.19 VectorAssembler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#quantilediscretizer">2.2.20 QuantileDiscretizer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#feature-selectors">2.3 Feature Selectors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#vectorslicer">2.3.1 VectorSlicer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#rformula">2.3.2 RFormula</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.et-fs.html#chisqselector">2.3.3 ChiSqSelector</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html">3 Classification (<code class="docutils literal"><span class="pre">classification</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#logistic-regression">3.1 Logistic regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#decision-tree-classifier">3.2 Decision tree classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#random-forest-classifier">3.3 Random forest classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#gradient-boosted-tree-classifier">3.4 Gradient-boosted tree classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#multilayer-perceptron-classifier">3.5 Multilayer perceptron classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#one-vs-rest-classifier-a-k-a-one-vs-all">3.6 One-vs-Rest classifier (a.k.a. One-vs-All)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.classification.html#naive-bayes">3.7 Naive Bayes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html">4 Regression (<code class="docutils literal"><span class="pre">regression.rst</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#linear-regression">4.1 Linear regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#generalized-linear-regression">4.2 Generalized linear regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#available-families">4.2.1 Available families</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#decision-tree-regression">4.3 Decision tree regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#random-forest-regression">4.4 Random forest regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#gradient-boosted-tree-regression">4.5 Gradient-boosted tree regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#survival-regression">4.6 Survival regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#isotonic-regression">4.7 Isotonic regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.regression.html#examples">4.7.1 Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html">5 Tree-based-methods (<code class="docutils literal"><span class="pre">tree.rst</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html#decision-trees">5.1 Decision trees</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html#inputs-and-outputs">5.1.1 Inputs and Outputs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html#tree-ensembles">5.2 Tree Ensembles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html#random-forests">5.2.1 Random Forests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-guide.tree.html#gradient-boosted-trees-gbts">5.2.2 Gradient-Boosted Trees (GBTs)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../pyspark/apache-ml-rdd.html">MLLib: RDD-based API Guideline (<code class="docutils literal"><span class="pre">apache-ml-rdd</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html">1 Data Types (<code class="docutils literal"><span class="pre">datatypes</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#local-vector">1.1 Local vector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#labeled-point">1.2 Labeled point</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#local-matrix">1.3 Local matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#distributed-matrix">1.4 Distributed matrix</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#rowmatrix">1.4.1 RowMatrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#indexedrowmatrix">1.4.2 IndexedRowMatrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#coordinatematrix">1.4.3 CoordinateMatrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.datatype.html#blockmatrix">1.4.4 BlockMatrix</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html">2 Basic Statistics (<code class="docutils literal"><span class="pre">stats</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#summary-statistics">2.1 Summary statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#correlations">2.2 Correlations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#stratified-sampling">2.3 Stratified sampling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#hypothesis-testing">2.4 Hypothesis testing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#streaming-significance-testing">2.4.1 Streaming Significance Testing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#random-data-generation">2.5 Random data generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.stats.html#kernel-density-estimation">2.6 Kernel density estimation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html">3 Evaluation metrics (<code class="docutils literal"><span class="pre">eval</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#classification-model-evaluation">3.1 Classification model evaluation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#binary-classification">3.1.1 Binary classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#multiclass-classification">3.1.2 Multiclass classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#multilabel-classification">3.1.3 Multilabel classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#ranking-systems">3.1.4 Ranking systems</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../pyspark/apache-ml-rdd.eval.html#regression-model-evaluation">3.2 Regression model evaluation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Table of Contents (Python and R)</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../python/pynotes.html">Python Notes (<code class="docutils literal"><span class="pre">pynotes.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../python/supervised_nmf.html">Supervised NMF (<code class="docutils literal"><span class="pre">supervised_nmf</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../python/supervised_nmf.html#non-negative-matrix-factorization">Non-negative Matrix Factorization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#nmf-ls-pnmf-admm">nmf.ls_pnmf_admm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#nmf-ls-sgpnmf-admm">nmf.LS_SGPNMF_ADMM</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../python/supervised_nmf.html#visualization">Visualization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#imconnmat">imconnmat</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../python/supervised_nmf.html#data-io">Data IO</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#data-tob-pnc-load-bct-measures">data.tob_pnc.load_bct_measures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#data-tob-pnc-load-diffusion-volume-matfile">data.tob_pnc.load_diffusion_volume_matfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python/supervised_nmf.html#data-tob-pnc-load-connectome-matfile">data.tob_pnc.load_connectome_matfile</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../top-R.html">R Notes (<code class="docutils literal"><span class="pre">top-R.rst</span></code>)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../R-cookbook.html">R cookbook (<code class="docutils literal"><span class="pre">R-cookbook.rst</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../r-cookbook-1-getting-started.html">1 1. Getting started</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-1-getting-started.html#getting-help">1.1 Getting help</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-1-getting-started.html#help-search">1.2 help.search</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../r-cookbook-2-some-basics.html">2 2. Some basics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#print-and-cat">2.1 print and cat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#setting-listing-and-removing-variables">2.2 setting, listing, and removing variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#create-vector-the-c-operator">2.3 Create vector - the <code class="docutils literal"><span class="pre">c(...)</span></code> operator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#basic-statistics">2.4 Basic statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#create-sequences-seq-from-to-by-rep-arg-times-5">2.5 Create sequences (<code class="docutils literal"><span class="pre">:,</span> <span class="pre">seq(from,to,by),</span> <span class="pre">rep(arg,times=5)</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#vector-comparison-elementwise-comparison">2.6 Vector comparison (elementwise comparison)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#vector-indexing-and-slicing">2.7 Vector indexing and slicing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#naming-vector-elements-gives-another-way-to-index">2.8 naming vector elements (gives another way to index)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#vector-arithmetic-elementwise">2.9 Vector arithmetic (elementwise...)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#some-special-operator">2.10 Some special operator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#warning-on-operator-precedence">2.11 Warning on operator precedence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-2-some-basics.html#defining-function">2.12 Defining function</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../r-cookbook-11-lr-anova.html">3 11. Linear Regression and ANOVA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../r-cookbook-11-lr-anova.html#syntax-for-linear-regression">3.1 Syntax for linear regression</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../control_var.html">Controlling Confounds</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../control_var.html#set-seed">Set seed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../control_var.html#set-variables">set variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../control_var.html#regression">regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../control_var.html#lm1-without-controlling-for-weight-weight">lm1: without controlling for weight(weight)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../control_var.html#lm2-here-we-control-for-weight">lm2: here we control for weight</a></li>
<li class="toctree-l4"><a class="reference internal" href="../control_var.html#in-case-you-want-to-add-the-fitted-lines-to-the-plot">In case you want to add the fitted lines to the plot</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../demo_image.html">image and heatmap try</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../demo_image.html#header-1">HEADER-1</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Introduction to Data Science with R</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#video1-data-analysis-part-1">Video1 - Data Analysis Part 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#video2-data-analysis-part-2">Video2 - Data Analysis Part 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#video3-data-analysis-part-3">Video3 - Data Analysis Part 3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#video4-exploratory-modeling-random-forests">Video4 - Exploratory Modeling (Random Forests)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#train-a-random-forest-with-the-default-parameters-using-pclass-title">Train a Random Forest with the default parameters using pclass &amp; title</a></li>
<li class="toctree-l4"><a class="reference internal" href="#train-a-random-forest-using-pclass-title-sibsp">Train a Random Forest using pclass, title, &amp; sibsp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#train-a-random-forest-using-pclass-title-parch">Train a Random Forest using pclass, title, &amp; parch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#train-a-random-forest-using-pclass-title-sibsp-parch">Train a Random Forest using pclass, title, sibsp, parch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#train-a-random-forest-using-pclass-title-family-size">Train a Random Forest using pclass, title, &amp; family.size</a></li>
<li class="toctree-l4"><a class="reference internal" href="#train-a-random-forest-using-pclass-title-sibsp-family-size">Train a Random Forest using pclass, title, sibsp, &amp; family.size</a></li>
<li class="toctree-l4"><a class="reference internal" href="#train-a-random-forest-using-pclass-title-parch-family-size">Train a Random Forest using pclass, title, parch, &amp; family.size</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#video5-cross-validation">Video5 - Cross Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#video6-exploratory-modeling-2">Video6 - Exploratory Modeling 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#video7-submitting-scoring-and-some-analysis">Video7 Submitting, scoring, and some analysis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../R-ISL/R-ISL.html">R - Labs from ISL (<code class="docutils literal"><span class="pre">R-ISL</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch2.html">Ch2 Introduction to R</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch2.html#basic-commands">Basic Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch2.html#graphics">Graphics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch2.html#indexing-data">Indexing Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch2.html#loading-data">Loading Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch2.html#additional-graphical-and-numerical-summaries">Additional Graphical and Numerical Summaries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch3.html">Ch3 Linear Regression</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch3.html#simple-linear-regression">Simple Linear Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch3.html#multiple-linear-regression">Multiple Linear Regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch3.html#interaction-terms">Interaction Terms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch3.html#qualitative-predictors">Qualitative Predictors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch3.html#writing-functions">Writing Functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch4.html">Ch4 Logistic Regression, LDA, QDA, and KNN</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#the-stock-market-data">The Stock Market Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#logistic-regression">Logistic Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#linear-discriminant-analysis">Linear Discriminant Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#quadratic-discriminant-analysis">Quadratic Discriminant Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#k-nearest-neighbors">K-Nearest Neighbors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch4.html#an-application-to-caravan-insurance-data">An Application to Caravan Insurance Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch5.html">Ch5 Cross-Validation and the Bootstrap</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch5.html#the-validation-set-approach">The Validation Set Approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch5.html#leave-one-out-cross-validation">Leave-One-Out Cross-Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch5.html#k-fold-cross-validation">k-Fold Cross-Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch5.html#the-bootstrap">The Bootstrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch5.html#estimating-the-accuracy-of-a-linear-regression-model">Estimating the Accuracy of a Linear Regression Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch6.html">Ch6 Linear Model Selection and Regularization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch6.html#lab-1-subset-selection-methods">Lab 1: Subset Selection Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#best-subset-selection">Best Subset Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#forward-and-backward-stepwise-selection">Forward and Backward Stepwise Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#choosing-among-models">Choosing Among Models</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch6.html#lab-2-ridge-regression-and-the-lasso">Lab 2: Ridge Regression and the Lasso</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#ridge-regression">Ridge Regression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#the-lasso">The Lasso</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch6.html#lab-3-pcr-and-pls-regression">Lab 3: PCR and PLS Regression</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#principal-components-regression">Principal Components Regression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch6.html#partial-least-squares">Partial Least Squares</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch7.html">Ch7 Non-linear Modeling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch7.html#polynomial-regression-and-step-functions">Polynomial Regression and Step Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch7.html#splines">Splines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch7.html#gams">GAMs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch8.html">Ch8 Tree-Based Methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch8.html#fitting-classification-trees">Fitting Classification Trees</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch8.html#bagging-and-random-forests">Bagging and Random Forests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch8.html#boosting">Boosting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch9.html">Ch9 Support Vector Machines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch9.html#support-vector-classifier">Support Vector Classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch9.html#support-vector-machine">Support Vector Machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch9.html#roc-curves">ROC Curves</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch9.html#svm-with-multiple-classes">SVM with Multiple Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch9.html#application-to-gene-expression-data">Application to Gene Expression Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../R-ISL/ch10.html">Ch10 Unsupervised Learning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch10.html#lab-1-principal-components-analysis">Lab 1: Principal Components Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch10.html#lab-2-clustering">Lab 2: Clustering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch10.html#k-means-clustering">K-Means Clustering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch10.html#hierarchical-clustering">Hierarchical Clustering</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R-ISL/ch10.html#lab-3-nci60-data-example">Lab 3: NCI60 Data Example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch10.html#the-nci60-data">The NCI60 data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch10.html#pca-on-the-nci60-data">PCA on the NCI60 Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-ISL/ch10.html#clustering-the-observations-of-the-nci60-data">Clustering the Observations of the NCI60 Data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../R-regression/R-regression.html">R - regression notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../R-regression/ch1.html">Ch1 - Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../R-regression/ch1.html#load-dataset-and-do-quick-analysis">Load dataset, and do quick analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-regression/ch1.html#some-data-cleansing">Some data cleansing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-regression/ch1.html#now-we-re-ready-to-plot-stuffs">Now we&#8217;re ready to plot stuffs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../R-regression/ch1.html#r-s-base-graph-system">R&#8217;s Base-graph system</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../R-regression/ch1.html#ggplot">ggplot</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../R-regression/ch1.html#example-manilius-data">Example: manilius data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../R-regression/ch1.html#example-child-height-prediction">Example: child-height prediction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ggplot/top-ggplot.html">ggplot-examples (<code class="docutils literal"><span class="pre">top-ggplot.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ggplot/qplot.html">Ch2. Getting startd with qplot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ggplot/qplot.html#the-diamonds-dataset">The Diamonds dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ggplot/qplot.html#basic-use">2.3 Basic use</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../lattice-R-book/lattice-R.html">lattice plot examples (<code class="docutils literal"><span class="pre">lattice-R.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch1.html">Ch1 - Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch1.html#figure-1-1-conditional-histogram">Figure 1.1 (conditional histogram)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch1.html#figure-1-2-conditional-density-plot">Figure 1.2 (conditional density plot)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch1.html#figure-1-3-grouped-kde-plot">Figure 1.3 (grouped kde plot)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch1.html#figure-1-4-conditional-histogram-and-kde-grouped-in-a-single-figure">Figure 1.4 (conditional histogram and kde grouped in a single figure)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch2.html">Ch2 - A Technical Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch2.html#dimension-and-physical-layout">Dimension and Physical Layout</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-1-a-trelis-display-of-the-data-object">Figure 2.1 (A Trelis display of the <strong>Data</strong> Object)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-2-subset-display-of-the-trellis-object">Figure 2.2 (subset display of the Trellis object)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-3-aspect-ratio-control">Figure 2.3 (aspect ratio control)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-4">Figure 2.4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-5-fig-2-5-with-spacing-between-column-blocks">Figure 2.5 (fig 2.5 with spacing between column blocks)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch2.html#grouped-displays">Grouped displays</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-6">Figure 2.6</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch2.html#annotation-captions-labels-and-legends">Annotation: Captions, labels, and legends</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-7">Figure 2.7</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch2.html#scale-and-axes">Scale and Axes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-8">Figure 2.8</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-9">Figure 2.9</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch2.html#the-panel-function">The Panel function</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-10">Figure 2.10</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch2.html#figure-2-11">Figure 2.11</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch3.html">Ch3 - Displaying Univariate Distributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#datasets-used-in-this-chapter">Datasets used in this Chapter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#faithful">faithful</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#gvhd10">gvhd10</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#chem97">Chem97</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#quakes">quakes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#barley">barley</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#density-plot">Density plot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-1">Figure 3.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-2">Figure 3.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-3">Figure 3.3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#histograms">Histograms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-4">Figure 3.4</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#normal-qq-plots">Normal QQ Plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-5">Figure 3.5</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-6">Figure 3.6</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-7">Figure 3.7</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#the-empirical-cdf">The empirical CDF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-8">Figure 3.8</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#two-sample-qq-plots">Two-sample QQ-plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-9">Figure 3.9</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-10">Figure 3.10</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#box-and-whisker-plots">Box-and-whisker plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-11">Figure 3.11</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-12">Figure 3.12</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-13">Figure 3.13</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-14">Figure 3.14</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch3.html#strip-plot">Strip plot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-15">Figure 3.15</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-16">Figure 3.16</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../lattice-R-book/ch3.html#figure-3-17">Figure 3.17</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch4.html">Ch4 - Displaying Multiway Tables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-1">Figure 4.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-2">Figure 4.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-3">Figure 4.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-4">Figure 4.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-5">Figure 4.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-6">Figure 4.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-7">Figure 4.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-8">Figure 4.8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch4.html#figure-4-9">Figure 4.9</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch5.html">Ch5 - Scatter Plots and Extensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-1">Figure 5.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-2">Figure 5.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-3">Figure 5.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-4">Figure 5.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-5">Figure 5.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-6">Figure 5.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-7">Figure 5.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-8">Figure 5.8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-9">Figure 5.9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-10">Figure 5.10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-11">Figure 5.11</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-12">Figure 5.12</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-13">Figure 5.13</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-14">Figure 5.14</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-15">Figure 5.15</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-16">Figure 5.16</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-17">Figure 5.17</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-18">Figure 5.18</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch5.html#figure-5-19">Figure 5.19</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch6.html">Ch6 - Trivariate Displays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-1">Figure 6.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-2">Figure 6.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-3">Figure 6.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-4">Figure 6.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-5">Figure 6.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-6">Figure 6.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-7">Figure 6.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-8">Figure 6.8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-9">Figure 6.9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-10">Figure 6.10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-11">Figure 6.11</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-12">Figure 6.12</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-13">Figure 6.13</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-14">Figure 6.14</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-15">Figure 6.15</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-16">Figure 6.16</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-17">Figure 6.17</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-18">Figure 6.18</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch6.html#figure-6-19">Figure 6.19</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch7.html">Ch7 - Graphical Parameters and Other Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch7.html#figure-7-1">Figure 7.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch7.html#figure-7-2">Figure 7.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch7.html#figure-7-2-alternative">Figure 7.2 (alternative)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch7.html#figure-7-3">Figure 7.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch7.html#figure-7-4">Figure 7.4</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch8.html">Ch8 - Plot Coordinates and Axis Annotation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-1">Figure 8.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-2">Figure 8.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-3">Figure 8.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-4">Figure 8.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-5">Figure 8.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch8.html#figure-8-6">Figure 8.6</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch9.html">Ch9 - Labels and Legends</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch9.html#figure-9-1">Figure 9.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch9.html#figure-9-1-alternative-using-auto-key">Figure 9.1 (alternative, using auto.key)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch9.html#figure-9-1-yet-another-alternative-using-drop-true">Figure 9.1 (yet another alternative, using drop=TRUE)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch9.html#figure-9-2">Figure 9.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch9.html#figure-9-3">Figure 9.3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch10.html">Ch10 - Data Manipulation and Related Topics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-1">Figure 10.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-2">Figure 10.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-3">Figure 10.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-4">Figure 10.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-5">Figure 10.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-6">Figure 10.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-7">Figure 10.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-8">Figure 10.8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-9">Figure 10.9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-10">Figure 10.10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-11">Figure 10.11</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-12">Figure 10.12</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-13">Figure 10.13</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-14">Figure 10.14</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-15">Figure 10.15</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-16">Figure 10.16</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-17">Figure 10.17</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-18">Figure 10.18</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-19">Figure 10.19</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-20">Figure 10.20</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-21">Figure 10.21</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-22">Figure 10.22</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-23">Figure 10.23</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-24">Figure 10.24</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch10.html#figure-10-25">Figure 10.25</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch11.html">Ch11 - Manipulating the <em>trellis</em> object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-1">Figure 11.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-2">Figure 11.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-3">Figure 11.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-4">Figure 11.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-5">Figure 11.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch11.html#figure-11-6">Figure 11.6</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch12.html">Ch12 - Interacting with Trellis Displays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-1">Figure 12.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-2">Figure 12.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-3">Figure 12.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-4">Figure 12.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-5">Figure 12.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch12.html#figure-12-6">Figure 12.6</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch13.html">Ch13 - Advanced Panel Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-1">Figure 13.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-2">Figure 13.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-3">Figure 13.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-4">Figure 13.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-5">Figure 13.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-6">Figure 13.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-7">Figure 13.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-8">Figure 13.8</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-9">Figure 13.9</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch13.html#figure-13-10">Figure 13.10</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../lattice-R-book/ch14.html">Ch14 - New Trellis Displays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch14.html#figure-14-1">Figure 14.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch14.html#figure-14-2">Figure 14.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch14.html#figure-14-3">Figure 14.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch14.html#figure-14-4">Figure 14.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lattice-R-book/ch14.html#figure-14-5">Figure 14.5</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Table of Contents (Others)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bash_wooledge/top-bash-wool.html">Bash wooledge (<code class="docutils literal"><span class="pre">top-bash-wool.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../bash_wooledge/special_char.html">1 Special Characters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bash_wooledge/param.html">2 Parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/param.html#basic">2.1 Basic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#always-double-quote-when-doing-pe-parameter-expansion">2.1.1 Always double-quote when doing PE (parameter expansion)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#char-needed-with-dealing-with-numerics">2.1.2 char needed with dealing with numerics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/param.html#special-parameters-and-variables">2.2 Special Parameters and Variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#special-parameters">2.2.1 Special Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#special-variables-provided-by-the-shell">2.2.2 Special variables provided by the shell</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/param.html#pe-tricks-some-i-rarely-use">2.3 PE tricks (some I rarely use)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#summary-table">2.3.1 Summary table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var">2.3.2 <code class="docutils literal"><span class="pre">${var}</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-word-use-default-value">2.3.3 <code class="docutils literal"><span class="pre">${var:-word}</span></code> (use default value)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-word-assign-default">2.3.4 <code class="docutils literal"><span class="pre">${var:=word}</span></code> (assign default)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-word-use-alternate-value">2.3.5 <code class="docutils literal"><span class="pre">${var:+word}</span></code> (use alternate value)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-offset-length-substring-expansion">2.3.6 <code class="docutils literal"><span class="pre">${var:offset:length}</span></code> (substring expansion)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-var-number-of-characters-or-array-items">2.3.7 <code class="docutils literal"><span class="pre">${#var}</span></code>, <code class="docutils literal"><span class="pre">${#var[&#64;]}</span></code> (number of characters or array items)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-pattern-delete-beginning-of-str-if-match">2.3.8 <code class="docutils literal"><span class="pre">${var#pattern}</span></code> (delete beginning of str if match)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/param.html#var-msg-print-msg-to-stderr">2.3.9 <code class="docutils literal"><span class="pre">${var:?msg}</span></code> (print msg to stderr)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bash_wooledge/patterns.html">3 Patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/patterns.html#glob-patterns">3.1 Glob patterns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/patterns.html#use-glob-not-ls-for-looping-over-files">3.1.1 Use glob, not ls for looping over files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/patterns.html#extended-globs-i-rather-use-regexp">3.2 Extended Globs (I rather use regexp)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/patterns.html#regular-expressions">3.3 Regular expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/patterns.html#brace-expansion">3.4 Brace Expansion</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bash_wooledge/tests.html">4 Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/tests.html#exit-status-0-success-use">4.1 Exit status (0 = success)....use $?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/tests.html#control-operators-and">4.2 Control operators (&amp;&amp; and ||)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/tests.html#grouping-statements">4.3 Grouping statements {...;}</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/tests.html#use-case1-reporting-stderr-on-complex-test">4.3.1 Use-case1: reporting stderr on complex test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/tests.html#use-case2-redirect-input-to-a-group-of-statements">4.3.2 Use-case2: redirect input to a group of statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../bash_wooledge/tests.html#use-case3-error-handling">4.3.3 Use-case3: error handling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../bash_wooledge/conditionals.html">5 Conditionals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/conditionals.html#conditional-blocks-if-test-and">5.1 Conditional Blocks (if, test and [[)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/conditionals.html#conditional-loops-while-until-and-for">5.2 Conditional Loops (while, until and for)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bash_wooledge/conditionals.html#choices-case-and-select">5.3 Choices (case and select)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html">sed-tutorial-gnu (<code class="docutils literal"><span class="pre">sed-tutorial.gnu.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#execution-cycle-how-sed-works">Execution Cycle: How sed works</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#addresses-selecting-lines-with-sed">Addresses: Selecting lines with sed</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#single-address-form">Single address form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#two-address-form">Two address form</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#match-negation-via">Match negation via <code class="docutils literal"><span class="pre">!</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#regular-expressions-overview-of-regular-expression-syntax">Regular Expressions: Overview of regular expression syntax</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#common-commands-often-used-commands">Common Commands: Often used commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#the-s-command-sed-s-swiss-army-knife">The &#8220;s&#8221; Command: sed&#8217;s Swiss Army Knife</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#replacement">replacement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#flags">flags</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#other-commands-less-frequently-used-commands">Other Commands: Less frequently used commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.gnu.html#programming-commands-commands-for-sed-gurus">Programming Commands: Commands for sed gurus</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html">sed-tutorials-points (<code class="docutils literal"><span class="pre">sed-tutorial.tut</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#sed-workflow">Sed - workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#basic-syntax-and-examples">Basic syntax and examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#standard-options">Standard options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#gnu-specific-options">GNU specific options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#loops-branches">Loops, Branches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#address-range-search-by-specifying-line-nums">Address range (search by specifying line-nums)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#p-syntax">&#8216;p&#8217; syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#m-n-syntax">&#8216;M,+n&#8217; syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#id1">&#8216;M,~n&#8217; syntax</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#pattern-range-search-for-simple-text-or-regexp-using-regex-syntax">Pattern range - search for simple-text or regexp using /regex/ syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#basic-commands-delete-read-write-append">Basic commands (delete, read, write, append)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#delete-command-address1-address2-d">Delete command [address1[,address2]]d</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#write-command-address1-address2-w-file">Write command [address1[,address2]]w file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#append-command-address-a">Append command [address]a</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#change-command-address1-address2-c">Change command [address1[,address2]]c</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#insert-command-address-i">Insert Command [address]i</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#translate-command-address1-address2-y-list-1-list-2">Translate command [address1[,address2]]y/list-1/list-2/</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#i-command">I command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#quit-command-address-q">Quit Command [address]q</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#read-command-address-r-file">Read Command [address]r file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#exectuve-command-address1-address2-e-command">Exectuve Command [address1[,address2]]e [command]</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sed/sed-tutorial.tutorialspoints.html#miscellaneous-commands">Miscellaneous Commands</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../awk-tutorial/awk-tutorial.html">awk-tutorial (<code class="docutils literal"><span class="pre">awk-tutorial.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tutorial/awk-basic-structure.html">1 Basic structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html">2 The Essential Syntax of AWK</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#unary-arithmetic-operators">2.1 Unary arithmetic operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#the-autoincrement-and-autodecrement-operators">2.2 The Autoincrement and Autodecrement Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#assignment-operators">2.3 Assignment Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#conditional-expressions">2.4 Conditional expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#regular-expressions">2.5 Regular Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-essential-syntax.html#and-or-not">2.6 And/Or/Not</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tutorial/awk-summary-commands.html">3 Summary of AWK Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html">4 AWK Built-in Variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#fs-the-input-field-separator-variable">4.1 FS - The Input Field Separator Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#ofs-the-output-field-separator-variable">4.2 OFS - The Output Field Separator Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#nf-the-number-of-fields-variable">4.3 NF - The Number of Fields Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#nr-the-number-of-records-variable">4.4 NR - The Number of Records Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#rs-the-record-separator-variable">4.5 RS - The Record Separator Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#ors-the-output-record-separator-variable">4.6 ORS - The Output Record Separator Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tutorial/awk-builtin-vars.html#filename-the-current-filename-variable">4.7 FILENAME - The Current Filename Variable</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../awk-tp.html">Awk Tutorials Points (<code class="docutils literal"><span class="pre">awk-tp.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../awk-ss64.html">1 Whirlwind tour from ss64</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-ss64.html#basic-syntax">1.1 Basic syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-ss64.html#awk-patterns">1.2 awk-patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-ss64.html#variable-names-that-are-predefined">1.3 Variable names that are predefined</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-ss64.html#examples">1.4 Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-ss64.html#complex-examples">1.5 Complex examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-grymoire.html">2 Tables from grymoire</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#arithmetic-expressions">2.1 Arithmetic expressions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#binary-operator">2.1.1 Binary operator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#assignment-operator">2.1.2 Assignment operator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#conditional-expressions">2.1.3 Conditional expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#regexp">2.1.4 Regexp</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#summary-of-awk-commands">2.2 Summary of AWK commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#build-int-awk-variables">2.3 Build-int AWK variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#printf-formatting">2.4 printf - formatting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#syntax">2.4.1 syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#escape-sequences">2.4.2 Escape sequences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#format-specifiers">2.4.3 Format specifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#width-specify-minimum-field-size">2.4.4 Width - specify minimum field size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#my-own-example-use-to-left-justify-string-in-s">2.4.5 my own example (use &#8220;-&#8221; to left justify string in %s)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#examples-of-complex-formatting">2.4.6 Examples of complex formatting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#explicit-file-output">2.4.7 Explicit file output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#flow-control-with-next-and-exit">2.5 Flow Control with next and exit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#awk-numerical-functions">2.6 AWK Numerical Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-grymoire.html#awk-string-functions">2.7 AWK String functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#split-demo">2.7.1 split demo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#gsub-demo">2.7.2 gsub demo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../awk-grymoire.html#match-demo">2.7.3 match demo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tp.workflow.html">3 awk-workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.workflow.html#the-begin-body-end-block">3.1 The BEGIN, body, END block</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.workflow.html#first-example-on-marks-txt-file">3.2 First example on marks.txt file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tp.basic-syntax.html">4 AWK Basic Syntax</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.basic-syntax.html#awk-help">4.1 awk &#8211;help</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.basic-syntax.html#awk-in-the-terminal-or-program-file">4.2 AWK in the terminal or Program file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.basic-syntax.html#v-option">4.3 -v option</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.basic-syntax.html#dump-global-variables">4.4 dump global variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../awk-tp.basic-syntax.html#profile-file-to-create-pretty-printed-script-file">4.5 &#8211;profile[=file] to create pretty-printed script file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../awk-tp.basic-examples.html">5 AWK &#8211; Basic Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../top-sqlite.html">SQL notes (<code class="docutils literal"><span class="pre">top-sqlite.rst</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sqlite.tutpoint.html">1 SQLite notes from tutorialpoint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.1_commands_overview.html">1.1 SQLite commands overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.1_commands_overview.html#ddl-data-definition-language">1.1.1 DDL (data definition language)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.1_commands_overview.html#dml-data-manipulation-language">1.1.2 DML (Data manipulation language)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.1_commands_overview.html#dql-data-query-language">1.1.3 DQL (data query language)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.2_unsupported_commands.html">1.2 Unsupported features in SQLite</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.3_sqlite_commands.html">1.3 sqlite commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.3_sqlite_commands.html#the-dot-commands-from-sqlite">1.3.1 the <em>dot</em> commands from sqlite</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.3_sqlite_commands.html#show-see-default-settings">1.3.2 show &#8211; see default settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.3_sqlite_commands.html#format-output-with-header-mode-timer">1.3.3 Format output with (header, mode, timer)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.3_sqlite_commands.html#the-sqlite-master-table">1.3.4 The sqlite_master Table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html">1.4 SQLite syntax (a whirl-wind tour)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#case-sensitivity">1.4.1 Case Sensitivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#comments">1.4.2 Comments</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#sqlite-statements-and-clause">1.4.3 SQLite Statements and Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#create-table">1.4.4 CREATE TABLE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#create-trigger">1.4.5 CREATE TRIGGER</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#group-by">1.4.6 GROUP BY</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#having">1.4.7 HAVING</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#pragma">1.4.8 PRAGMA</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.4_sqlite_syntax.html#update">1.4.9 UPDATE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.5_datatype.html">1.5 SQLite Data Type</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.5_datatype.html#sqlite-storage-classes">1.5.1 SQLite Storage Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.5_datatype.html#sqlite-affinity-type">1.5.2 SQLite Affinity Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.5_datatype.html#sqlite-affinity-and-type-names">1.5.3 SQLite Affinity and Type Names</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.5_datatype.html#date-and-time-datatype">1.5.4 Date and Time Datatype</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html">1.6 SQLite DDL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html#create-database">1.6.1 CREATE Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html#attach-database">1.6.2 ATTACH Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html#detach-database">1.6.3 DETACH Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html#create-table">1.6.4 CREATE Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.6_sqlite_DDL.html#drop-table">1.6.5 DROP Table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_DML.html">1.7 SQLite DML</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_DML.html#insert-query">1.7.1 INSERT Query</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_DML.html#select-query">1.7.2 SELECT Query</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_DML.html#update-query">1.7.3 UPDATE Query</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_DML.html#delete-query">1.7.4 DELETE Query</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html">1.8 SQLite clauses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#where-clause">1.8.1 WHERE Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#and-or-clause">1.8.2 AND, OR Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#like-clause">1.8.3 LIKE Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#glob-clause">1.8.4 GLOB Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#limit-clause">1.8.5 LIMIT Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#having-clause">1.8.6 HAVING Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#unions-clause">1.8.7 UNIONS Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#order-by-clause">1.8.8 ORDER BY Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#group-by-clause">1.8.9 GROUP BY Clause</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite.tutpoint.7_sqlite_clauses.html#distinct-clause-keyword">1.8.10 DISTINCT Clause/keyword</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.8_sqlite_expressions.html">1.9 SQLite Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite.tutpoint.8_sqlite_operators.html">1.10 SQLite Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_5.html">1.11 SQLite - useful functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_5.html#summary-of-key-functions">1.11.1 Summary of key functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_5.html#examples">1.11.2 Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sqlite_doc.html">2 Bunch of stuffs from the official doc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#command-line-shell-for-sqlite-incomplete">2.1 Command Line Shell for SQLite (incomplete)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#semicolon-to-indicate-end-of-sql-command">2.1.1 Semicolon to indicate end of SQL command</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#dot-commands-special-commands-to-sqlite3">2.1.2 dot-commands (special commands to sqlite3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#todo">2.1.3 todo</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#sql-syntax-link-only">2.2 SQL Syntax (link only)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#sql-keywords-link-only">2.3 SQL Keywords (link only)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#datatypes-in-sqlite-version3-todo">2.4 Datatypes in SQLite Version3 (todo)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#core-functions-todo">2.5 Core functions (todo)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#agg-functions">2.6 Agg functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#data-and-time-functions">2.7 Data and time functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#timestring">2.7.1 timestring</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#modifiers">2.7.2 modifiers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sqlite_doc.html#examples">2.7.3 Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sqlite_doc.html#json-just-read">2.8 JSON (just read)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sql_wiki.html">3 Random jumbles from wikipedia pertaining to Database concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#data-integrity">3.1 Data Integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#ddl-dml-dcl">3.2 DDL, DML, DCL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#data-definition-language-ddl">3.2.1 Data definition language (DDL)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#data-manipulation-language-dml">3.2.2 Data Manipulation Language (DML)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#data-control-language-dcl">3.2.3 Data Control Language (DCL)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#acid">3.3 ACID</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#atomicity">3.3.1 Atomicity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#consistency">3.3.2 Consistency</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#isolation">3.3.3 Isolation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#durability">3.3.4 Durability</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#jumpled-articles">3.4 Jumpled articles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#consistency-model">3.4.1 Consistency model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#cap-theorem-aka-brewer-s-theorem">3.4.2 CAP Theorem (aka Brewer&#8217;s Theorem)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#database-transaction">3.4.3 Database transaction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#database-normalization">3.5 Database normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#database-schema">3.6 Database Schema</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#logical-schema">3.6.1 Logical schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#physical-schema">3.6.2 Physical schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#conceptual-schema">3.6.3 Conceptual schema</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sql_wiki.html#three-schema-approach">3.6.4 Three-schema approach</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sql_wiki.html#bunch-of-jumbled-links">3.7 Bunch of jumbled links</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../cs-computer.html">Random computer science notes (<code class="docutils literal"><span class="pre">cs-computer</span></code>)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cs-computer.unix.html">Unix-related</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cs-computer.unix.html#terminal-shell-tty-console-the-difference">terminal, shell, tty, console...the difference?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../cs-computer.network.html">Network notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cs-computer.network.html#http-messages">HTTP messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cs-computer.network.html#random-overflows">Random overflows</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Coding Notebook</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../top-R.html">R Notes (<code class="docutils literal"><span class="pre">top-R.rst</span></code>)</a> &raquo;</li>
      
    <li>Introduction to Data Science with R</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/R/dave-langer/TitanicDataAnalysis_Video7.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction-to-data-science-with-r">
<h1>Introduction to Data Science with R</h1>
<p>The source R script available <a class="reference download internal" href="../../_downloads/TitanicDataAnalysis_Video7.R"><code class="xref download docutils literal"><span class="pre">here</span></code></a></p>
<style type="text/css">
    table {
        overflow-x:auto;
        width:100%;
        table-layout:fixed;
        display: block;
        border-collapse: collapse;
        border:none;
        padding-top: 12px;
        padding-bottom: 12px;
    }

    table>tbody>tr>td  {
        border: 2px solid rgba(255,128,128,0.1);
    }

    table>tbody>tr>th {
        border: 1px solid rgba(255,128,128,0.1);
    }

    table th, td {
        padding: 8px;
        padding-bottom: 0px;
        /*border: 1px solid #ecf0f1;*/

        /*border: 1px solid black;*/
        /*border: 2px solid #ecf0f1;*/
        /*border-bottom: 2px solid #ddd;*/
        /*border-bottom: 2px solid #aaa;*/
    }

    th {
        font-size:16px;
        text-align: center;
        font-weight:bold;
        /*border: 2px solid #aaa;*/
        background-color: rgba(255,0,0,0.15);
        border: 1px solid;
        /*background: #E3E3E3;  Light grey background */
    }

    td {
        font-size:14px;
        text-align: center;
        border: 1px solid;
        /*border: 1px solid #ecf0f1;*/
        /*border: 1px solid rgba(0,0,0,0.1);*/
    }

    /*table.dataframe tr:hover{background-color:#CCF6FF}*/
    table tr:hover{background-color:rgba(0,128,255,0.1)}

</style><div class="contents local topic" id="contents">
<p class="topic-title first"><cite>Contents</cite></p>
<ul class="simple">
<li><a class="reference internal" href="#video1-data-analysis-part-1" id="id1">Video1 - Data Analysis Part 1</a></li>
<li><a class="reference internal" href="#video2-data-analysis-part-2" id="id2">Video2 - Data Analysis Part 2</a></li>
<li><a class="reference internal" href="#video3-data-analysis-part-3" id="id3">Video3 - Data Analysis Part 3</a></li>
<li><a class="reference internal" href="#video4-exploratory-modeling-random-forests" id="id4">Video4 - Exploratory Modeling (Random Forests)</a><ul>
<li><a class="reference internal" href="#train-a-random-forest-with-the-default-parameters-using-pclass-title" id="id5">Train a Random Forest with the default parameters using pclass &amp; title</a></li>
<li><a class="reference internal" href="#train-a-random-forest-using-pclass-title-sibsp" id="id6">Train a Random Forest using pclass, title, &amp; sibsp</a></li>
<li><a class="reference internal" href="#train-a-random-forest-using-pclass-title-parch" id="id7">Train a Random Forest using pclass, title, &amp; parch</a></li>
<li><a class="reference internal" href="#train-a-random-forest-using-pclass-title-sibsp-parch" id="id8">Train a Random Forest using pclass, title, sibsp, parch</a></li>
<li><a class="reference internal" href="#train-a-random-forest-using-pclass-title-family-size" id="id9">Train a Random Forest using pclass, title, &amp; family.size</a></li>
<li><a class="reference internal" href="#train-a-random-forest-using-pclass-title-sibsp-family-size" id="id10">Train a Random Forest using pclass, title, sibsp, &amp; family.size</a></li>
<li><a class="reference internal" href="#train-a-random-forest-using-pclass-title-parch-family-size" id="id11">Train a Random Forest using pclass, title, parch, &amp; family.size</a></li>
</ul>
</li>
<li><a class="reference internal" href="#video5-cross-validation" id="id12">Video5 - Cross Validation</a></li>
<li><a class="reference internal" href="#video6-exploratory-modeling-2" id="id13">Video6 - Exploratory Modeling 2</a></li>
<li><a class="reference internal" href="#video7-submitting-scoring-and-some-analysis" id="id14">Video7 Submitting, scoring, and some analysis</a></li>
</ul>
</div>
<p>R codes from the Youtube tutorial from Dave Langer.
<a class="reference external" href="https://github.com/EasyD/IntroToDataScience">https://github.com/EasyD/IntroToDataScience</a></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="kp">options</span><span class="p">(</span>show.error.locations <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>

<span class="c1">#</span>
<span class="c1"># This R source code file corresponds to video 7 of the YouTube series</span>
<span class="c1"># &quot;Introduction to Data Science with R&quot; located at the following URL:</span>
<span class="c1">#     https://youtu.be/fuB7s19g3nQ</span>
<span class="c1">#</span>
</pre></div>
</div>
<div class="section" id="video1-data-analysis-part-1">
<h2><a class="toc-backref" href="#id1">Video1 - Data Analysis Part 1</a></h2>
<p><a class="reference external" href="https://www.youtube.com/watch?v=32o0DnuRjfg">https://www.youtube.com/watch?v=32o0DnuRjfg</a></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Video1 - Data Analysis Part 1 ----</span>

<span class="c1"># Load raw data</span>
train <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;train.csv&quot;</span><span class="p">,</span> header <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
test <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;test.csv&quot;</span><span class="p">,</span> header <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="kp">print</span><span class="p">(</span>xtable<span class="o">::</span>xtable<span class="p">(</span><span class="kp">head</span><span class="p">(</span>train<span class="p">,</span>n<span class="o">=</span><span class="m">10</span><span class="p">)),</span> type<span class="o">=</span><span class="s">&#39;html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<!-- html table generated in R 3.3.1 by xtable 1.8-2 package --><!-- Sat Nov 05 18:23:56 2016 --><table border="1"><tr><th></th><th><p>survived</p>
</th><th><p>pclass</p>
</th><th><p>name</p>
</th><th><p>sex</p>
</th><th><p>age</p>
</th><th><p>sibsp</p>
</th><th><p>parch</p>
</th><th><p>ticket</p>
</th><th><p>fare</p>
</th><th><p>cabin</p>
</th><th><p>embarked</p>
</th></tr><tr><td align="right"><p>1</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>3</p>
</td><td><p>Braund, Mr. Owen Harris</p>
</td><td><p>male</p>
</td><td align="right"><p>22.00</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>0</p>
</td><td><p>A/5 21171</p>
</td><td align="right"><p>7.25</p>
</td><td></td><td><p>S</p>
</td></tr><tr><td align="right"><p>2</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>1</p>
</td><td><p>Cumings, Mrs. John Bradley (Florence Briggs Thayer)</p>
</td><td><p>female</p>
</td><td align="right"><p>38.00</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>0</p>
</td><td><p>PC 17599</p>
</td><td align="right"><p>71.28</p>
</td><td><p>C85</p>
</td><td><p>C</p>
</td></tr><tr><td align="right"><p>3</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>3</p>
</td><td><p>Heikkinen, Miss. Laina</p>
</td><td><p>female</p>
</td><td align="right"><p>26.00</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>0</p>
</td><td><p>STON/O2. 3101282</p>
</td><td align="right"><p>7.92</p>
</td><td></td><td><p>S</p>
</td></tr><tr><td align="right"><p>4</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>1</p>
</td><td><p>Futrelle, Mrs. Jacques Heath (Lily May Peel)</p>
</td><td><p>female</p>
</td><td align="right"><p>35.00</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>0</p>
</td><td><p>113803</p>
</td><td align="right"><p>53.10</p>
</td><td><p>C123</p>
</td><td><p>S</p>
</td></tr><tr><td align="right"><p>5</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>3</p>
</td><td><p>Allen, Mr. William Henry</p>
</td><td><p>male</p>
</td><td align="right"><p>35.00</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>0</p>
</td><td><p>373450</p>
</td><td align="right"><p>8.05</p>
</td><td></td><td><p>S</p>
</td></tr><tr><td align="right"><p>6</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>3</p>
</td><td><p>Moran, Mr. James</p>
</td><td><p>male</p>
</td><td align="right"></td><td align="right"><p>0</p>
</td><td align="right"><p>0</p>
</td><td><p>330877</p>
</td><td align="right"><p>8.46</p>
</td><td></td><td><p>Q</p>
</td></tr><tr><td align="right"><p>7</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>1</p>
</td><td><p>McCarthy, Mr. Timothy J</p>
</td><td><p>male</p>
</td><td align="right"><p>54.00</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>0</p>
</td><td><p>17463</p>
</td><td align="right"><p>51.86</p>
</td><td><p>E46</p>
</td><td><p>S</p>
</td></tr><tr><td align="right"><p>8</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>3</p>
</td><td><p>Palsson, Master. Gosta Leonard</p>
</td><td><p>male</p>
</td><td align="right"><p>2.00</p>
</td><td align="right"><p>3</p>
</td><td align="right"><p>1</p>
</td><td><p>349909</p>
</td><td align="right"><p>21.07</p>
</td><td></td><td><p>S</p>
</td></tr><tr><td align="right"><p>9</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>3</p>
</td><td><p>Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)</p>
</td><td><p>female</p>
</td><td align="right"><p>27.00</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>2</p>
</td><td><p>347742</p>
</td><td align="right"><p>11.13</p>
</td><td></td><td><p>S</p>
</td></tr><tr><td align="right"><p>10</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>2</p>
</td><td><p>Nasser, Mrs. Nicholas (Adele Achem)</p>
</td><td><p>female</p>
</td><td align="right"><p>14.00</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>0</p>
</td><td><p>237736</p>
</td><td align="right"><p>30.07</p>
</td><td></td><td><p>C</p>
</td></tr></table><div class="highlight-R"><div class="highlight"><pre><span></span><span class="kp">print</span><span class="p">(</span>xtable<span class="o">::</span>xtable<span class="p">(</span><span class="kp">head</span><span class="p">(</span>test<span class="p">,</span>n<span class="o">=</span><span class="m">10</span><span class="p">)),</span> type<span class="o">=</span><span class="s">&#39;html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<!-- html table generated in R 3.3.1 by xtable 1.8-2 package --><!-- Sat Nov 05 18:23:56 2016 --><table border="1"><tr><th></th><th><p>pclass</p>
</th><th><p>name</p>
</th><th><p>sex</p>
</th><th><p>age</p>
</th><th><p>sibsp</p>
</th><th><p>parch</p>
</th><th><p>ticket</p>
</th><th><p>fare</p>
</th><th><p>cabin</p>
</th><th><p>embarked</p>
</th></tr><tr><td align="right"><p>1</p>
</td><td align="right"><p>3</p>
</td><td><p>Kelly, Mr. James</p>
</td><td><p>male</p>
</td><td align="right"><p>34.50</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>0</p>
</td><td><p>330911</p>
</td><td align="right"><p>7.83</p>
</td><td></td><td><p>Q</p>
</td></tr><tr><td align="right"><p>2</p>
</td><td align="right"><p>3</p>
</td><td><p>Wilkes, Mrs. James (Ellen Needs)</p>
</td><td><p>female</p>
</td><td align="right"><p>47.00</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>0</p>
</td><td><p>363272</p>
</td><td align="right"><p>7.00</p>
</td><td></td><td><p>S</p>
</td></tr><tr><td align="right"><p>3</p>
</td><td align="right"><p>2</p>
</td><td><p>Myles, Mr. Thomas Francis</p>
</td><td><p>male</p>
</td><td align="right"><p>62.00</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>0</p>
</td><td><p>240276</p>
</td><td align="right"><p>9.69</p>
</td><td></td><td><p>Q</p>
</td></tr><tr><td align="right"><p>4</p>
</td><td align="right"><p>3</p>
</td><td><p>Wirz, Mr. Albert</p>
</td><td><p>male</p>
</td><td align="right"><p>27.00</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>0</p>
</td><td><p>315154</p>
</td><td align="right"><p>8.66</p>
</td><td></td><td><p>S</p>
</td></tr><tr><td align="right"><p>5</p>
</td><td align="right"><p>3</p>
</td><td><p>Hirvonen, Mrs. Alexander (Helga E Lindqvist)</p>
</td><td><p>female</p>
</td><td align="right"><p>22.00</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>1</p>
</td><td><p>3101298</p>
</td><td align="right"><p>12.29</p>
</td><td></td><td><p>S</p>
</td></tr><tr><td align="right"><p>6</p>
</td><td align="right"><p>3</p>
</td><td><p>Svensson, Mr. Johan Cervin</p>
</td><td><p>male</p>
</td><td align="right"><p>14.00</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>0</p>
</td><td><p>7538</p>
</td><td align="right"><p>9.22</p>
</td><td></td><td><p>S</p>
</td></tr><tr><td align="right"><p>7</p>
</td><td align="right"><p>3</p>
</td><td><p>Connolly, Miss. Kate</p>
</td><td><p>female</p>
</td><td align="right"><p>30.00</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>0</p>
</td><td><p>330972</p>
</td><td align="right"><p>7.63</p>
</td><td></td><td><p>Q</p>
</td></tr><tr><td align="right"><p>8</p>
</td><td align="right"><p>2</p>
</td><td><p>Caldwell, Mr. Albert Francis</p>
</td><td><p>male</p>
</td><td align="right"><p>26.00</p>
</td><td align="right"><p>1</p>
</td><td align="right"><p>1</p>
</td><td><p>248738</p>
</td><td align="right"><p>29.00</p>
</td><td></td><td><p>S</p>
</td></tr><tr><td align="right"><p>9</p>
</td><td align="right"><p>3</p>
</td><td><p>Abrahim, Mrs. Joseph (Sophie Halaut Easu)</p>
</td><td><p>female</p>
</td><td align="right"><p>18.00</p>
</td><td align="right"><p>0</p>
</td><td align="right"><p>0</p>
</td><td><p>2657</p>
</td><td align="right"><p>7.23</p>
</td><td></td><td><p>C</p>
</td></tr><tr><td align="right"><p>10</p>
</td><td align="right"><p>3</p>
</td><td><p>Davies, Mr. John Samuel</p>
</td><td><p>male</p>
</td><td align="right"><p>21.00</p>
</td><td align="right"><p>2</p>
</td><td align="right"><p>0</p>
</td><td><p>A/4 48871</p>
</td><td align="right"><p>24.15</p>
</td><td></td><td><p>S</p>
</td></tr></table><div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Add a &quot;Survived&quot; variable to the test set to allow for combining data sets</span>
test.survived <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>survived <span class="o">=</span> <span class="kp">rep</span><span class="p">(</span><span class="s">&quot;None&quot;</span><span class="p">,</span> <span class="kp">nrow</span><span class="p">(</span>test<span class="p">)),</span> test<span class="p">[,])</span>

<span class="c1"># Combine data sets</span>
data.combined <span class="o">&lt;-</span> <span class="kp">rbind</span><span class="p">(</span>train<span class="p">,</span> test.survived<span class="p">)</span>

<span class="c1"># A bit about R data types (e.g., factors)</span>
str<span class="p">(</span>data.combined<span class="p">)</span>
</pre></div>
</div>
<p>&#8216;data.frame&#8217;: 1309 obs. of 11 variables: $ survived: chr &#8220;0&#8221; &#8220;1&#8221; &#8220;1&#8221; &#8220;1&#8221;
... $ pclass : int 3 1 3 1 3 3 1 3 3 2 ... $ name : Factor w/ 1307
levels &#8220;Abbing, Mr. Anthony&#8221;,..: 109 191 358 277 16 559 520 629 417 581
... $ sex : Factor w/ 2 levels &#8220;female&#8221;,&#8221;male&#8221;: 2 1 1 1 2 2 2 2 1 1 ...
$ age : num 22 38 26 35 35 NA 54 2 27 14 ... $ sibsp : int 1 1 0 1 0 0 0
3 0 1 ... $ parch : int 0 0 0 0 0 0 0 1 2 0 ... $ ticket : Factor w/ 929
levels &#8220;110152&#8221;,&#8221;110413&#8221;,..: 524 597 670 50 473 276 86 396 345 133 ... $
fare : num 7.25 71.28 7.92 53.1 8.05 ... $ cabin : Factor w/ 187 levels
&#8220;&#8221;,&#8221;A10&#8221;,&#8221;A14&#8221;,..: 1 83 1 57 1 1 131 1 1 1 ... $ embarked: Factor w/ 4
levels &#8220;&#8221;,&#8221;C&#8221;,&#8221;Q&#8221;,&#8221;S&#8221;: 4 2 4 4 4 3 4 4 4 2 ...</p>
<div class="highlight-R"><div class="highlight"><pre><span></span>data.combined<span class="o">$</span>survived <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>data.combined<span class="o">$</span>survived<span class="p">)</span>
data.combined<span class="o">$</span>pclass <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>data.combined<span class="o">$</span>pclass<span class="p">)</span>

<span class="c1"># Take a look at gross survival rates</span>
<span class="kp">table</span><span class="p">(</span>data.combined<span class="o">$</span>survived<span class="p">)</span>
</pre></div>
</div>
<p>0 1 None 549 342 418</p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Distribution across classes</span>
<span class="kp">table</span><span class="p">(</span>data.combined<span class="o">$</span>pclass<span class="p">)</span>
</pre></div>
</div>
<p>1 2 3 323 277 709</p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Load up ggplot2 package to use for visualizations</span>
<span class="kn">library</span><span class="p">(</span>ggplot2<span class="p">)</span>


<span class="c1"># Hypothesis - Rich folks survived at a higer rate</span>
train<span class="o">$</span>pclass <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>train<span class="o">$</span>pclass<span class="p">)</span>
ggplot<span class="p">(</span>train<span class="p">,</span> aes<span class="p">(</span>x <span class="o">=</span> pclass<span class="p">,</span> fill <span class="o">=</span> <span class="kp">factor</span><span class="p">(</span>survived<span class="p">)))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;Pclass&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image0" src="../../_images/unnamed-chunk-3-19.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Examine the first few names in the training data set</span>
<span class="kp">head</span><span class="p">(</span><span class="kp">as.character</span><span class="p">(</span>train<span class="o">$</span>name<span class="p">))</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">[1] &#8220;Braund, Mr. Owen Harris&#8221;</div>
<div class="line">[2] &#8220;Cumings, Mrs. John Bradley (Florence Briggs Thayer)&#8221; [3]
&#8220;Heikkinen, Miss. Laina&#8221;</div>
<div class="line">[4] &#8220;Futrelle, Mrs. Jacques Heath (Lily May Peel)&#8221;</div>
<div class="line">[5] &#8220;Allen, Mr. William Henry&#8221;</div>
<div class="line">[6] &#8220;Moran, Mr. James&#8221;</div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># How many unique names are there across both train &amp; test?</span>
<span class="kp">length</span><span class="p">(</span><span class="kp">unique</span><span class="p">(</span><span class="kp">as.character</span><span class="p">(</span>data.combined<span class="o">$</span>name<span class="p">)))</span>
</pre></div>
</div>
<p>[1] 1307</p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Two duplicate names, take a closer look</span>
<span class="c1"># First, get the duplicate names and store them as a vector</span>
dup.names <span class="o">&lt;-</span> <span class="kp">as.character</span><span class="p">(</span>data.combined<span class="p">[</span><span class="kp">which</span><span class="p">(</span><span class="kp">duplicated</span><span class="p">(</span><span class="kp">as.character</span><span class="p">(</span>data.combined<span class="o">$</span>name<span class="p">))),</span> <span class="s">&quot;name&quot;</span><span class="p">])</span>

<span class="c1"># Next, take a look at the records in the combined data set</span>
data.combined<span class="p">[</span><span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>name <span class="o">%in%</span> dup.names<span class="p">),]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>survived pclass                 name    sex  age sibsp parch ticket
</pre></div>
</div>
<p>290 1 3 Connolly, Miss. Kate female 22.0 0 0 370373 697 0 3 Kelly, Mr.
James male 44.0 0 0 363592 892 None 3 Kelly, Mr. James male 34.5 0 0
330911 898 None 3 Connolly, Miss. Kate female 30.0 0 0 330972 fare cabin
embarked 290 7.7500 Q 697 8.0500 S 892 7.8292 Q 898 7.6292 Q</p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># What is up with the &#39;Miss.&#39; and &#39;Mr.&#39; thing?</span>
<span class="kn">library</span><span class="p">(</span>stringr<span class="p">)</span>

<span class="c1"># Any correlation with other variables (e.g., sibsp)?</span>
misses <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="kp">which</span><span class="p">(</span>str_detect<span class="p">(</span>data.combined<span class="o">$</span>name<span class="p">,</span> <span class="s">&quot;Miss.&quot;</span><span class="p">)),]</span>
misses<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">,]</span>
</pre></div>
</div>
<p>survived pclass name sex age sibsp 3 1 3 Heikkinen, Miss. Laina female
26 0 11 1 3 Sandstrom, Miss. Marguerite Rut female 4 1 12 1 1 Bonnell,
Miss. Elizabeth female 58 0 15 0 3 Vestrom, Miss. Hulda Amanda Adolfina
female 14 0 23 1 3 McGowan, Miss. Anna &#8220;Annie&#8221; female 15 0 parch ticket
fare cabin embarked 3 0 STON/O2. 3101282 7.9250 S 11 1 PP 9549 16.7000
G6 S 12 0 113783 26.5500 C103 S 15 0 350406 7.8542 S 23 0 330923 8.0292
Q</p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Hypothesis - Name titles correlate with age</span>
mrses <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="kp">which</span><span class="p">(</span>str_detect<span class="p">(</span>data.combined<span class="o">$</span>name<span class="p">,</span> <span class="s">&quot;Mrs.&quot;</span><span class="p">)),</span> <span class="p">]</span>
mrses<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">,]</span>
</pre></div>
</div>
<p>survived pclass name 2 1 1 Cumings, Mrs. John Bradley (Florence Briggs
Thayer) 4 1 1 Futrelle, Mrs. Jacques Heath (Lily May Peel) 9 1 3
Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg) 10 1 2 Nasser, Mrs.
Nicholas (Adele Achem) 16 1 2 Hewlett, Mrs. (Mary D Kingcome) sex age
sibsp parch ticket fare cabin embarked 2 female 38 1 0 PC 17599 71.2833
C85 C 4 female 35 1 0 113803 53.1000 C123 S 9 female 27 0 2 347742
11.1333 S 10 female 14 1 0 237736 30.0708 C 16 female 55 0 0 248706
16.0000 S</p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Check out males to see if pattern continues</span>
males <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="kp">which</span><span class="p">(</span>train<span class="o">$</span>sex <span class="o">==</span> <span class="s">&quot;male&quot;</span><span class="p">),</span> <span class="p">]</span>
males<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">5</span><span class="p">,]</span>
</pre></div>
</div>
<p>survived pclass name sex age sibsp parch 1 0 3 Braund, Mr. Owen Harris
male 22 1 0 5 0 3 Allen, Mr. William Henry male 35 0 0 6 0 3 Moran, Mr.
James male NA 0 0 7 0 1 McCarthy, Mr. Timothy J male 54 0 0 8 0 3
Palsson, Master. Gosta Leonard male 2 3 1 ticket fare cabin embarked 1
A/5 21171 7.2500 S 5 373450 8.0500 S 6 330877 8.4583 Q 7 17463 51.8625
E46 S 8 349909 21.0750 S</p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Expand upon the realtionship between `Survived` and `Pclass` by adding the new `Title` variable to the</span>
<span class="c1"># data set and then explore a potential 3-dimensional relationship.</span>

<span class="c1"># Create a utility function to help with title extraction</span>
extractTitle <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>name<span class="p">)</span> <span class="p">{</span>
  name <span class="o">&lt;-</span> <span class="kp">as.character</span><span class="p">(</span>name<span class="p">)</span>

  <span class="kr">if</span> <span class="p">(</span><span class="kp">length</span><span class="p">(</span><span class="kp">grep</span><span class="p">(</span><span class="s">&quot;Miss.&quot;</span><span class="p">,</span> name<span class="p">))</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">return</span> <span class="p">(</span><span class="s">&quot;Miss.&quot;</span><span class="p">)</span>
  <span class="p">}</span> <span class="kr">else</span> <span class="kr">if</span> <span class="p">(</span><span class="kp">length</span><span class="p">(</span><span class="kp">grep</span><span class="p">(</span><span class="s">&quot;Master.&quot;</span><span class="p">,</span> name<span class="p">))</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">return</span> <span class="p">(</span><span class="s">&quot;Master.&quot;</span><span class="p">)</span>
  <span class="p">}</span> <span class="kr">else</span> <span class="kr">if</span> <span class="p">(</span><span class="kp">length</span><span class="p">(</span><span class="kp">grep</span><span class="p">(</span><span class="s">&quot;Mrs.&quot;</span><span class="p">,</span> name<span class="p">))</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">return</span> <span class="p">(</span><span class="s">&quot;Mrs.&quot;</span><span class="p">)</span>
  <span class="p">}</span> <span class="kr">else</span> <span class="kr">if</span> <span class="p">(</span><span class="kp">length</span><span class="p">(</span><span class="kp">grep</span><span class="p">(</span><span class="s">&quot;Mr.&quot;</span><span class="p">,</span> name<span class="p">))</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">return</span> <span class="p">(</span><span class="s">&quot;Mr.&quot;</span><span class="p">)</span>
  <span class="p">}</span> <span class="kr">else</span> <span class="p">{</span>
    <span class="kr">return</span> <span class="p">(</span><span class="s">&quot;Other&quot;</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

titles <span class="o">&lt;-</span> <span class="kc">NULL</span>
<span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="kp">nrow</span><span class="p">(</span>data.combined<span class="p">))</span> <span class="p">{</span>
  titles <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span>titles<span class="p">,</span> extractTitle<span class="p">(</span>data.combined<span class="p">[</span>i<span class="p">,</span><span class="s">&quot;name&quot;</span><span class="p">]))</span>
<span class="p">}</span>
data.combined<span class="o">$</span>title <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>titles<span class="p">)</span>

<span class="c1"># Since we only have survived lables for the train set, only use the</span>
<span class="c1"># first 891 rows</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> title<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Pclass&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;Title&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image1" src="../../_images/unnamed-chunk-3-26.png" /></p>
</div>
<div class="section" id="video2-data-analysis-part-2">
<h2><a class="toc-backref" href="#id2">Video2 - Data Analysis Part 2</a></h2>
<p><a class="reference external" href="https://www.youtube.com/watch?v=u6sahb7Hmog">https://www.youtube.com/watch?v=u6sahb7Hmog</a></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Video2 - Data Analysis Part 2 ----</span>
<span class="c1"># What&#39;s the distribution of females to males across train &amp; test?</span>
<span class="kp">table</span><span class="p">(</span>data.combined<span class="o">$</span>sex<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## female   male</span>
<span class="c1">##    466    843</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Visualize the 3-way relationship of sex, pclass, and survival, compare to analysis of title</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> sex<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Pclass&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;Sex&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image2" src="../../_images/unnamed-chunk-4-15.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># OK, age and sex seem pretty important as derived from analysis of title, let&#39;s take a closer</span>
<span class="c1"># look at the distibutions of age over entire data set</span>
<span class="kp">summary</span><span class="p">(</span>data.combined<span class="o">$</span>age<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s</span>
<span class="c1">##    0.17   21.00   28.00   29.88   39.00   80.00     263</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="kp">summary</span><span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span><span class="s">&quot;age&quot;</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s</span>
<span class="c1">##    0.42   20.12   28.00   29.70   38.00   80.00     177</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Just to be thorough, take a look at survival rates broken out by sex, pclass, and age</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> age<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>sex <span class="o">+</span> pclass<span class="p">)</span> <span class="o">+</span>
  geom_histogram<span class="p">(</span>binwidth <span class="o">=</span> <span class="m">10</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;Age&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Warning: Removed 177 rows containing non-finite values (stat_bin).</span>
</pre></div>
</div>
<p><img alt="image3" src="../../_images/unnamed-chunk-4-24.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Validate that &quot;Master.&quot; is a good proxy for male children</span>
boys <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>title <span class="o">==</span> <span class="s">&quot;Master.&quot;</span><span class="p">),]</span>
<span class="kp">summary</span><span class="p">(</span>boys<span class="o">$</span>age<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s</span>
<span class="c1">##   0.330   2.000   4.000   5.483   9.000  14.500       8</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># We know that &quot;Miss.&quot; is more complicated, let&#39;s examine further</span>
misses <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>title <span class="o">==</span> <span class="s">&quot;Miss.&quot;</span><span class="p">),]</span>
<span class="kp">summary</span><span class="p">(</span>misses<span class="o">$</span>age<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s</span>
<span class="c1">##    0.17   15.00   22.00   21.77   30.00   63.00      50</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>ggplot<span class="p">(</span>misses<span class="p">[</span>misses<span class="o">$</span>survived <span class="o">!=</span> <span class="s">&quot;None&quot;</span> <span class="o">&amp;</span> <span class="o">!</span><span class="kp">is.na</span><span class="p">(</span>misses<span class="o">$</span>age<span class="p">),],</span> aes<span class="p">(</span>x <span class="o">=</span> age<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass<span class="p">)</span> <span class="o">+</span>
  geom_histogram<span class="p">(</span>binwidth <span class="o">=</span> <span class="m">5</span><span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Age for &#39;Miss.&#39; by Pclass&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;Age&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image4" src="../../_images/unnamed-chunk-4-31.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># OK, appears female children may have different survival rate,</span>
<span class="c1"># could be a candidate for feature engineering later</span>
misses.alone <span class="o">&lt;-</span> misses<span class="p">[</span><span class="kp">which</span><span class="p">(</span>misses<span class="o">$</span>sibsp <span class="o">==</span> <span class="m">0</span> <span class="o">&amp;</span> misses<span class="o">$</span>parch <span class="o">==</span> <span class="m">0</span><span class="p">),]</span>
<span class="kp">summary</span><span class="p">(</span>misses.alone<span class="o">$</span>age<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s</span>
<span class="c1">##    5.00   21.00   26.00   27.23   32.50   58.00      33</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="kp">length</span><span class="p">(</span><span class="kp">which</span><span class="p">(</span>misses.alone<span class="o">$</span>age <span class="o">&lt;=</span> <span class="m">14.5</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 4</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Move on to the sibsp variable, summarize the variable</span>
<span class="kp">summary</span><span class="p">(</span>data.combined<span class="o">$</span>sibsp<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="c1">##  0.0000  0.0000  0.0000  0.4989  1.0000  8.0000</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Can we treat as a factor?</span>
<span class="kp">length</span><span class="p">(</span><span class="kp">unique</span><span class="p">(</span>data.combined<span class="o">$</span>sibsp<span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 7</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>data.combined<span class="o">$</span>sibsp <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>data.combined<span class="o">$</span>sibsp<span class="p">)</span>


<span class="c1"># We believe title is predictive. Visualize survival reates by sibsp, pclass, and title</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> sibsp<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass <span class="o">+</span> title<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Pclass, Title&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;SibSp&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">300</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image5" src="../../_images/unnamed-chunk-4-41.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Treat the parch vaiable as a factor and visualize</span>
data.combined<span class="o">$</span>parch <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>data.combined<span class="o">$</span>parch<span class="p">)</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> parch<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass <span class="o">+</span> title<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Pclass, Title&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;ParCh&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">300</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image6" src="../../_images/unnamed-chunk-4-51.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s try some feature engineering. What about creating a family size feature?</span>
temp.sibsp <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span>train<span class="o">$</span>sibsp<span class="p">,</span> test<span class="o">$</span>sibsp<span class="p">)</span>
temp.parch <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span>train<span class="o">$</span>parch<span class="p">,</span> test<span class="o">$</span>parch<span class="p">)</span>
data.combined<span class="o">$</span>family.size <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>temp.sibsp <span class="o">+</span> temp.parch <span class="o">+</span> <span class="m">1</span><span class="p">)</span>


<span class="c1"># Visualize it to see if it is predictive</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> family.size<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass <span class="o">+</span> title<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Pclass, Title&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;family.size&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">300</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image7" src="../../_images/unnamed-chunk-4-61.png" /></p>
</div>
<div class="section" id="video3-data-analysis-part-3">
<h2><a class="toc-backref" href="#id3">Video3 - Data Analysis Part 3</a></h2>
<p><a class="reference external" href="https://www.youtube.com/watch?v=aMV_6LmCs4Q">https://www.youtube.com/watch?v=aMV_6LmCs4Q</a></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Video3 - Data Analysis Part 3 ----</span>

<span class="c1"># Take a look at the ticket variable</span>
str<span class="p">(</span>data.combined<span class="o">$</span>ticket<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  Factor w/ 929 levels &quot;110152&quot;,&quot;110413&quot;,..: 524 597 670 50 473 276 86 396 345 133 ...</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Based on the huge number of levels ticket really isn&#39;t a factor variable it is a string.</span>
<span class="c1"># Convert it and display first 20</span>
data.combined<span class="o">$</span>ticket <span class="o">&lt;-</span> <span class="kp">as.character</span><span class="p">(</span>data.combined<span class="o">$</span>ticket<span class="p">)</span>
data.combined<span class="o">$</span>ticket<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">20</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  [1] &quot;A/5 21171&quot;        &quot;PC 17599&quot;         &quot;STON/O2. 3101282&quot;</span>
<span class="c1">##  [4] &quot;113803&quot;           &quot;373450&quot;           &quot;330877&quot;</span>
<span class="c1">##  [7] &quot;17463&quot;            &quot;349909&quot;           &quot;347742&quot;</span>
<span class="c1">## [10] &quot;237736&quot;           &quot;PP 9549&quot;          &quot;113783&quot;</span>
<span class="c1">## [13] &quot;A/5. 2151&quot;        &quot;347082&quot;           &quot;350406&quot;</span>
<span class="c1">## [16] &quot;248706&quot;           &quot;382652&quot;           &quot;244373&quot;</span>
<span class="c1">## [19] &quot;345763&quot;           &quot;2649&quot;</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># There&#39;s no immediately apparent structure in the data, let&#39;s see if we can find some.</span>
<span class="c1"># We&#39;ll start with taking a look at just the first char for each</span>
ticket.first.char <span class="o">&lt;-</span> <span class="kp">ifelse</span><span class="p">(</span>data.combined<span class="o">$</span>ticket <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="kp">substr</span><span class="p">(</span>data.combined<span class="o">$</span>ticket<span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">))</span>
<span class="kp">unique</span><span class="p">(</span>ticket.first.char<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  [1] &quot;A&quot; &quot;P&quot; &quot;S&quot; &quot;1&quot; &quot;3&quot; &quot;2&quot; &quot;C&quot; &quot;7&quot; &quot;W&quot; &quot;4&quot; &quot;F&quot; &quot;L&quot; &quot;9&quot; &quot;6&quot; &quot;5&quot; &quot;8&quot;</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># OK, we can make a factor for analysis purposes and visualize</span>
data.combined<span class="o">$</span>ticket.first.char <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>ticket.first.char<span class="p">)</span>

<span class="c1"># First, a high-level plot of the data</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> ticket.first.char<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Survivability by ticket.first.char&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;ticket.first.char&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">350</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image8" src="../../_images/unnamed-chunk-5-14.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Ticket seems like it might be predictive, drill down a bit</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> ticket.first.char<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Pclass&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;ticket.first.char&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">150</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image9" src="../../_images/unnamed-chunk-5-22.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Lastly, see if we get a pattern when using combination of pclass &amp; title</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> ticket.first.char<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass <span class="o">+</span> title<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Pclass, Title&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;ticket.first.char&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">200</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image10" src="../../_images/unnamed-chunk-5-3.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Next up - the fares Titanic passengers paid</span>
<span class="kp">summary</span><span class="p">(</span>data.combined<span class="o">$</span>fare<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s</span>
<span class="c1">##   0.000   7.896  14.450  33.300  31.280 512.300       1</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="kp">length</span><span class="p">(</span><span class="kp">unique</span><span class="p">(</span>data.combined<span class="o">$</span>fare<span class="p">))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 282</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Can&#39;t make fare a factor, treat as numeric &amp; visualize with histogram</span>
ggplot<span class="p">(</span>data.combined<span class="p">,</span> aes<span class="p">(</span>x <span class="o">=</span> fare<span class="p">))</span> <span class="o">+</span>
  geom_histogram<span class="p">(</span>binwidth <span class="o">=</span> <span class="m">5</span><span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Combined Fare Distribution&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;Fare&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">200</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Warning: Removed 1 rows containing non-finite values (stat_bin).</span>
</pre></div>
</div>
<p><img alt="image11" src="../../_images/unnamed-chunk-5-4.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s check to see if fare has predictive power</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> fare<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_histogram<span class="p">(</span>binwidth <span class="o">=</span> <span class="m">5</span><span class="p">)</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass <span class="o">+</span> title<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Pclass, Title&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;fare&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">50</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image12" src="../../_images/unnamed-chunk-5-5.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Analysis of the cabin variable</span>
str<span class="p">(</span>data.combined<span class="o">$</span>cabin<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  Factor w/ 187 levels &quot;&quot;,&quot;A10&quot;,&quot;A14&quot;,..: 1 83 1 57 1 1 131 1 1 1 ...</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Cabin really isn&#39;t a factor, make a string and the display first 100</span>
data.combined<span class="o">$</span>cabin <span class="o">&lt;-</span> <span class="kp">as.character</span><span class="p">(</span>data.combined<span class="o">$</span>cabin<span class="p">)</span>
data.combined<span class="o">$</span>cabin<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">100</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##   [1] &quot;&quot;            &quot;C85&quot;         &quot;&quot;            &quot;C123&quot;        &quot;&quot;</span>
<span class="c1">##   [6] &quot;&quot;            &quot;E46&quot;         &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [11] &quot;G6&quot;          &quot;C103&quot;        &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [16] &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [21] &quot;&quot;            &quot;D56&quot;         &quot;&quot;            &quot;A6&quot;          &quot;&quot;</span>
<span class="c1">##  [26] &quot;&quot;            &quot;&quot;            &quot;C23 C25 C27&quot; &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [31] &quot;&quot;            &quot;B78&quot;         &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [36] &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [41] &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [46] &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [51] &quot;&quot;            &quot;&quot;            &quot;D33&quot;         &quot;&quot;            &quot;B30&quot;</span>
<span class="c1">##  [56] &quot;C52&quot;         &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [61] &quot;&quot;            &quot;B28&quot;         &quot;C83&quot;         &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [66] &quot;&quot;            &quot;F33&quot;         &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [71] &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [76] &quot;F G73&quot;       &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [81] &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [86] &quot;&quot;            &quot;&quot;            &quot;&quot;            &quot;C23 C25 C27&quot; &quot;&quot;</span>
<span class="c1">##  [91] &quot;&quot;            &quot;&quot;            &quot;E31&quot;         &quot;&quot;            &quot;&quot;</span>
<span class="c1">##  [96] &quot;&quot;            &quot;A5&quot;          &quot;D10 D12&quot;     &quot;&quot;            &quot;&quot;</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Replace empty cabins with a &quot;U&quot;</span>
data.combined<span class="p">[</span><span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>cabin <span class="o">==</span> <span class="s">&quot;&quot;</span><span class="p">),</span> <span class="s">&quot;cabin&quot;</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="s">&quot;U&quot;</span>
data.combined<span class="o">$</span>cabin<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">100</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##   [1] &quot;U&quot;           &quot;C85&quot;         &quot;U&quot;           &quot;C123&quot;        &quot;U&quot;</span>
<span class="c1">##   [6] &quot;U&quot;           &quot;E46&quot;         &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [11] &quot;G6&quot;          &quot;C103&quot;        &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [16] &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [21] &quot;U&quot;           &quot;D56&quot;         &quot;U&quot;           &quot;A6&quot;          &quot;U&quot;</span>
<span class="c1">##  [26] &quot;U&quot;           &quot;U&quot;           &quot;C23 C25 C27&quot; &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [31] &quot;U&quot;           &quot;B78&quot;         &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [36] &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [41] &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [46] &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [51] &quot;U&quot;           &quot;U&quot;           &quot;D33&quot;         &quot;U&quot;           &quot;B30&quot;</span>
<span class="c1">##  [56] &quot;C52&quot;         &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [61] &quot;U&quot;           &quot;B28&quot;         &quot;C83&quot;         &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [66] &quot;U&quot;           &quot;F33&quot;         &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [71] &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [76] &quot;F G73&quot;       &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [81] &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [86] &quot;U&quot;           &quot;U&quot;           &quot;U&quot;           &quot;C23 C25 C27&quot; &quot;U&quot;</span>
<span class="c1">##  [91] &quot;U&quot;           &quot;U&quot;           &quot;E31&quot;         &quot;U&quot;           &quot;U&quot;</span>
<span class="c1">##  [96] &quot;U&quot;           &quot;A5&quot;          &quot;D10 D12&quot;     &quot;U&quot;           &quot;U&quot;</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Take a look at just the first char as a factor</span>
cabin.first.char <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span><span class="kp">substr</span><span class="p">(</span>data.combined<span class="o">$</span>cabin<span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">))</span>
str<span class="p">(</span>cabin.first.char<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  Factor w/ 9 levels &quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,..: 9 3 9 3 9 9 5 9 9 9 ...</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="kp">levels</span><span class="p">(</span>cabin.first.char<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;T&quot; &quot;U&quot;</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Add to combined data set and plot</span>
data.combined<span class="o">$</span>cabin.first.char <span class="o">&lt;-</span> cabin.first.char

<span class="c1"># High level plot</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> cabin.first.char<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Survivability by cabin.first.char&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;cabin.first.char&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">750</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image13" src="../../_images/unnamed-chunk-5-6.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Could have some predictive power, drill in</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> cabin.first.char<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Survivability by cabin.first.char&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;Pclass&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">500</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image14" src="../../_images/unnamed-chunk-5-7.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Does this feature improve upon pclass + title?</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> cabin.first.char<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass <span class="o">+</span> title<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Pclass, Title&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;cabin.first.char&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">500</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image15" src="../../_images/unnamed-chunk-5-8.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># What about folks with multiple cabins?</span>
data.combined<span class="o">$</span>cabin.multiple <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span><span class="kp">ifelse</span><span class="p">(</span>str_detect<span class="p">(</span>data.combined<span class="o">$</span>cabin<span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">),</span> <span class="s">&quot;Y&quot;</span><span class="p">,</span> <span class="s">&quot;N&quot;</span><span class="p">))</span>

ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> cabin.multiple<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass <span class="o">+</span> title<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Pclass, Title&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;cabin.multiple&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">350</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image16" src="../../_images/unnamed-chunk-5-9.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Does survivability depend on where you got onboard the Titanic?</span>
str<span class="p">(</span>data.combined<span class="o">$</span>embarked<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  Factor w/ 4 levels &quot;&quot;,&quot;C&quot;,&quot;Q&quot;,&quot;S&quot;: 4 2 4 4 4 3 4 4 4 2 ...</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="kp">levels</span><span class="p">(</span>data.combined<span class="o">$</span>embarked<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] &quot;&quot;  &quot;C&quot; &quot;Q&quot; &quot;S&quot;</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Plot data for analysis</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> embarked<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span>pclass <span class="o">+</span> title<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Pclass, Title&quot;</span><span class="p">)</span> <span class="o">+</span>
  xlab<span class="p">(</span><span class="s">&quot;embarked&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylab<span class="p">(</span><span class="s">&quot;Total Count&quot;</span><span class="p">)</span> <span class="o">+</span>
  ylim<span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">300</span><span class="p">)</span> <span class="o">+</span>
  labs<span class="p">(</span>fill <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image17" src="../../_images/unnamed-chunk-5-10.png" /></p>
</div>
<div class="section" id="video4-exploratory-modeling-random-forests">
<h2><a class="toc-backref" href="#id4">Video4 - Exploratory Modeling (Random Forests)</a></h2>
<p><a class="reference external" href="https://www.youtube.com/watch?v=UHJH7w9q4Lc">https://www.youtube.com/watch?v=UHJH7w9q4Lc</a></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Video4 - Exploratory Modeling ----</span>

<span class="kn">library</span><span class="p">(</span>randomForest<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Warning: package &#39;randomForest&#39; was built under R version 3.3.2</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## randomForest 4.6-12</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Type rfNews() to see new features/changes/bug fixes.</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Attaching package: &#39;randomForest&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## The following object is masked from &#39;package:ggplot2&#39;:</span>
<span class="c1">##</span>
<span class="c1">##     margin</span>
</pre></div>
</div>
<div class="section" id="train-a-random-forest-with-the-default-parameters-using-pclass-title">
<h3><a class="toc-backref" href="#id5">Train a Random Forest with the default parameters using pclass &amp; title</a></h3>
<div class="highlight-R"><div class="highlight"><pre><span></span>rf.train.1 <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;title&quot;</span><span class="p">)]</span>
rf.label <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>train<span class="o">$</span>survived<span class="p">)</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">1234</span><span class="p">)</span>
rf.1 <span class="o">&lt;-</span> randomForest<span class="p">(</span>x <span class="o">=</span> rf.train.1<span class="p">,</span> y <span class="o">=</span> rf.label<span class="p">,</span> importance <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> ntree <span class="o">=</span> <span class="m">1000</span><span class="p">)</span>
rf.1
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">##  randomForest(x = rf.train.1, y = rf.label, ntree = 1000, importance = TRUE)</span>
<span class="c1">##                Type of random forest: classification</span>
<span class="c1">##                      Number of trees: 1000</span>
<span class="c1">## No. of variables tried at each split: 1</span>
<span class="c1">##</span>
<span class="c1">##         OOB estimate of  error rate: 20.76%</span>
<span class="c1">## Confusion matrix:</span>
<span class="c1">##     0   1 class.error</span>
<span class="c1">## 0 538  11  0.02003643</span>
<span class="c1">## 1 174 168  0.50877193</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>varImpPlot<span class="p">(</span>rf.1<span class="p">)</span>
</pre></div>
</div>
<p><img alt="image18" src="../../_images/unnamed-chunk-7-14.png" /></p>
</div>
<div class="section" id="train-a-random-forest-using-pclass-title-sibsp">
<h3><a class="toc-backref" href="#id6">Train a Random Forest using pclass, title, &amp; sibsp</a></h3>
<div class="highlight-R"><div class="highlight"><pre><span></span>rf.train.2 <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;title&quot;</span><span class="p">,</span> <span class="s">&quot;sibsp&quot;</span><span class="p">)]</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">1234</span><span class="p">)</span>
rf.2 <span class="o">&lt;-</span> randomForest<span class="p">(</span>x <span class="o">=</span> rf.train.2<span class="p">,</span> y <span class="o">=</span> rf.label<span class="p">,</span> importance <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> ntree <span class="o">=</span> <span class="m">1000</span><span class="p">)</span>
rf.2
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">##  randomForest(x = rf.train.2, y = rf.label, ntree = 1000, importance = TRUE)</span>
<span class="c1">##                Type of random forest: classification</span>
<span class="c1">##                      Number of trees: 1000</span>
<span class="c1">## No. of variables tried at each split: 1</span>
<span class="c1">##</span>
<span class="c1">##         OOB estimate of  error rate: 19.75%</span>
<span class="c1">## Confusion matrix:</span>
<span class="c1">##     0   1 class.error</span>
<span class="c1">## 0 487  62   0.1129326</span>
<span class="c1">## 1 114 228   0.3333333</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>varImpPlot<span class="p">(</span>rf.2<span class="p">)</span>
</pre></div>
</div>
<p><img alt="image19" src="../../_images/unnamed-chunk-8-17.png" /></p>
</div>
<div class="section" id="train-a-random-forest-using-pclass-title-parch">
<h3><a class="toc-backref" href="#id7">Train a Random Forest using pclass, title, &amp; parch</a></h3>
<div class="highlight-R"><div class="highlight"><pre><span></span>rf.train.3 <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;title&quot;</span><span class="p">,</span> <span class="s">&quot;parch&quot;</span><span class="p">)]</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">1234</span><span class="p">)</span>
rf.3 <span class="o">&lt;-</span> randomForest<span class="p">(</span>x <span class="o">=</span> rf.train.3<span class="p">,</span> y <span class="o">=</span> rf.label<span class="p">,</span> importance <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> ntree <span class="o">=</span> <span class="m">1000</span><span class="p">)</span>
rf.3
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">##  randomForest(x = rf.train.3, y = rf.label, ntree = 1000, importance = TRUE)</span>
<span class="c1">##                Type of random forest: classification</span>
<span class="c1">##                      Number of trees: 1000</span>
<span class="c1">## No. of variables tried at each split: 1</span>
<span class="c1">##</span>
<span class="c1">##         OOB estimate of  error rate: 19.98%</span>
<span class="c1">## Confusion matrix:</span>
<span class="c1">##     0   1 class.error</span>
<span class="c1">## 0 495  54  0.09836066</span>
<span class="c1">## 1 124 218  0.36257310</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>varImpPlot<span class="p">(</span>rf.3<span class="p">)</span>
</pre></div>
</div>
<p><img alt="image20" src="../../_images/unnamed-chunk-9-11.png" /></p>
</div>
<div class="section" id="train-a-random-forest-using-pclass-title-sibsp-parch">
<h3><a class="toc-backref" href="#id8">Train a Random Forest using pclass, title, sibsp, parch</a></h3>
<div class="highlight-R"><div class="highlight"><pre><span></span>rf.train.4 <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;title&quot;</span><span class="p">,</span> <span class="s">&quot;sibsp&quot;</span><span class="p">,</span> <span class="s">&quot;parch&quot;</span><span class="p">)]</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">1234</span><span class="p">)</span>
rf.4 <span class="o">&lt;-</span> randomForest<span class="p">(</span>x <span class="o">=</span> rf.train.4<span class="p">,</span> y <span class="o">=</span> rf.label<span class="p">,</span> importance <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> ntree <span class="o">=</span> <span class="m">1000</span><span class="p">)</span>
rf.4
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">##  randomForest(x = rf.train.4, y = rf.label, ntree = 1000, importance = TRUE)</span>
<span class="c1">##                Type of random forest: classification</span>
<span class="c1">##                      Number of trees: 1000</span>
<span class="c1">## No. of variables tried at each split: 2</span>
<span class="c1">##</span>
<span class="c1">##         OOB estimate of  error rate: 18.52%</span>
<span class="c1">## Confusion matrix:</span>
<span class="c1">##     0   1 class.error</span>
<span class="c1">## 0 489  60   0.1092896</span>
<span class="c1">## 1 105 237   0.3070175</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>varImpPlot<span class="p">(</span>rf.4<span class="p">)</span>
</pre></div>
</div>
<p><img alt="image21" src="../../_images/unnamed-chunk-10-11.png" /></p>
</div>
<div class="section" id="train-a-random-forest-using-pclass-title-family-size">
<h3><a class="toc-backref" href="#id9">Train a Random Forest using pclass, title, &amp; family.size</a></h3>
<div class="highlight-R"><div class="highlight"><pre><span></span>rf.train.5 <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;title&quot;</span><span class="p">,</span> <span class="s">&quot;family.size&quot;</span><span class="p">)]</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">1234</span><span class="p">)</span>
rf.5 <span class="o">&lt;-</span> randomForest<span class="p">(</span>x <span class="o">=</span> rf.train.5<span class="p">,</span> y <span class="o">=</span> rf.label<span class="p">,</span> importance <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> ntree <span class="o">=</span> <span class="m">1000</span><span class="p">)</span>
rf.5
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">##  randomForest(x = rf.train.5, y = rf.label, ntree = 1000, importance = TRUE)</span>
<span class="c1">##                Type of random forest: classification</span>
<span class="c1">##                      Number of trees: 1000</span>
<span class="c1">## No. of variables tried at each split: 1</span>
<span class="c1">##</span>
<span class="c1">##         OOB estimate of  error rate: 18.41%</span>
<span class="c1">## Confusion matrix:</span>
<span class="c1">##     0   1 class.error</span>
<span class="c1">## 0 485  64   0.1165756</span>
<span class="c1">## 1 100 242   0.2923977</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>varImpPlot<span class="p">(</span>rf.5<span class="p">)</span>
</pre></div>
</div>
<p><img alt="image22" src="../../_images/unnamed-chunk-11-1.png" /></p>
</div>
<div class="section" id="train-a-random-forest-using-pclass-title-sibsp-family-size">
<h3><a class="toc-backref" href="#id10">Train a Random Forest using pclass, title, sibsp, &amp; family.size</a></h3>
<div class="highlight-R"><div class="highlight"><pre><span></span>rf.train.6 <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;title&quot;</span><span class="p">,</span> <span class="s">&quot;sibsp&quot;</span><span class="p">,</span> <span class="s">&quot;family.size&quot;</span><span class="p">)]</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">1234</span><span class="p">)</span>
rf.6 <span class="o">&lt;-</span> randomForest<span class="p">(</span>x <span class="o">=</span> rf.train.6<span class="p">,</span> y <span class="o">=</span> rf.label<span class="p">,</span> importance <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> ntree <span class="o">=</span> <span class="m">1000</span><span class="p">)</span>
rf.6
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">##  randomForest(x = rf.train.6, y = rf.label, ntree = 1000, importance = TRUE)</span>
<span class="c1">##                Type of random forest: classification</span>
<span class="c1">##                      Number of trees: 1000</span>
<span class="c1">## No. of variables tried at each split: 2</span>
<span class="c1">##</span>
<span class="c1">##         OOB estimate of  error rate: 18.74%</span>
<span class="c1">## Confusion matrix:</span>
<span class="c1">##     0   1 class.error</span>
<span class="c1">## 0 486  63   0.1147541</span>
<span class="c1">## 1 104 238   0.3040936</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>varImpPlot<span class="p">(</span>rf.6<span class="p">)</span>
</pre></div>
</div>
<p><img alt="image23" src="../../_images/unnamed-chunk-12-11.png" /></p>
</div>
<div class="section" id="train-a-random-forest-using-pclass-title-parch-family-size">
<h3><a class="toc-backref" href="#id11">Train a Random Forest using pclass, title, parch, &amp; family.size</a></h3>
<div class="highlight-R"><div class="highlight"><pre><span></span>rf.train.7 <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;title&quot;</span><span class="p">,</span> <span class="s">&quot;parch&quot;</span><span class="p">,</span> <span class="s">&quot;family.size&quot;</span><span class="p">)]</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">1234</span><span class="p">)</span>
rf.7 <span class="o">&lt;-</span> randomForest<span class="p">(</span>x <span class="o">=</span> rf.train.7<span class="p">,</span> y <span class="o">=</span> rf.label<span class="p">,</span> importance <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> ntree <span class="o">=</span> <span class="m">1000</span><span class="p">)</span>
rf.7
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">##  randomForest(x = rf.train.7, y = rf.label, ntree = 1000, importance = TRUE)</span>
<span class="c1">##                Type of random forest: classification</span>
<span class="c1">##                      Number of trees: 1000</span>
<span class="c1">## No. of variables tried at each split: 2</span>
<span class="c1">##</span>
<span class="c1">##         OOB estimate of  error rate: 18.97%</span>
<span class="c1">## Confusion matrix:</span>
<span class="c1">##     0   1 class.error</span>
<span class="c1">## 0 486  63   0.1147541</span>
<span class="c1">## 1 106 236   0.3099415</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>varImpPlot<span class="p">(</span>rf.7<span class="p">)</span>
</pre></div>
</div>
<p><img alt="image24" src="../../_images/unnamed-chunk-13-1.png" /></p>
</div>
</div>
<div class="section" id="video5-cross-validation">
<h2><a class="toc-backref" href="#id12">Video5 - Cross Validation</a></h2>
<p><a class="reference external" href="https://www.youtube.com/watch?v=84JSk36og34">https://www.youtube.com/watch?v=84JSk36og34</a></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Video5 - Cross Validation ----</span>


<span class="c1"># Before we jump into features engineering we need to establish a methodology</span>
<span class="c1"># for estimating our error rate on the test set (i.e., unseen data). This is</span>
<span class="c1"># critical, for without this we are more likely to overfit. Let&#39;s start with a</span>
<span class="c1"># submission of rf.5 to Kaggle to see if our OOB error estimate is accurate.</span>

<span class="c1"># Subset our test records and features</span>
test.submit.df <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">892</span><span class="o">:</span><span class="m">1309</span><span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;title&quot;</span><span class="p">,</span> <span class="s">&quot;family.size&quot;</span><span class="p">)]</span>

<span class="c1"># Make predictions</span>
rf.5.preds <span class="o">&lt;-</span> predict<span class="p">(</span>rf.5<span class="p">,</span> test.submit.df<span class="p">)</span>
<span class="kp">table</span><span class="p">(</span>rf.5.preds<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## rf.5.preds</span>
<span class="c1">##   0   1</span>
<span class="c1">## 258 160</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Write out a CSV file for submission to Kaggle</span>
submit.df <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>PassengerId <span class="o">=</span> <span class="kp">rep</span><span class="p">(</span><span class="m">892</span><span class="o">:</span><span class="m">1309</span><span class="p">),</span> Survived <span class="o">=</span> rf.5.preds<span class="p">)</span>

write.csv<span class="p">(</span>submit.df<span class="p">,</span> file <span class="o">=</span> <span class="s">&quot;RF_SUB_20160215_1.csv&quot;</span><span class="p">,</span> row.names <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>

<span class="c1"># Our submission scores 0.79426, but the OOB predicts that we should score 0.8159.</span>
<span class="c1"># Let&#39;s look into cross-validation using the caret package to see if we can get</span>
<span class="c1"># more accurate estimates</span>
<span class="kn">library</span><span class="p">(</span>caret<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Loading required package: lattice</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="kn">library</span><span class="p">(</span>doSNOW<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Warning: package &#39;doSNOW&#39; was built under R version 3.3.2</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Loading required package: foreach</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Loading required package: iterators</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Loading required package: snow</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Warning: package &#39;snow&#39; was built under R version 3.3.2</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Research has shown that 10-fold CV repeated 10 times is the best place to start,</span>
<span class="c1"># however there are no hard and fast rules - this is where the experience of the</span>
<span class="c1"># Data Scientist (i.e., the &quot;art&quot;) comes into play. We&#39;ll start with 10-fold CV,</span>
<span class="c1"># repeated 10 times and see how it goes.</span>


<span class="c1"># Leverage caret to create 100 total folds, but ensure that the ratio of those</span>
<span class="c1"># that survived and perished in each fold matches the overall training set. This</span>
<span class="c1"># is known as stratified cross validation and generally provides better results.</span>
<span class="kp">set.seed</span><span class="p">(</span><span class="m">2348</span><span class="p">)</span>
cv.10.folds <span class="o">&lt;-</span> createMultiFolds<span class="p">(</span>rf.label<span class="p">,</span> k <span class="o">=</span> <span class="m">10</span><span class="p">,</span> times <span class="o">=</span> <span class="m">10</span><span class="p">)</span>

<span class="c1"># Check stratification</span>
<span class="kp">table</span><span class="p">(</span>rf.label<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## rf.label</span>
<span class="c1">##   0   1</span>
<span class="c1">## 549 342</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="m">342</span> <span class="o">/</span> <span class="m">549</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.6229508</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="kp">table</span><span class="p">(</span>rf.label<span class="p">[</span>cv.10.folds<span class="p">[[</span><span class="m">33</span><span class="p">]]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">##   0   1</span>
<span class="c1">## 494 308</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="m">308</span> <span class="o">/</span> <span class="m">494</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.6234818</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Set up caret&#39;s trainControl object per above.</span>
ctrl.1 <span class="o">&lt;-</span> trainControl<span class="p">(</span>method <span class="o">=</span> <span class="s">&quot;repeatedcv&quot;</span><span class="p">,</span> number <span class="o">=</span> <span class="m">10</span><span class="p">,</span> repeats <span class="o">=</span> <span class="m">10</span><span class="p">,</span>
                       index <span class="o">=</span> cv.10.folds<span class="p">)</span>


<span class="c1"># Set up doSNOW package for multi-core training. This is helpful as we&#39;re going</span>
<span class="c1"># to be training a lot of trees.</span>
<span class="c1"># NOTE - This works on Windows and Mac, unlike doMC</span>
cl <span class="o">&lt;-</span> makeCluster<span class="p">(</span><span class="m">6</span><span class="p">,</span> type <span class="o">=</span> <span class="s">&quot;SOCK&quot;</span><span class="p">)</span>
registerDoSNOW<span class="p">(</span>cl<span class="p">)</span>


<span class="c1"># Set seed for reproducibility and train</span>
<span class="kp">set.seed</span><span class="p">(</span><span class="m">34324</span><span class="p">)</span>
rf.5.cv.1 <span class="o">&lt;-</span> train<span class="p">(</span>x <span class="o">=</span> rf.train.5<span class="p">,</span> y <span class="o">=</span> rf.label<span class="p">,</span> method <span class="o">=</span> <span class="s">&quot;rf&quot;</span><span class="p">,</span> tuneLength <span class="o">=</span> <span class="m">3</span><span class="p">,</span>
                   ntree <span class="o">=</span> <span class="m">1000</span><span class="p">,</span> trControl <span class="o">=</span> ctrl.1<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## note: only 2 unique complexity parameters in default grid. Truncating the grid to 2 .</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1">#Shutdown cluster</span>
stopCluster<span class="p">(</span>cl<span class="p">)</span>

<span class="c1"># Check out results</span>
rf.5.cv.1
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Random Forest</span>
<span class="c1">##</span>
<span class="c1">## 891 samples</span>
<span class="c1">##   3 predictor</span>
<span class="c1">##   2 classes: &#39;0&#39;, &#39;1&#39;</span>
<span class="c1">##</span>
<span class="c1">## No pre-processing</span>
<span class="c1">## Resampling: Cross-Validated (10 fold, repeated 10 times)</span>
<span class="c1">## Summary of sample sizes: 801, 802, 802, 803, 802, 801, ...</span>
<span class="c1">## Resampling results across tuning parameters:</span>
<span class="c1">##</span>
<span class="c1">##   mtry  Accuracy   Kappa</span>
<span class="c1">##   2     0.8121316  0.5929087</span>
<span class="c1">##   3     0.8089966  0.5852138</span>
<span class="c1">##</span>
<span class="c1">## Accuracy was used to select the optimal model using  the largest value.</span>
<span class="c1">## The final value used for the model was mtry = 2.</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># The above is only slightly more pessimistic than the rf.5 OOB prediction, but</span>
<span class="c1"># not pessimistic enough. Let&#39;s try 5-fold CV repeated 10 times.</span>
<span class="kp">set.seed</span><span class="p">(</span><span class="m">5983</span><span class="p">)</span>
cv.5.folds <span class="o">&lt;-</span> createMultiFolds<span class="p">(</span>rf.label<span class="p">,</span> k <span class="o">=</span> <span class="m">5</span><span class="p">,</span> times <span class="o">=</span> <span class="m">10</span><span class="p">)</span>

ctrl.2 <span class="o">&lt;-</span> trainControl<span class="p">(</span>method <span class="o">=</span> <span class="s">&quot;repeatedcv&quot;</span><span class="p">,</span> number <span class="o">=</span> <span class="m">5</span><span class="p">,</span> repeats <span class="o">=</span> <span class="m">10</span><span class="p">,</span>
                       index <span class="o">=</span> cv.5.folds<span class="p">)</span>

cl <span class="o">&lt;-</span> makeCluster<span class="p">(</span><span class="m">6</span><span class="p">,</span> type <span class="o">=</span> <span class="s">&quot;SOCK&quot;</span><span class="p">)</span>
registerDoSNOW<span class="p">(</span>cl<span class="p">)</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">89472</span><span class="p">)</span>
rf.5.cv.2 <span class="o">&lt;-</span> train<span class="p">(</span>x <span class="o">=</span> rf.train.5<span class="p">,</span> y <span class="o">=</span> rf.label<span class="p">,</span> method <span class="o">=</span> <span class="s">&quot;rf&quot;</span><span class="p">,</span> tuneLength <span class="o">=</span> <span class="m">3</span><span class="p">,</span>
                   ntree <span class="o">=</span> <span class="m">1000</span><span class="p">,</span> trControl <span class="o">=</span> ctrl.2<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## note: only 2 unique complexity parameters in default grid. Truncating the grid to 2 .</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1">#Shutdown cluster</span>
stopCluster<span class="p">(</span>cl<span class="p">)</span>

<span class="c1"># Check out results</span>
rf.5.cv.2
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Random Forest</span>
<span class="c1">##</span>
<span class="c1">## 891 samples</span>
<span class="c1">##   3 predictor</span>
<span class="c1">##   2 classes: &#39;0&#39;, &#39;1&#39;</span>
<span class="c1">##</span>
<span class="c1">## No pre-processing</span>
<span class="c1">## Resampling: Cross-Validated (5 fold, repeated 10 times)</span>
<span class="c1">## Summary of sample sizes: 713, 713, 713, 713, 712, 713, ...</span>
<span class="c1">## Resampling results across tuning parameters:</span>
<span class="c1">##</span>
<span class="c1">##   mtry  Accuracy   Kappa</span>
<span class="c1">##   2     0.8128009  0.5958137</span>
<span class="c1">##   3     0.8092105  0.5875778</span>
<span class="c1">##</span>
<span class="c1">## Accuracy was used to select the optimal model using  the largest value.</span>
<span class="c1">## The final value used for the model was mtry = 2.</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># 5-fold CV isn&#39;t better. Move to 3-fold CV repeated 10 times.</span>
<span class="kp">set.seed</span><span class="p">(</span><span class="m">37596</span><span class="p">)</span>
cv.3.folds <span class="o">&lt;-</span> createMultiFolds<span class="p">(</span>rf.label<span class="p">,</span> k <span class="o">=</span> <span class="m">3</span><span class="p">,</span> times <span class="o">=</span> <span class="m">10</span><span class="p">)</span>

ctrl.3 <span class="o">&lt;-</span> trainControl<span class="p">(</span>method <span class="o">=</span> <span class="s">&quot;repeatedcv&quot;</span><span class="p">,</span> number <span class="o">=</span> <span class="m">3</span><span class="p">,</span> repeats <span class="o">=</span> <span class="m">10</span><span class="p">,</span>
                       index <span class="o">=</span> cv.3.folds<span class="p">)</span>

cl <span class="o">&lt;-</span> makeCluster<span class="p">(</span><span class="m">6</span><span class="p">,</span> type <span class="o">=</span> <span class="s">&quot;SOCK&quot;</span><span class="p">)</span>
registerDoSNOW<span class="p">(</span>cl<span class="p">)</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">94622</span><span class="p">)</span>
rf.5.cv.3 <span class="o">&lt;-</span> train<span class="p">(</span>x <span class="o">=</span> rf.train.5<span class="p">,</span> y <span class="o">=</span> rf.label<span class="p">,</span> method <span class="o">=</span> <span class="s">&quot;rf&quot;</span><span class="p">,</span> tuneLength <span class="o">=</span> <span class="m">3</span><span class="p">,</span>
                   ntree <span class="o">=</span> <span class="m">64</span><span class="p">,</span> trControl <span class="o">=</span> ctrl.3<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## note: only 2 unique complexity parameters in default grid. Truncating the grid to 2 .</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1">#Shutdown cluster</span>
stopCluster<span class="p">(</span>cl<span class="p">)</span>

<span class="c1"># Check out results</span>
rf.5.cv.3
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Random Forest</span>
<span class="c1">##</span>
<span class="c1">## 891 samples</span>
<span class="c1">##   3 predictor</span>
<span class="c1">##   2 classes: &#39;0&#39;, &#39;1&#39;</span>
<span class="c1">##</span>
<span class="c1">## No pre-processing</span>
<span class="c1">## Resampling: Cross-Validated (3 fold, repeated 10 times)</span>
<span class="c1">## Summary of sample sizes: 594, 594, 594, 594, 594, 594, ...</span>
<span class="c1">## Resampling results across tuning parameters:</span>
<span class="c1">##</span>
<span class="c1">##   mtry  Accuracy   Kappa</span>
<span class="c1">##   2     0.8098765  0.5859242</span>
<span class="c1">##   3     0.8062851  0.5772994</span>
<span class="c1">##</span>
<span class="c1">## Accuracy was used to select the optimal model using  the largest value.</span>
<span class="c1">## The final value used for the model was mtry = 2.</span>
</pre></div>
</div>
</div>
<div class="section" id="video6-exploratory-modeling-2">
<h2><a class="toc-backref" href="#id13">Video6 - Exploratory Modeling 2</a></h2>
<p><a class="reference external" href="https://www.youtube.com/watch?v=2nNjvjeAO4s">https://www.youtube.com/watch?v=2nNjvjeAO4s</a></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Video6 - Exploratory Modeling 2 ----</span>

<span class="c1"># Let&#39;s use a single decision tree to better understand what&#39;s going on with our</span>
<span class="c1"># features. Obviously Random Forests are far more powerful than single trees,</span>
<span class="c1"># but single trees have the advantage of being easier to understand.</span>

<span class="c1"># Install and load packages</span>
<span class="c1">#install.packages(&quot;rpart&quot;)</span>
<span class="c1">#install.packages(&quot;rpart.plot&quot;)</span>
<span class="kn">library</span><span class="p">(</span>rpart<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>rpart.plot<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Warning: package &#39;rpart.plot&#39; was built under R version 3.3.2</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Per video #5, let&#39;s use 3-fold CV repeated 10 times</span>

<span class="c1"># Create utility function</span>
rpart.cv <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>seed<span class="p">,</span> training<span class="p">,</span> <span class="kp">labels</span><span class="p">,</span> ctrl<span class="p">)</span> <span class="p">{</span>
  cl <span class="o">&lt;-</span> makeCluster<span class="p">(</span><span class="m">6</span><span class="p">,</span> type <span class="o">=</span> <span class="s">&quot;SOCK&quot;</span><span class="p">)</span>
  registerDoSNOW<span class="p">(</span>cl<span class="p">)</span>

  <span class="kp">set.seed</span><span class="p">(</span>seed<span class="p">)</span>
  <span class="c1"># Leverage formula interface for training</span>
  rpart.cv <span class="o">&lt;-</span> train<span class="p">(</span>x <span class="o">=</span> training<span class="p">,</span> y <span class="o">=</span> <span class="kp">labels</span><span class="p">,</span> method <span class="o">=</span> <span class="s">&quot;rpart&quot;</span><span class="p">,</span> tuneLength <span class="o">=</span> <span class="m">30</span><span class="p">,</span>
                    trControl <span class="o">=</span> ctrl<span class="p">)</span>

  <span class="c1">#Shutdown cluster</span>
  stopCluster<span class="p">(</span>cl<span class="p">)</span>

  <span class="kr">return</span> <span class="p">(</span>rpart.cv<span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Grab features</span>
features <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;title&quot;</span><span class="p">,</span> <span class="s">&quot;family.size&quot;</span><span class="p">)</span>
rpart.train.1 <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> features<span class="p">]</span>

<span class="c1"># Run CV and check out results</span>
rpart.1.cv.1 <span class="o">&lt;-</span> rpart.cv<span class="p">(</span><span class="m">94622</span><span class="p">,</span> rpart.train.1<span class="p">,</span> rf.label<span class="p">,</span> ctrl.3<span class="p">)</span>
rpart.1.cv.1
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## CART</span>
<span class="c1">##</span>
<span class="c1">## 891 samples</span>
<span class="c1">##   3 predictor</span>
<span class="c1">##   2 classes: &#39;0&#39;, &#39;1&#39;</span>
<span class="c1">##</span>
<span class="c1">## No pre-processing</span>
<span class="c1">## Resampling: Cross-Validated (3 fold, repeated 10 times)</span>
<span class="c1">## Summary of sample sizes: 594, 594, 594, 594, 594, 594, ...</span>
<span class="c1">## Resampling results across tuning parameters:</span>
<span class="c1">##</span>
<span class="c1">##   cp          Accuracy   Kappa</span>
<span class="c1">##   0.00000000  0.8093154  0.5872691</span>
<span class="c1">##   0.01542650  0.8151515  0.6021814</span>
<span class="c1">##   0.03085299  0.8170595  0.6073245</span>
<span class="c1">##   0.04627949  0.8035915  0.5819021</span>
<span class="c1">##   0.06170599  0.7866442  0.5481020</span>
<span class="c1">##   0.07713249  0.7877666  0.5520131</span>
<span class="c1">##   0.09255898  0.7869809  0.5506934</span>
<span class="c1">##   0.10798548  0.7832772  0.5443564</span>
<span class="c1">##   0.12341198  0.7821549  0.5426317</span>
<span class="c1">##   0.13883848  0.7820426  0.5427793</span>
<span class="c1">##   0.15426497  0.7820426  0.5427793</span>
<span class="c1">##   0.16969147  0.7820426  0.5427793</span>
<span class="c1">##   0.18511797  0.7820426  0.5427793</span>
<span class="c1">##   0.20054446  0.7820426  0.5427793</span>
<span class="c1">##   0.21597096  0.7820426  0.5427793</span>
<span class="c1">##   0.23139746  0.7820426  0.5427793</span>
<span class="c1">##   0.24682396  0.7820426  0.5427793</span>
<span class="c1">##   0.26225045  0.7820426  0.5427793</span>
<span class="c1">##   0.27767695  0.7820426  0.5427793</span>
<span class="c1">##   0.29310345  0.7820426  0.5427793</span>
<span class="c1">##   0.30852995  0.7820426  0.5427793</span>
<span class="c1">##   0.32395644  0.7820426  0.5427793</span>
<span class="c1">##   0.33938294  0.7820426  0.5427793</span>
<span class="c1">##   0.35480944  0.7820426  0.5427793</span>
<span class="c1">##   0.37023593  0.7820426  0.5427793</span>
<span class="c1">##   0.38566243  0.7820426  0.5427793</span>
<span class="c1">##   0.40108893  0.7757576  0.5230281</span>
<span class="c1">##   0.41651543  0.7631874  0.4835751</span>
<span class="c1">##   0.43194192  0.7270483  0.3685616</span>
<span class="c1">##   0.44736842  0.6927048  0.2567765</span>
<span class="c1">##</span>
<span class="c1">## Accuracy was used to select the optimal model using  the largest value.</span>
<span class="c1">## The final value used for the model was cp = 0.03085299.</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Plot</span>
prp<span class="p">(</span>rpart.1.cv.1<span class="o">$</span>finalModel<span class="p">,</span> type <span class="o">=</span> <span class="m">0</span><span class="p">,</span> extra <span class="o">=</span> <span class="m">1</span><span class="p">,</span> under <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image25" src="../../_images/unnamed-chunk-15-1.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># The plot bring out some interesting lines of investigation. Namely:</span>
<span class="c1">#      1 - Titles of &quot;Mr.&quot; and &quot;Other&quot; are predicted to perish at an</span>
<span class="c1">#          overall accuracy rate of 83.2 %.</span>
<span class="c1">#      2 - Titles of &quot;Master.&quot;, &quot;Miss.&quot;, &amp; &quot;Mrs.&quot; in 1st &amp; 2nd class</span>
<span class="c1">#          are predicted to survive at an overall accuracy rate of 94.9%.</span>
<span class="c1">#      3 - Titles of &quot;Master.&quot;, &quot;Miss.&quot;, &amp; &quot;Mrs.&quot; in 3rd class with</span>
<span class="c1">#          family sizes equal to 5, 6, 8, &amp; 11 are predicted to perish</span>
<span class="c1">#          with 100% accuracy.</span>
<span class="c1">#      4 - Titles of &quot;Master.&quot;, &quot;Miss.&quot;, &amp; &quot;Mrs.&quot; in 3rd class with</span>
<span class="c1">#          family sizes not equal to 5, 6, 8, or 11 are predicted to</span>
<span class="c1">#          survive with 59.6% accuracy.</span>


<span class="c1"># Both rpart and rf confirm that title is important, let&#39;s investigate further</span>
<span class="kp">table</span><span class="p">(</span>data.combined<span class="o">$</span>title<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Master.   Miss.     Mr.    Mrs.   Other</span>
<span class="c1">##      61     260     758     199      31</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Parse out last name and title</span>
data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">25</span><span class="p">,</span> <span class="s">&quot;name&quot;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  [1] Braund, Mr. Owen Harris</span>
<span class="c1">##  [2] Cumings, Mrs. John Bradley (Florence Briggs Thayer)</span>
<span class="c1">##  [3] Heikkinen, Miss. Laina</span>
<span class="c1">##  [4] Futrelle, Mrs. Jacques Heath (Lily May Peel)</span>
<span class="c1">##  [5] Allen, Mr. William Henry</span>
<span class="c1">##  [6] Moran, Mr. James</span>
<span class="c1">##  [7] McCarthy, Mr. Timothy J</span>
<span class="c1">##  [8] Palsson, Master. Gosta Leonard</span>
<span class="c1">##  [9] Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)</span>
<span class="c1">## [10] Nasser, Mrs. Nicholas (Adele Achem)</span>
<span class="c1">## [11] Sandstrom, Miss. Marguerite Rut</span>
<span class="c1">## [12] Bonnell, Miss. Elizabeth</span>
<span class="c1">## [13] Saundercock, Mr. William Henry</span>
<span class="c1">## [14] Andersson, Mr. Anders Johan</span>
<span class="c1">## [15] Vestrom, Miss. Hulda Amanda Adolfina</span>
<span class="c1">## [16] Hewlett, Mrs. (Mary D Kingcome)</span>
<span class="c1">## [17] Rice, Master. Eugene</span>
<span class="c1">## [18] Williams, Mr. Charles Eugene</span>
<span class="c1">## [19] Vander Planke, Mrs. Julius (Emelia Maria Vandemoortele)</span>
<span class="c1">## [20] Masselmani, Mrs. Fatima</span>
<span class="c1">## [21] Fynney, Mr. Joseph J</span>
<span class="c1">## [22] Beesley, Mr. Lawrence</span>
<span class="c1">## [23] McGowan, Miss. Anna &quot;Annie&quot;</span>
<span class="c1">## [24] Sloper, Mr. William Thompson</span>
<span class="c1">## [25] Palsson, Miss. Torborg Danira</span>
<span class="c1">## 1307 Levels: Abbing, Mr. Anthony ... Zakarian, Mr. Ortin</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>name.splits <span class="o">&lt;-</span> str_split<span class="p">(</span>data.combined<span class="o">$</span>name<span class="p">,</span> <span class="s">&quot;,&quot;</span><span class="p">)</span>
name.splits<span class="p">[</span><span class="m">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [[1]]</span>
<span class="c1">## [1] &quot;Braund&quot;           &quot; Mr. Owen Harris&quot;</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>last.names <span class="o">&lt;-</span> <span class="kp">sapply</span><span class="p">(</span>name.splits<span class="p">,</span> <span class="s">&quot;[&quot;</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span>
last.names<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  [1] &quot;Braund&quot;    &quot;Cumings&quot;   &quot;Heikkinen&quot; &quot;Futrelle&quot;  &quot;Allen&quot;</span>
<span class="c1">##  [6] &quot;Moran&quot;     &quot;McCarthy&quot;  &quot;Palsson&quot;   &quot;Johnson&quot;   &quot;Nasser&quot;</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Add last names to dataframe in case we find it useful later</span>
data.combined<span class="o">$</span>last.name <span class="o">&lt;-</span> last.names

<span class="c1"># Now for titles</span>
name.splits <span class="o">&lt;-</span> str_split<span class="p">(</span><span class="kp">sapply</span><span class="p">(</span>name.splits<span class="p">,</span> <span class="s">&quot;[&quot;</span><span class="p">,</span> <span class="m">2</span><span class="p">),</span> <span class="s">&quot; &quot;</span><span class="p">)</span>
titles <span class="o">&lt;-</span> <span class="kp">sapply</span><span class="p">(</span>name.splits<span class="p">,</span> <span class="s">&quot;[&quot;</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>
<span class="kp">unique</span><span class="p">(</span>titles<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  [1] &quot;Mr.&quot;       &quot;Mrs.&quot;      &quot;Miss.&quot;     &quot;Master.&quot;   &quot;Don.&quot;</span>
<span class="c1">##  [6] &quot;Rev.&quot;      &quot;Dr.&quot;       &quot;Mme.&quot;      &quot;Ms.&quot;       &quot;Major.&quot;</span>
<span class="c1">## [11] &quot;Lady.&quot;     &quot;Sir.&quot;      &quot;Mlle.&quot;     &quot;Col.&quot;      &quot;Capt.&quot;</span>
<span class="c1">## [16] &quot;the&quot;       &quot;Jonkheer.&quot; &quot;Dona.&quot;</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># What&#39;s up with a title of &#39;the&#39;?</span>
data.combined<span class="p">[</span><span class="kp">which</span><span class="p">(</span>titles <span class="o">==</span> <span class="s">&quot;the&quot;</span><span class="p">),]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##     survived pclass</span>
<span class="c1">## 760        1      1</span>
<span class="c1">##                                                         name    sex age</span>
<span class="c1">## 760 Rothes, the Countess. of (Lucy Noel Martha Dyer-Edwards) female  33</span>
<span class="c1">##     sibsp parch ticket fare cabin embarked title family.size</span>
<span class="c1">## 760     0     0 110152 86.5   B77        S Other           1</span>
<span class="c1">##     ticket.first.char cabin.first.char cabin.multiple last.name</span>
<span class="c1">## 760                 1                B              N    Rothes</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Re-map titles to be more exact</span>
titles<span class="p">[</span>titles <span class="o">%in%</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Dona.&quot;</span><span class="p">,</span> <span class="s">&quot;the&quot;</span><span class="p">)]</span> <span class="o">&lt;-</span> <span class="s">&quot;Lady.&quot;</span>
titles<span class="p">[</span>titles <span class="o">%in%</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Ms.&quot;</span><span class="p">,</span> <span class="s">&quot;Mlle.&quot;</span><span class="p">)]</span> <span class="o">&lt;-</span> <span class="s">&quot;Miss.&quot;</span>
titles<span class="p">[</span>titles <span class="o">==</span> <span class="s">&quot;Mme.&quot;</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="s">&quot;Mrs.&quot;</span>
titles<span class="p">[</span>titles <span class="o">%in%</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Jonkheer.&quot;</span><span class="p">,</span> <span class="s">&quot;Don.&quot;</span><span class="p">)]</span> <span class="o">&lt;-</span> <span class="s">&quot;Sir.&quot;</span>
titles<span class="p">[</span>titles <span class="o">%in%</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Col.&quot;</span><span class="p">,</span> <span class="s">&quot;Capt.&quot;</span><span class="p">,</span> <span class="s">&quot;Major.&quot;</span><span class="p">)]</span> <span class="o">&lt;-</span> <span class="s">&quot;Officer&quot;</span>
<span class="kp">table</span><span class="p">(</span>titles<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## titles</span>
<span class="c1">##     Dr.   Lady. Master.   Miss.     Mr.    Mrs. Officer    Rev.    Sir.</span>
<span class="c1">##       8       3      61     264     757     198       7       8       3</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Make title a factor</span>
data.combined<span class="o">$</span>new.title <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>titles<span class="p">)</span>

<span class="c1"># Visualize new version of title</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> new.title<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span> pclass<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Surival Rates for new.title by pclass&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image26" src="../../_images/unnamed-chunk-15-2.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Collapse titles based on visual analysis</span>
indexes <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>new.title <span class="o">==</span> <span class="s">&quot;Lady.&quot;</span><span class="p">)</span>
data.combined<span class="o">$</span>new.title<span class="p">[</span>indexes<span class="p">]</span> <span class="o">&lt;-</span> <span class="s">&quot;Mrs.&quot;</span>

indexes <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>new.title <span class="o">==</span> <span class="s">&quot;Dr.&quot;</span> <span class="o">|</span>
                 data.combined<span class="o">$</span>new.title <span class="o">==</span> <span class="s">&quot;Rev.&quot;</span> <span class="o">|</span>
                 data.combined<span class="o">$</span>new.title <span class="o">==</span> <span class="s">&quot;Sir.&quot;</span> <span class="o">|</span>
                 data.combined<span class="o">$</span>new.title <span class="o">==</span> <span class="s">&quot;Officer&quot;</span><span class="p">)</span>
data.combined<span class="o">$</span>new.title<span class="p">[</span>indexes<span class="p">]</span> <span class="o">&lt;-</span> <span class="s">&quot;Mr.&quot;</span>

<span class="c1"># Visualize</span>
ggplot<span class="p">(</span>data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> new.title<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_bar<span class="p">()</span> <span class="o">+</span>
  facet_wrap<span class="p">(</span><span class="o">~</span> pclass<span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Surival Rates for Collapsed new.title by pclass&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image27" src="../../_images/unnamed-chunk-15-3.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Grab features</span>
features <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;new.title&quot;</span><span class="p">,</span> <span class="s">&quot;family.size&quot;</span><span class="p">)</span>
rpart.train.2 <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> features<span class="p">]</span>

<span class="c1"># Run CV and check out results</span>
rpart.2.cv.1 <span class="o">&lt;-</span> rpart.cv<span class="p">(</span><span class="m">94622</span><span class="p">,</span> rpart.train.2<span class="p">,</span> rf.label<span class="p">,</span> ctrl.3<span class="p">)</span>
rpart.2.cv.1
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## CART</span>
<span class="c1">##</span>
<span class="c1">## 891 samples</span>
<span class="c1">##   3 predictor</span>
<span class="c1">##   2 classes: &#39;0&#39;, &#39;1&#39;</span>
<span class="c1">##</span>
<span class="c1">## No pre-processing</span>
<span class="c1">## Resampling: Cross-Validated (3 fold, repeated 10 times)</span>
<span class="c1">## Summary of sample sizes: 594, 594, 594, 594, 594, 594, ...</span>
<span class="c1">## Resampling results across tuning parameters:</span>
<span class="c1">##</span>
<span class="c1">##   cp          Accuracy   Kappa</span>
<span class="c1">##   0.00000000  0.8178451  0.6047735</span>
<span class="c1">##   0.01582980  0.8261504  0.6252869</span>
<span class="c1">##   0.03165961  0.8280584  0.6303902</span>
<span class="c1">##   0.04748941  0.8145903  0.6049449</span>
<span class="c1">##   0.06331922  0.7936027  0.5633852</span>
<span class="c1">##   0.07914902  0.7947250  0.5672045</span>
<span class="c1">##   0.09497883  0.7939394  0.5658414</span>
<span class="c1">##   0.11080863  0.7929293  0.5641059</span>
<span class="c1">##   0.12663844  0.7924804  0.5634784</span>
<span class="c1">##   0.14246824  0.7923681  0.5635873</span>
<span class="c1">##   0.15829804  0.7923681  0.5635873</span>
<span class="c1">##   0.17412785  0.7923681  0.5635873</span>
<span class="c1">##   0.18995765  0.7923681  0.5635873</span>
<span class="c1">##   0.20578746  0.7923681  0.5635873</span>
<span class="c1">##   0.22161726  0.7923681  0.5635873</span>
<span class="c1">##   0.23744707  0.7923681  0.5635873</span>
<span class="c1">##   0.25327687  0.7923681  0.5635873</span>
<span class="c1">##   0.26910667  0.7923681  0.5635873</span>
<span class="c1">##   0.28493648  0.7923681  0.5635873</span>
<span class="c1">##   0.30076628  0.7923681  0.5635873</span>
<span class="c1">##   0.31659609  0.7923681  0.5635873</span>
<span class="c1">##   0.33242589  0.7923681  0.5635873</span>
<span class="c1">##   0.34825570  0.7923681  0.5635873</span>
<span class="c1">##   0.36408550  0.7923681  0.5635873</span>
<span class="c1">##   0.37991531  0.7923681  0.5635873</span>
<span class="c1">##   0.39574511  0.7923681  0.5635873</span>
<span class="c1">##   0.41157491  0.7923681  0.5635873</span>
<span class="c1">##   0.42740472  0.7719416  0.5013069</span>
<span class="c1">##   0.44323452  0.7271605  0.3617107</span>
<span class="c1">##   0.45906433  0.7025814  0.2840360</span>
<span class="c1">##</span>
<span class="c1">## Accuracy was used to select the optimal model using  the largest value.</span>
<span class="c1">## The final value used for the model was cp = 0.03165961.</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Plot</span>
prp<span class="p">(</span>rpart.2.cv.1<span class="o">$</span>finalModel<span class="p">,</span> type <span class="o">=</span> <span class="m">0</span><span class="p">,</span> extra <span class="o">=</span> <span class="m">1</span><span class="p">,</span> under <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image28" src="../../_images/unnamed-chunk-15-4.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Dive in on 1st class Mr.&quot;</span>
indexes.first.mr <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>new.title <span class="o">==</span> <span class="s">&quot;Mr.&quot;</span> <span class="o">&amp;</span> data.combined<span class="o">$</span>pclass <span class="o">==</span> <span class="s">&quot;1&quot;</span><span class="p">)</span>
first.mr.df <span class="o">&lt;-</span> data.combined<span class="p">[</span>indexes.first.mr<span class="p">,</span> <span class="p">]</span>
<span class="kp">summary</span><span class="p">(</span>first.mr.df<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  survived  pclass                                    name         sex</span>
<span class="c1">##  0   :77   1:175   Anderson, Mr. Harry                 :  1   female:  1</span>
<span class="c1">##  1   :43   2:  0   Andrews, Mr. Thomas Jr              :  1   male  :174</span>
<span class="c1">##  None:55   3:  0   Artagaveytia, Mr. Ramon             :  1</span>
<span class="c1">##                    Barkworth, Mr. Algernon Henry Wilson:  1</span>
<span class="c1">##                    Baumann, Mr. John D                 :  1</span>
<span class="c1">##                    Baxter, Mr. Quigg Edmond            :  1</span>
<span class="c1">##                    (Other)                             :169</span>
<span class="c1">##       age        sibsp       parch        ticket               fare</span>
<span class="c1">##  Min.   :17.00   0:122   0      :146   Length:175         Min.   :  0.00</span>
<span class="c1">##  1st Qu.:31.00   1: 50   1      : 21   Class :character   1st Qu.: 27.72</span>
<span class="c1">##  Median :42.00   2:  2   2      :  6   Mode  :character   Median : 45.50</span>
<span class="c1">##  Mean   :42.24   3:  1   3      :  1                      Mean   : 67.35</span>
<span class="c1">##  3rd Qu.:50.50   4:  0   4      :  1                      3rd Qu.: 78.07</span>
<span class="c1">##  Max.   :80.00   5:  0   5      :  0                      Max.   :512.33</span>
<span class="c1">##  NA&#39;s   :28      8:  0   (Other):  0</span>
<span class="c1">##     cabin           embarked     title      family.size  ticket.first.char</span>
<span class="c1">##  Length:175          :  0    Master.:  0   1      :109   1      :110</span>
<span class="c1">##  Class :character   C: 68    Miss.  :  0   2      : 45   P      : 45</span>
<span class="c1">##  Mode  :character   Q:  1    Mr.    :160   3      : 16   3      :  8</span>
<span class="c1">##                     S:106    Mrs.   :  0   4      :  2   6      :  4</span>
<span class="c1">##                              Other  : 15   6      :  2   2      :  3</span>
<span class="c1">##                                            5      :  1   F      :  2</span>
<span class="c1">##                                            (Other):  0   (Other):  3</span>
<span class="c1">##  cabin.first.char cabin.multiple  last.name           new.title</span>
<span class="c1">##  C      :47       N:162          Length:175         Mr.    :175</span>
<span class="c1">##  U      :44       Y: 13          Class :character   Dr.    :  0</span>
<span class="c1">##  B      :27                      Mode  :character   Lady.  :  0</span>
<span class="c1">##  D      :20                                         Master.:  0</span>
<span class="c1">##  E      :19                                         Miss.  :  0</span>
<span class="c1">##  A      :17                                         Mrs.   :  0</span>
<span class="c1">##  (Other): 1                                         (Other):  0</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># One female?</span>
first.mr.df<span class="p">[</span>first.mr.df<span class="o">$</span>sex <span class="o">==</span> <span class="s">&quot;female&quot;</span><span class="p">,]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##     survived pclass                        name    sex age sibsp parch</span>
<span class="c1">## 797        1      1 Leader, Dr. Alice (Farnham) female  49     0     0</span>
<span class="c1">##     ticket    fare cabin embarked title family.size ticket.first.char</span>
<span class="c1">## 797  17465 25.9292   D17        S Other           1                 1</span>
<span class="c1">##     cabin.first.char cabin.multiple last.name new.title</span>
<span class="c1">## 797                D              N    Leader       Mr.</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Update new.title feature</span>
indexes <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>new.title <span class="o">==</span> <span class="s">&quot;Mr.&quot;</span> <span class="o">&amp;</span>
                 data.combined<span class="o">$</span>sex <span class="o">==</span> <span class="s">&quot;female&quot;</span><span class="p">)</span>
data.combined<span class="o">$</span>new.title<span class="p">[</span>indexes<span class="p">]</span> <span class="o">&lt;-</span> <span class="s">&quot;Mrs.&quot;</span>

<span class="c1"># Any other gender slip ups?</span>
<span class="kp">length</span><span class="p">(</span><span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>sex <span class="o">==</span> <span class="s">&quot;female&quot;</span> <span class="o">&amp;</span>
             <span class="p">(</span>data.combined<span class="o">$</span>new.title <span class="o">==</span> <span class="s">&quot;Master.&quot;</span> <span class="o">|</span>
              data.combined<span class="o">$</span>new.title <span class="o">==</span> <span class="s">&quot;Mr.&quot;</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Refresh data frame</span>
indexes.first.mr <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>new.title <span class="o">==</span> <span class="s">&quot;Mr.&quot;</span> <span class="o">&amp;</span> data.combined<span class="o">$</span>pclass <span class="o">==</span> <span class="s">&quot;1&quot;</span><span class="p">)</span>
first.mr.df <span class="o">&lt;-</span> data.combined<span class="p">[</span>indexes.first.mr<span class="p">,</span> <span class="p">]</span>

<span class="c1"># Let&#39;s look at surviving 1st class &quot;Mr.&quot;</span>
<span class="kp">summary</span><span class="p">(</span>first.mr.df<span class="p">[</span>first.mr.df<span class="o">$</span>survived <span class="o">==</span> <span class="s">&quot;1&quot;</span><span class="p">,])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  survived  pclass                                        name</span>
<span class="c1">##  0   : 0   1:42   Anderson, Mr. Harry                      : 1</span>
<span class="c1">##  1   :42   2: 0   Barkworth, Mr. Algernon Henry Wilson     : 1</span>
<span class="c1">##  None: 0   3: 0   Beckwith, Mr. Richard Leonard            : 1</span>
<span class="c1">##                   Behr, Mr. Karl Howell                    : 1</span>
<span class="c1">##                   Bishop, Mr. Dickinson H                  : 1</span>
<span class="c1">##                   Bjornstrom-Steffansson, Mr. Mauritz Hakan: 1</span>
<span class="c1">##                   (Other)                                  :36</span>
<span class="c1">##      sex          age        sibsp      parch       ticket</span>
<span class="c1">##  female: 0   Min.   :17.00   0:28   0      :36   Length:42</span>
<span class="c1">##  male  :42   1st Qu.:28.00   1:13   1      : 4   Class :character</span>
<span class="c1">##              Median :36.00   2: 1   2      : 2   Mode  :character</span>
<span class="c1">##              Mean   :38.76   3: 0   3      : 0</span>
<span class="c1">##              3rd Qu.:48.00   4: 0   4      : 0</span>
<span class="c1">##              Max.   :80.00   5: 0   5      : 0</span>
<span class="c1">##              NA&#39;s   :5       8: 0   (Other): 0</span>
<span class="c1">##       fare           cabin           embarked     title     family.size</span>
<span class="c1">##  Min.   : 26.29   Length:42           : 0     Master.: 0   1      :25</span>
<span class="c1">##  1st Qu.: 27.34   Class :character   C:17     Miss.  : 0   2      :12</span>
<span class="c1">##  Median : 35.50   Mode  :character   Q: 0     Mr.    :38   3      : 4</span>
<span class="c1">##  Mean   : 71.55                      S:25     Mrs.   : 0   4      : 1</span>
<span class="c1">##  3rd Qu.: 73.39                               Other  : 4   5      : 0</span>
<span class="c1">##  Max.   :512.33                                            6      : 0</span>
<span class="c1">##                                                            (Other): 0</span>
<span class="c1">##  ticket.first.char cabin.first.char cabin.multiple  last.name</span>
<span class="c1">##  1      :30        C      :10       N:39           Length:42</span>
<span class="c1">##  P      :11        E      : 8       Y: 3           Class :character</span>
<span class="c1">##  2      : 1        B      : 7                      Mode  :character</span>
<span class="c1">##  3      : 0        D      : 6</span>
<span class="c1">##  4      : 0        U      : 6</span>
<span class="c1">##  5      : 0        A      : 5</span>
<span class="c1">##  (Other): 0        (Other): 0</span>
<span class="c1">##    new.title</span>
<span class="c1">##  Mr.    :42</span>
<span class="c1">##  Dr.    : 0</span>
<span class="c1">##  Lady.  : 0</span>
<span class="c1">##  Master.: 0</span>
<span class="c1">##  Miss.  : 0</span>
<span class="c1">##  Mrs.   : 0</span>
<span class="c1">##  (Other): 0</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>View<span class="p">(</span>first.mr.df<span class="p">[</span>first.mr.df<span class="o">$</span>survived <span class="o">==</span> <span class="s">&quot;1&quot;</span><span class="p">,])</span>

<span class="c1"># Take a look at some of the high fares</span>
indexes <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>ticket <span class="o">==</span> <span class="s">&quot;PC 17755&quot;</span> <span class="o">|</span>
                 data.combined<span class="o">$</span>ticket <span class="o">==</span> <span class="s">&quot;PC 17611&quot;</span> <span class="o">|</span>
                 data.combined<span class="o">$</span>ticket <span class="o">==</span> <span class="s">&quot;113760&quot;</span><span class="p">)</span>
View<span class="p">(</span>data.combined<span class="p">[</span>indexes<span class="p">,])</span>

<span class="c1"># Visualize survival rates for 1st class &quot;Mr.&quot; by fare</span>
ggplot<span class="p">(</span>first.mr.df<span class="p">,</span> aes<span class="p">(</span>x <span class="o">=</span> fare<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_density<span class="p">(</span>alpha <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;1st Class &#39;Mr.&#39; Survival Rates by fare&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image29" src="../../_images/unnamed-chunk-15-5.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Engineer features based on all the passengers with the same ticket</span>
ticket.party.size <span class="o">&lt;-</span> <span class="kp">rep</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="kp">nrow</span><span class="p">(</span>data.combined<span class="p">))</span>
avg.fare <span class="o">&lt;-</span> <span class="kp">rep</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span> <span class="kp">nrow</span><span class="p">(</span>data.combined<span class="p">))</span>
tickets <span class="o">&lt;-</span> <span class="kp">unique</span><span class="p">(</span>data.combined<span class="o">$</span>ticket<span class="p">)</span>

<span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="kp">length</span><span class="p">(</span>tickets<span class="p">))</span> <span class="p">{</span>
  current.ticket <span class="o">&lt;-</span> tickets<span class="p">[</span>i<span class="p">]</span>
  party.indexes <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>ticket <span class="o">==</span> current.ticket<span class="p">)</span>
  current.avg.fare <span class="o">&lt;-</span> data.combined<span class="p">[</span>party.indexes<span class="p">[</span><span class="m">1</span><span class="p">],</span> <span class="s">&quot;fare&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="kp">length</span><span class="p">(</span>party.indexes<span class="p">)</span>

  <span class="kr">for</span> <span class="p">(</span>k <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="kp">length</span><span class="p">(</span>party.indexes<span class="p">))</span> <span class="p">{</span>
    ticket.party.size<span class="p">[</span>party.indexes<span class="p">[</span>k<span class="p">]]</span> <span class="o">&lt;-</span> <span class="kp">length</span><span class="p">(</span>party.indexes<span class="p">)</span>
    avg.fare<span class="p">[</span>party.indexes<span class="p">[</span>k<span class="p">]]</span> <span class="o">&lt;-</span> current.avg.fare
  <span class="p">}</span>
<span class="p">}</span>

data.combined<span class="o">$</span>ticket.party.size <span class="o">&lt;-</span> ticket.party.size
data.combined<span class="o">$</span>avg.fare <span class="o">&lt;-</span> avg.fare

<span class="c1"># Refresh 1st class &quot;Mr.&quot; dataframe</span>
first.mr.df <span class="o">&lt;-</span> data.combined<span class="p">[</span>indexes.first.mr<span class="p">,</span> <span class="p">]</span>
<span class="kp">summary</span><span class="p">(</span>first.mr.df<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##  survived  pclass                                    name         sex</span>
<span class="c1">##  0   :77   1:174   Anderson, Mr. Harry                 :  1   female:  0</span>
<span class="c1">##  1   :42   2:  0   Andrews, Mr. Thomas Jr              :  1   male  :174</span>
<span class="c1">##  None:55   3:  0   Artagaveytia, Mr. Ramon             :  1</span>
<span class="c1">##                    Barkworth, Mr. Algernon Henry Wilson:  1</span>
<span class="c1">##                    Baumann, Mr. John D                 :  1</span>
<span class="c1">##                    Baxter, Mr. Quigg Edmond            :  1</span>
<span class="c1">##                    (Other)                             :168</span>
<span class="c1">##       age        sibsp       parch        ticket               fare</span>
<span class="c1">##  Min.   :17.00   0:121   0      :145   Length:174         Min.   :  0.00</span>
<span class="c1">##  1st Qu.:31.00   1: 50   1      : 21   Class :character   1st Qu.: 27.72</span>
<span class="c1">##  Median :42.00   2:  2   2      :  6   Mode  :character   Median : 46.30</span>
<span class="c1">##  Mean   :42.20   3:  1   3      :  1                      Mean   : 67.58</span>
<span class="c1">##  3rd Qu.:50.75   4:  0   4      :  1                      3rd Qu.: 78.46</span>
<span class="c1">##  Max.   :80.00   5:  0   5      :  0                      Max.   :512.33</span>
<span class="c1">##  NA&#39;s   :28      8:  0   (Other):  0</span>
<span class="c1">##     cabin           embarked     title      family.size  ticket.first.char</span>
<span class="c1">##  Length:174          :  0    Master.:  0   1      :108   1      :109</span>
<span class="c1">##  Class :character   C: 68    Miss.  :  0   2      : 45   P      : 45</span>
<span class="c1">##  Mode  :character   Q:  1    Mr.    :160   3      : 16   3      :  8</span>
<span class="c1">##                     S:105    Mrs.   :  0   4      :  2   6      :  4</span>
<span class="c1">##                              Other  : 14   6      :  2   2      :  3</span>
<span class="c1">##                                            5      :  1   F      :  2</span>
<span class="c1">##                                            (Other):  0   (Other):  3</span>
<span class="c1">##  cabin.first.char cabin.multiple  last.name           new.title</span>
<span class="c1">##  C      :47       N:161          Length:174         Mr.    :174</span>
<span class="c1">##  U      :44       Y: 13          Class :character   Dr.    :  0</span>
<span class="c1">##  B      :27                      Mode  :character   Lady.  :  0</span>
<span class="c1">##  D      :19                                         Master.:  0</span>
<span class="c1">##  E      :19                                         Miss.  :  0</span>
<span class="c1">##  A      :17                                         Mrs.   :  0</span>
<span class="c1">##  (Other): 1                                         (Other):  0</span>
<span class="c1">##  ticket.party.size    avg.fare</span>
<span class="c1">##  Min.   :1.000     Min.   :  0.00</span>
<span class="c1">##  1st Qu.:1.000     1st Qu.: 26.43</span>
<span class="c1">##  Median :1.500     Median : 29.29</span>
<span class="c1">##  Mean   :1.902     Mean   : 32.36</span>
<span class="c1">##  3rd Qu.:2.000     3rd Qu.: 37.59</span>
<span class="c1">##  Max.   :7.000     Max.   :128.08</span>
<span class="c1">##</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Visualize new features</span>
ggplot<span class="p">(</span>first.mr.df<span class="p">[</span>first.mr.df<span class="o">$</span>survived <span class="o">!=</span> <span class="s">&quot;None&quot;</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> ticket.party.size<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_density<span class="p">(</span>alpha <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Survival Rates 1st Class &#39;Mr.&#39; by ticket.party.size&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image30" src="../../_images/unnamed-chunk-15-6.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span>ggplot<span class="p">(</span>first.mr.df<span class="p">[</span>first.mr.df<span class="o">$</span>survived <span class="o">!=</span> <span class="s">&quot;None&quot;</span><span class="p">,],</span> aes<span class="p">(</span>x <span class="o">=</span> avg.fare<span class="p">,</span> fill <span class="o">=</span> survived<span class="p">))</span> <span class="o">+</span>
  geom_density<span class="p">(</span>alpha <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;Survival Rates 1st Class &#39;Mr.&#39; by avg.fare&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image31" src="../../_images/unnamed-chunk-15-7.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Hypothesis - ticket.party.size is highly correlated with avg.fare</span>
<span class="kp">summary</span><span class="p">(</span>data.combined<span class="o">$</span>avg.fare<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s</span>
<span class="c1">##    0.00    7.55    8.05   14.76   15.01  128.10       1</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># One missing value, take a look</span>
data.combined<span class="p">[</span><span class="kp">is.na</span><span class="p">(</span>data.combined<span class="o">$</span>avg.fare<span class="p">),</span> <span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##      survived pclass               name  sex  age sibsp parch ticket fare</span>
<span class="c1">## 1044     None      3 Storey, Mr. Thomas male 60.5     0     0   3701   NA</span>
<span class="c1">##      cabin embarked title family.size ticket.first.char cabin.first.char</span>
<span class="c1">## 1044     U        S   Mr.           1                 3                U</span>
<span class="c1">##      cabin.multiple last.name new.title ticket.party.size avg.fare</span>
<span class="c1">## 1044              N    Storey       Mr.                 1       NA</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Get records for similar passengers and summarize avg.fares</span>
indexes <span class="o">&lt;-</span> <span class="kp">with</span><span class="p">(</span>data.combined<span class="p">,</span> <span class="kp">which</span><span class="p">(</span>pclass <span class="o">==</span> <span class="s">&quot;3&quot;</span> <span class="o">&amp;</span> title <span class="o">==</span> <span class="s">&quot;Mr.&quot;</span> <span class="o">&amp;</span> family.size <span class="o">==</span> <span class="m">1</span> <span class="o">&amp;</span>
                                     ticket <span class="o">!=</span> <span class="s">&quot;3701&quot;</span><span class="p">))</span>
similar.na.passengers <span class="o">&lt;-</span> data.combined<span class="p">[</span>indexes<span class="p">,]</span>
<span class="kp">summary</span><span class="p">(</span>similar.na.passengers<span class="o">$</span>avg.fare<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span>
<span class="c1">##   0.000   7.250   7.840   7.717   8.050  10.170</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Use median since close to mean and a little higher than mean</span>
data.combined<span class="p">[</span><span class="kp">is.na</span><span class="p">(</span>avg.fare<span class="p">),</span> <span class="s">&quot;avg.fare&quot;</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="m">7.840</span>

<span class="c1"># Leverage caret&#39;s preProcess function to normalize data</span>
preproc.data.combined <span class="o">&lt;-</span> data.combined<span class="p">[,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;ticket.party.size&quot;</span><span class="p">,</span> <span class="s">&quot;avg.fare&quot;</span><span class="p">)]</span>
preProc <span class="o">&lt;-</span> preProcess<span class="p">(</span>preproc.data.combined<span class="p">,</span> method <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;center&quot;</span><span class="p">,</span> <span class="s">&quot;scale&quot;</span><span class="p">))</span>

postproc.data.combined <span class="o">&lt;-</span> predict<span class="p">(</span>preProc<span class="p">,</span> preproc.data.combined<span class="p">)</span>

<span class="c1"># Hypothesis refuted for all data</span>
cor<span class="p">(</span>postproc.data.combined<span class="o">$</span>ticket.party.size<span class="p">,</span> postproc.data.combined<span class="o">$</span>avg.fare<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.09428625</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># How about for just 1st class all-up?</span>
indexes <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span>data.combined<span class="o">$</span>pclass <span class="o">==</span> <span class="s">&quot;1&quot;</span><span class="p">)</span>
cor<span class="p">(</span>postproc.data.combined<span class="o">$</span>ticket.party.size<span class="p">[</span>indexes<span class="p">],</span>
    postproc.data.combined<span class="o">$</span>avg.fare<span class="p">[</span>indexes<span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.2576249</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Hypothesis refuted again</span>


<span class="c1"># OK, let&#39;s see if our feature engineering has made any difference</span>
features <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;new.title&quot;</span><span class="p">,</span> <span class="s">&quot;family.size&quot;</span><span class="p">,</span> <span class="s">&quot;ticket.party.size&quot;</span><span class="p">,</span> <span class="s">&quot;avg.fare&quot;</span><span class="p">)</span>
rpart.train.3 <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> features<span class="p">]</span>

<span class="c1"># Run CV and check out results</span>
rpart.3.cv.1 <span class="o">&lt;-</span> rpart.cv<span class="p">(</span><span class="m">94622</span><span class="p">,</span> rpart.train.3<span class="p">,</span> rf.label<span class="p">,</span> ctrl.3<span class="p">)</span>
rpart.3.cv.1
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## CART</span>
<span class="c1">##</span>
<span class="c1">## 891 samples</span>
<span class="c1">##   5 predictor</span>
<span class="c1">##   2 classes: &#39;0&#39;, &#39;1&#39;</span>
<span class="c1">##</span>
<span class="c1">## No pre-processing</span>
<span class="c1">## Resampling: Cross-Validated (3 fold, repeated 10 times)</span>
<span class="c1">## Summary of sample sizes: 594, 594, 594, 594, 594, 594, ...</span>
<span class="c1">## Resampling results across tuning parameters:</span>
<span class="c1">##</span>
<span class="c1">##   cp          Accuracy   Kappa</span>
<span class="c1">##   0.00000000  0.8214366  0.6170703</span>
<span class="c1">##   0.01593063  0.8315376  0.6352241</span>
<span class="c1">##   0.03186126  0.8305275  0.6336075</span>
<span class="c1">##   0.04779189  0.8157127  0.6070448</span>
<span class="c1">##   0.06372252  0.7965208  0.5710962</span>
<span class="c1">##   0.07965316  0.7958474  0.5698216</span>
<span class="c1">##   0.09558379  0.7950617  0.5684585</span>
<span class="c1">##   0.11151442  0.7940516  0.5667230</span>
<span class="c1">##   0.12744505  0.7936027  0.5660955</span>
<span class="c1">##   0.14337568  0.7934905  0.5662044</span>
<span class="c1">##   0.15930631  0.7934905  0.5662044</span>
<span class="c1">##   0.17523694  0.7934905  0.5662044</span>
<span class="c1">##   0.19116757  0.7934905  0.5662044</span>
<span class="c1">##   0.20709821  0.7934905  0.5662044</span>
<span class="c1">##   0.22302884  0.7934905  0.5662044</span>
<span class="c1">##   0.23895947  0.7934905  0.5662044</span>
<span class="c1">##   0.25489010  0.7934905  0.5662044</span>
<span class="c1">##   0.27082073  0.7934905  0.5662044</span>
<span class="c1">##   0.28675136  0.7934905  0.5662044</span>
<span class="c1">##   0.30268199  0.7934905  0.5662044</span>
<span class="c1">##   0.31861262  0.7934905  0.5662044</span>
<span class="c1">##   0.33454325  0.7934905  0.5662044</span>
<span class="c1">##   0.35047389  0.7934905  0.5662044</span>
<span class="c1">##   0.36640452  0.7934905  0.5662044</span>
<span class="c1">##   0.38233515  0.7934905  0.5662044</span>
<span class="c1">##   0.39826578  0.7934905  0.5662044</span>
<span class="c1">##   0.41419641  0.7934905  0.5662044</span>
<span class="c1">##   0.43012704  0.7730640  0.5039239</span>
<span class="c1">##   0.44605767  0.7534231  0.4431483</span>
<span class="c1">##   0.46198830  0.6858586  0.2299565</span>
<span class="c1">##</span>
<span class="c1">## Accuracy was used to select the optimal model using  the largest value.</span>
<span class="c1">## The final value used for the model was cp = 0.01593063.</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Plot</span>
prp<span class="p">(</span>rpart.3.cv.1<span class="o">$</span>finalModel<span class="p">,</span> type <span class="o">=</span> <span class="m">0</span><span class="p">,</span> extra <span class="o">=</span> <span class="m">1</span><span class="p">,</span> under <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image32" src="../../_images/unnamed-chunk-15-8.png" /></p>
</div>
<div class="section" id="video7-submitting-scoring-and-some-analysis">
<h2><a class="toc-backref" href="#id14">Video7 Submitting, scoring, and some analysis</a></h2>
<p><a class="reference external" href="https://www.youtube.com/watch?v=fuB7s19g3nQ">https://www.youtube.com/watch?v=fuB7s19g3nQ</a></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Video7 Submitting, scoring, and some analysis ----</span>

<span class="c1">#</span>
<span class="c1"># Rpart scores 0.80383</span>
<span class="c1">#</span>
<span class="c1"># Subset our test records and features</span>
test.submit.df <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">892</span><span class="o">:</span><span class="m">1309</span><span class="p">,</span> features<span class="p">]</span>

<span class="c1"># Make predictions</span>
rpart.3.preds <span class="o">&lt;-</span> predict<span class="p">(</span>rpart.3.cv.1<span class="o">$</span>finalModel<span class="p">,</span> test.submit.df<span class="p">,</span> type <span class="o">=</span> <span class="s">&quot;class&quot;</span><span class="p">)</span>
<span class="kp">table</span><span class="p">(</span>rpart.3.preds<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## rpart.3.preds</span>
<span class="c1">##   0   1</span>
<span class="c1">## 266 152</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Write out a CSV file for submission to Kaggle</span>
submit.df <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>PassengerId <span class="o">=</span> <span class="kp">rep</span><span class="p">(</span><span class="m">892</span><span class="o">:</span><span class="m">1309</span><span class="p">),</span> Survived <span class="o">=</span> rpart.3.preds<span class="p">)</span>

write.csv<span class="p">(</span>submit.df<span class="p">,</span> file <span class="o">=</span> <span class="s">&quot;RPART_SUB_20160619_1.csv&quot;</span><span class="p">,</span> row.names <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>


<span class="c1">#</span>
<span class="c1"># Random forest scores 0.80861</span>
<span class="c1">#</span>
features <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;pclass&quot;</span><span class="p">,</span> <span class="s">&quot;new.title&quot;</span><span class="p">,</span> <span class="s">&quot;ticket.party.size&quot;</span><span class="p">,</span> <span class="s">&quot;avg.fare&quot;</span><span class="p">)</span>
rf.train.temp <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> features<span class="p">]</span>

<span class="kp">set.seed</span><span class="p">(</span><span class="m">1234</span><span class="p">)</span>
rf.temp <span class="o">&lt;-</span> randomForest<span class="p">(</span>x <span class="o">=</span> rf.train.temp<span class="p">,</span> y <span class="o">=</span> rf.label<span class="p">,</span> ntree <span class="o">=</span> <span class="m">1000</span><span class="p">)</span>
rf.temp
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Call:</span>
<span class="c1">##  randomForest(x = rf.train.temp, y = rf.label, ntree = 1000)</span>
<span class="c1">##                Type of random forest: classification</span>
<span class="c1">##                      Number of trees: 1000</span>
<span class="c1">## No. of variables tried at each split: 2</span>
<span class="c1">##</span>
<span class="c1">##         OOB estimate of  error rate: 16.16%</span>
<span class="c1">## Confusion matrix:</span>
<span class="c1">##     0   1 class.error</span>
<span class="c1">## 0 502  47   0.0856102</span>
<span class="c1">## 1  97 245   0.2836257</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>test.submit.df <span class="o">&lt;-</span> data.combined<span class="p">[</span><span class="m">892</span><span class="o">:</span><span class="m">1309</span><span class="p">,</span> features<span class="p">]</span>

<span class="c1"># Make predictions</span>
rf.preds <span class="o">&lt;-</span> predict<span class="p">(</span>rf.temp<span class="p">,</span> test.submit.df<span class="p">)</span>
<span class="kp">table</span><span class="p">(</span>rf.preds<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## rf.preds</span>
<span class="c1">##   0   1</span>
<span class="c1">## 265 153</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Write out a CSV file for submission to Kaggle</span>
submit.df <span class="o">&lt;-</span> <span class="kt">data.frame</span><span class="p">(</span>PassengerId <span class="o">=</span> <span class="kp">rep</span><span class="p">(</span><span class="m">892</span><span class="o">:</span><span class="m">1309</span><span class="p">),</span> Survived <span class="o">=</span> rf.preds<span class="p">)</span>

write.csv<span class="p">(</span>submit.df<span class="p">,</span> file <span class="o">=</span> <span class="s">&quot;RF_SUB_20160619_1.csv&quot;</span><span class="p">,</span> row.names <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>



<span class="c1">#</span>
<span class="c1"># If we want to improve our model, a good place to start is focusing on where it</span>
<span class="c1"># gets things wrong!</span>
<span class="c1">#</span>


<span class="c1"># First, let&#39;s explore our collection of features using mutual information to</span>
<span class="c1"># gain some additional insight. Our intuition is that the plot of our tree</span>
<span class="c1"># should align well to the definition of mutual information.</span>
<span class="c1">#install.packages(&quot;infotheo&quot;)</span>
<span class="kn">library</span><span class="p">(</span>infotheo<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Warning: package &#39;infotheo&#39; was built under R version 3.3.2</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="o">$</span>pclass<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.05810725</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="o">$</span>sex<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.1508705</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="o">$</span>sibsp<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.02319709</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="o">$</span>parch<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.01636558</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> discretize<span class="p">(</span>data.combined<span class="o">$</span>fare<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.06616096</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="o">$</span>embarked<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.01666817</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="o">$</span>title<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.1661094</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="o">$</span>family.size<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.04778124</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="o">$</span>ticket.first.char<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.0686185</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="o">$</span>cabin.multiple<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.002248365</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="o">$</span>new.title<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.1710514</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="o">$</span>ticket.party.size<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.05860494</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>mutinformation<span class="p">(</span>rf.label<span class="p">,</span> discretize<span class="p">(</span>data.combined<span class="o">$</span>avg.fare<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.05206484</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># OK, now let&#39;s leverage the tsne algorithm to create a 2-D representation of our data</span>
<span class="c1"># suitable for visualization starting with folks our model gets right very often - folks</span>
<span class="c1"># with titles other than &#39;Mr.&quot;</span>
<span class="c1">#install.packages(&quot;Rtsne&quot;)</span>
<span class="kn">library</span><span class="p">(</span>Rtsne<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## Warning: package &#39;Rtsne&#39; was built under R version 3.3.2</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span>most.correct <span class="o">&lt;-</span> data.combined<span class="p">[</span>data.combined<span class="o">$</span>new.title <span class="o">!=</span> <span class="s">&quot;Mr.&quot;</span><span class="p">,]</span>
indexes <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span>most.correct<span class="o">$</span>survived <span class="o">!=</span> <span class="s">&quot;None&quot;</span><span class="p">)</span>


<span class="c1"># NOTE - Bug fix for original version. Rtsne needs a seed to ensure consistent</span>
<span class="c1"># output between runs.</span>
<span class="kp">set.seed</span><span class="p">(</span><span class="m">984357</span><span class="p">)</span>
tsne.1 <span class="o">&lt;-</span> Rtsne<span class="p">(</span>most.correct<span class="p">[,</span> features<span class="p">],</span> check_duplicates <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
ggplot<span class="p">(</span><span class="kc">NULL</span><span class="p">,</span> aes<span class="p">(</span>x <span class="o">=</span> tsne.1<span class="o">$</span>Y<span class="p">[</span>indexes<span class="p">,</span> <span class="m">1</span><span class="p">],</span> y <span class="o">=</span> tsne.1<span class="o">$</span>Y<span class="p">[</span>indexes<span class="p">,</span> <span class="m">2</span><span class="p">],</span>
                 color <span class="o">=</span> most.correct<span class="o">$</span>survived<span class="p">[</span>indexes<span class="p">]))</span> <span class="o">+</span>
  geom_point<span class="p">()</span> <span class="o">+</span>
  labs<span class="p">(</span>color <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;tsne 2D Visualization of Features for new.title Other than &#39;Mr.&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image33" src="../../_images/unnamed-chunk-16-1.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># To get a baseline, let&#39;s use conditional mutual information on the tsne X and</span>
<span class="c1"># Y features for females and boys in 1st and 2nd class. The intuition here is that</span>
<span class="c1"># the combination of these features should be higher than any individual feature</span>
<span class="c1"># we looked at above.</span>
condinformation<span class="p">(</span>most.correct<span class="o">$</span>survived<span class="p">[</span>indexes<span class="p">],</span> discretize<span class="p">(</span>tsne.1<span class="o">$</span>Y<span class="p">[</span>indexes<span class="p">,]))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.2579789</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># As one more comparison, we can leverage conditional mutual information using</span>
<span class="c1"># the top two features used in our tree plot - new.title and pclass</span>
condinformation<span class="p">(</span>rf.label<span class="p">,</span> data.combined<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;new.title&quot;</span><span class="p">,</span> <span class="s">&quot;pclass&quot;</span><span class="p">)])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.2506932</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># OK, now let&#39;s take a look at adult males since our model has the biggest</span>
<span class="c1"># potential upside for improving (i.e., the tree predicts incorrectly for 86</span>
<span class="c1"># adult males). Let&#39;s visualize with tsne.</span>
misters <span class="o">&lt;-</span> data.combined<span class="p">[</span>data.combined<span class="o">$</span>new.title <span class="o">==</span> <span class="s">&quot;Mr.&quot;</span><span class="p">,]</span>
indexes <span class="o">&lt;-</span> <span class="kp">which</span><span class="p">(</span>misters<span class="o">$</span>survived <span class="o">!=</span> <span class="s">&quot;None&quot;</span><span class="p">)</span>

tsne.2 <span class="o">&lt;-</span> Rtsne<span class="p">(</span>misters<span class="p">[,</span> features<span class="p">],</span> check_duplicates <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
ggplot<span class="p">(</span><span class="kc">NULL</span><span class="p">,</span> aes<span class="p">(</span>x <span class="o">=</span> tsne.2<span class="o">$</span>Y<span class="p">[</span>indexes<span class="p">,</span> <span class="m">1</span><span class="p">],</span> y <span class="o">=</span> tsne.2<span class="o">$</span>Y<span class="p">[</span>indexes<span class="p">,</span> <span class="m">2</span><span class="p">],</span>
                 color <span class="o">=</span> misters<span class="o">$</span>survived<span class="p">[</span>indexes<span class="p">]))</span> <span class="o">+</span>
  geom_point<span class="p">()</span> <span class="o">+</span>
  labs<span class="p">(</span>color <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;tsne 2D Visualization of Features for new.title of &#39;Mr.&#39;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image34" src="../../_images/unnamed-chunk-16-2.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Now conditional mutual information for tsne features for adult males</span>
condinformation<span class="p">(</span>misters<span class="o">$</span>survived<span class="p">[</span>indexes<span class="p">],</span> discretize<span class="p">(</span>tsne.2<span class="o">$</span>Y<span class="p">[</span>indexes<span class="p">,]))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.07556394</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1">#</span>
<span class="c1"># Idea - How about creating tsne featues for all of the training data and</span>
<span class="c1"># using them in our model?</span>
<span class="c1">#</span>
tsne.3 <span class="o">&lt;-</span> Rtsne<span class="p">(</span>data.combined<span class="p">[,</span> features<span class="p">],</span> check_duplicates <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
ggplot<span class="p">(</span><span class="kc">NULL</span><span class="p">,</span> aes<span class="p">(</span>x <span class="o">=</span> tsne.3<span class="o">$</span>Y<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> <span class="m">1</span><span class="p">],</span> y <span class="o">=</span> tsne.3<span class="o">$</span>Y<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,</span> <span class="m">2</span><span class="p">],</span>
                 color <span class="o">=</span> data.combined<span class="o">$</span>survived<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">]))</span> <span class="o">+</span>
  geom_point<span class="p">()</span> <span class="o">+</span>
  labs<span class="p">(</span>color <span class="o">=</span> <span class="s">&quot;Survived&quot;</span><span class="p">)</span> <span class="o">+</span>
  ggtitle<span class="p">(</span><span class="s">&quot;tsne 2D Visualization of Features for all Training Data&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><img alt="image35" src="../../_images/unnamed-chunk-16-3.png" /></p>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Now conditional mutual information for tsne features for all training</span>
condinformation<span class="p">(</span>data.combined<span class="o">$</span>survived<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">],</span> discretize<span class="p">(</span>tsne.3<span class="o">$</span>Y<span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">891</span><span class="p">,]))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">## [1] 0.2135174</span>
</pre></div>
</div>
<div class="highlight-R"><div class="highlight"><pre><span></span><span class="c1"># Add the tsne features to our data frame for use in model building</span>
data.combined<span class="o">$</span>tsne.x <span class="o">&lt;-</span> tsne.3<span class="o">$</span>Y<span class="p">[,</span><span class="m">1</span><span class="p">]</span>
data.combined<span class="o">$</span>tsne.y <span class="o">&lt;-</span> tsne.3<span class="o">$</span>Y<span class="p">[,</span><span class="m">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../R-ISL/R-ISL.html" class="btn btn-neutral float-right" title="R - Labs from ISL (R-ISL)" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../demo_image.html" class="btn btn-neutral" title="image and heatmap try" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      Last updated on Nov 23, 2016.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>